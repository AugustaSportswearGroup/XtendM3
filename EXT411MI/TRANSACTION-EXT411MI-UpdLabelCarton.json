{"programModules":{"EXT411MI":{"program":"EXT411MI","triggers":{},"transactions":{"UpdLabelCarton":{"sourceUuid":"dcfb4a80-c57a-4ba4-95f5-6706235551fb","name":"UpdLabelCarton","program":"EXT411MI","description":"Update Label Carton information","active":true,"multi":false,"modified":1693468518393,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"RCID","description":"Route Carton ID","length":15,"mandatory":true,"type":"A"},{"name":"RIDN","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"CSID","description":"Case ID","length":18,"mandatory":true,"type":"A"},{"name":"BXNO","description":"Box Number","length":4,"mandatory":true,"type":"N"},{"name":"LNAM","description":"Label Name","length":8,"mandatory":false,"type":"A"},{"name":"ROSS","description":"Label Parm Across","length":2,"mandatory":false,"type":"N"},{"name":"LDEV","description":"Label DEV Print","length":10,"mandatory":false,"type":"A"},{"name":"LQTY","description":"Label Quantity","length":4,"mandatory":false,"type":"N"},{"name":"MAND","description":"Label Parm Demand","length":1,"mandatory":false,"type":"A"},{"name":"MDTA","description":"Label Parm Demand","length":24,"mandatory":false,"type":"A"},{"name":"RSET","description":"Label Parm Perset","length":4,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"dcfb4a80-c57a-4ba4-95f5-6706235551fb":{"uuid":"dcfb4a80-c57a-4ba4-95f5-6706235551fb","updated":1699979214567,"updatedBy":"M3CONSADMX","created":1693468251447,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230822184312.7","language":"GROOVY","codeHash":"10E2B965EF16ECD3084382D94A4BE5E56F5D004FEA9D364FDAC52A9079C732E8","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFNMQiB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxMU1JLlVwZExhYmVsQ2FydG9uCiAqIERlc2NyaXB0aW9uOiBVcGRhdGluZyByZWNvcmRzIHRvIEVYVFNMQiB0YWJsZQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDgzMSAgU3VyaXlhTkBmb3J0dWRlLmNvICAgIFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUU0xCIHRhYmxlCiAqCiAqLwoKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyCgpwdWJsaWMgY2xhc3MgVXBkTGFiZWxDYXJ0b24gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVdITE8sIGlSQ0lELCBpUklETiwgaUNTSUQsIGlMTkFNLCBpTERFViwgaU1BTkQsIGlNRFRBCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIGlCWE5PLCBpUk9TUywgaUxRVFksIGlSU0VUCiAgcHJpdmF0ZSBsb25nIGlETElYCiAgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQogIAogIHB1YmxpYyBVcGRMYWJlbENhcnRvbihNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlESVZJID0gKG1pLmluRGF0YS5nZXQoIkRJVkkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuRElWSSA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKQogICAgaVdITE8gPSAobWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJXSExPIikKICAgIGlSQ0lEID0gKG1pLmluRGF0YS5nZXQoIlJDSUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJDSUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUkNJRCIpCiAgICBpUklETiA9IChtaS5pbkRhdGEuZ2V0KCJSSUROIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJSSUROIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJJRE4iKQogICAgaUNTSUQgPSAobWkuaW5EYXRhLmdldCgiQ1NJRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1NJRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDU0lEIikKICAgIGlMTkFNID0gKG1pLmluRGF0YS5nZXQoIkxOQU0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkxOQU0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTE5BTSIpCiAgICBpTERFViA9IChtaS5pbkRhdGEuZ2V0KCJMREVWIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMREVWIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxERVYiKQogICAgaU1BTkQgPSAobWkuaW5EYXRhLmdldCgiTUFORCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTUFORCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJNQU5EIikKICAgIGlNRFRBID0gKG1pLmluRGF0YS5nZXQoIk1EVEEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk1EVEEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTURUQSIpCgogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaURMSVggPSAobWkuaW5EYXRhLmdldCgiRExJWCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkRMSVgiKSBhcyBMb25nCiAgICBpQlhOTyA9IChtaS5pbkRhdGEuZ2V0KCJCWE5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCWE5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiQlhOTyIpIGFzIEludGVnZXIKICAgIGlST1NTID0gKG1pLmluRGF0YS5nZXQoIlJPU1MiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJPU1MiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJST1NTIikgYXMgSW50ZWdlcgogICAgaUxRVFkgPSAobWkuaW5EYXRhLmdldCgiTFFUWSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTFFUWSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkxRVFkiKSBhcyBJbnRlZ2VyCiAgICBpUlNFVCA9IChtaS5pbkRhdGEuZ2V0KCJSU0VUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJSU0VUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUlNFVCIpIGFzIEludGVnZXIKICAgIAogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KQogICAgewogICAgICAgdXBkYXRlUmVjb3JkKCkKICAgIH0KICAgCiAgfQogIAogICAgICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgdmFsaWRhdGVJbnB1dCgpIHsKICAKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICBpZighaVJJRE4udHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJPUk5PIjogaVJJRE4udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIAogICAgIC8vSWYgbm90IENPLCBjaGVjayBpZiB2YWxpZCBETwogICAgICBpZighdmFsaWRJbnB1dCkKICAgICAgewogICAgICAgIHZhbGlkSW5wdXQgPSB0cnVlCiAgICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJUUk5SIjogaVJJRE4udG9TdHJpbmcoKS50cmltKCldCiAgICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5UUk5SID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBpUklETikKICAgICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMTAwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICAgIH0KICAgIH0KICAgIAogICAgaWYoaURMSVghPTApCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRGVsaXZlcnkgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJETElYIjppRExJWC50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5ETElYID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGVsaXZlcnkgTnVtYmVyICIgKyBpRExJWCkKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CiAgICAKICAgIGlmKCFpV0hMTy50cmltKCkuaXNFbXB0eSgpKQogICAgewogICAgICAvL1ZhbGlkYXRlIFdhcmVob3VzZSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIldITE8iOmlXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBpV0hMTykKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAwNU1JIiwgIkdldFdhcmVob3VzZSIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CgoKICB9CiAgLyoqCiAgICpVcGRhdGUgcmVjb3JkcyB0byBFWFRTTEIgdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHVwZGF0ZVJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFNMQiIpLnNlbGVjdGlvbigiRVhDSE5PIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkVYRElWSSIsIGlESVZJKQogICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pCiAgICBjb250YWluZXIuc2V0KCJFWFJDSUQiLCBpUkNJRCkKICAgIGNvbnRhaW5lci5zZXQoIkVYQ1NJRCIsIGlDU0lEKQogICAgY29udGFpbmVyLnNldCgiRVhCWE5PIiwgaUJYTk8pCiAgICBpZiAocXVlcnkucmVhZChjb250YWluZXIpKSB7CiAgICAgIHF1ZXJ5LnJlYWRMb2NrKGNvbnRhaW5lciwgdXBkYXRlQ2FsbEJhY2spCiAgICB9IGVsc2UgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiB1cGRhdGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgIGludCBDSE5PID0gbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikKICAgIGlmICghaURJVkkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaURJVkkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhESVZJIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhESVZJIiwgaURJVkkpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVdITE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVdITE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhXSExPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhXSExPIiwgaVdITE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVJDSUQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVJDSUQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhSQ0lEIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhSQ0lEIiwgaVJDSUQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVJJRE4udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVJJRE4udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhSSUROIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhSSUROIiwgaVJJRE4pCiAgICAgIH0KICAgIH0KICAgIGlmICghaUNTSUQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUNTSUQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDU0lEIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDU0lEIiwgaUNTSUQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUxOQU0udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUxOQU0udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTkFNIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTkFNIiwgaUxOQU0pCiAgICAgIH0KICAgIH0KICAgIGlmICghaUxERVYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUxERVYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMREVWIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMREVWIiwgaUxERVYpCiAgICAgIH0KICAgIH0KICAgIGlmICghaU1BTkQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaU1BTkQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNQU5EIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNQU5EIiwgaU1BTkQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaU1EVEEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaU1EVEEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNRFRBIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNRFRBIiwgaU1EVEEpCiAgICAgIH0KICAgIH0KICAgIAoKICAgIGlmKG1pLmluRGF0YS5nZXQoIkRMSVgiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWERMSVgiLCBpRExJWCkKICAgIH0gCiAgICBpZiAobWkuaW5EYXRhLmdldCgiUk9TUyIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlJPU1MiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUk9TUyIsIGlST1NTKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIkxRVFkiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJMUVRZIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExRVFkiLCBpTFFUWSkKICAgIH0gCiAgICBpZiAobWkuaW5EYXRhLmdldCgiUlNFVCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlJTRVQiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUlNFVCIsIGlSU0VUKQogICAgfSAKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExNVE0iLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKSkKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hOTyIsIENITk8gKyAxKQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpCiAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCkKICB9Cn0="}}}