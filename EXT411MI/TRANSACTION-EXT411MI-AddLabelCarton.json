{"programModules":{"EXT411MI":{"program":"EXT411MI","triggers":{},"transactions":{"AddLabelCarton":{"sourceUuid":"dcfb4a80-c57a-4ba3-95f5-6706235551fb","name":"AddLabelCarton","program":"EXT411MI","description":"Add Label Carton information","active":true,"multi":false,"modified":1693467864925,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"RCID","description":"Route Carton ID","length":15,"mandatory":true,"type":"A"},{"name":"RIDN","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"CSID","description":"Case ID","length":18,"mandatory":true,"type":"A"},{"name":"BXNO","description":"Box Number","length":4,"mandatory":true,"type":"N"},{"name":"LNAM","description":"Label Name","length":8,"mandatory":false,"type":"A"},{"name":"ROSS","description":"Label Parm Across","length":2,"mandatory":false,"type":"N"},{"name":"LDEV","description":"Label DEV Print","length":10,"mandatory":false,"type":"A"},{"name":"LQTY","description":"Label Quantity","length":4,"mandatory":false,"type":"N"},{"name":"MAND","description":"Label Parm Demand","length":1,"mandatory":false,"type":"A"},{"name":"MDTA","description":"Label Parm Demand","length":24,"mandatory":false,"type":"A"},{"name":"RSET","description":"Label Parm Perset","length":4,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"dcfb4a80-c57a-4ba3-95f5-6706235551fb":{"uuid":"dcfb4a80-c57a-4ba3-95f5-6706235551fb","updated":1699979138481,"updatedBy":"M3CONSADMX","created":1693467669036,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230822184312.7","language":"GROOVY","codeHash":"95B43CAA5ED03C1B16E7186A6097DAEAD30786CABBB06B088F2B0DE955621198","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIEFkZCByZWNvcmRzIHRvIEVYVFNMQiB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxMU1JLkFkZExhYmVsQ2FydG9uCiAqIERlc2NyaXB0aW9uOiBBZGRpbmcgcmVjb3JkcyB0byBFWFRTTEIgdGFibGUgCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwODMxICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIEFkZGluZyByZWNvcmRzIHRvIEVYVFNMQiB0YWJsZSAqLwoKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyCgpwdWJsaWMgY2xhc3MgQWRkTGFiZWxDYXJ0b24gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVdITE8sIGlSQ0lELCBpUklETiwgaUNTSUQsIGlMTkFNLCBpTERFViwgaU1BTkQsIGlNRFRBCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIGlCWE5PLCBpUk9TUywgaUxRVFksIGlSU0VUCiAgcHJpdmF0ZSBsb25nIGlETElYCiAgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQoKICBwdWJsaWMgQWRkTGFiZWxDYXJ0b24oTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyKSB7CiAgICB0aGlzLm1pID0gbWkKICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyCiAgfQogIC8qKgogICAqKiBNYWluIGZ1bmN0aW9uCiAgICogQHBhcmFtCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpRElWSSA9IChtaS5pbkRhdGEuZ2V0KCJESVZJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkRJVkkgOiBtaS5pbkRhdGEuZ2V0KCJESVZJIikKICAgIGlXSExPID0gKG1pLmluRGF0YS5nZXQoIldITE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hMTyIpCiAgICBpUkNJRCA9IChtaS5pbkRhdGEuZ2V0KCJSQ0lEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJSQ0lEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJDSUQiKQogICAgaVJJRE4gPSAobWkuaW5EYXRhLmdldCgiUklETiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUklETiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJSSUROIikKICAgIGlDU0lEID0gKG1pLmluRGF0YS5nZXQoIkNTSUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNTSUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1NJRCIpCiAgICBpTE5BTSA9IChtaS5pbkRhdGEuZ2V0KCJMTkFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMTkFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxOQU0iKQogICAgaUxERVYgPSAobWkuaW5EYXRhLmdldCgiTERFViIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTERFViIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMREVWIikKICAgIGlNQU5EID0gKG1pLmluRGF0YS5nZXQoIk1BTkQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk1BTkQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTUFORCIpCiAgICBpTURUQSA9IChtaS5pbkRhdGEuZ2V0KCJNRFRBIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJNRFRBIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1EVEEiKQoKICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgIGlETElYID0gKG1pLmluRGF0YS5nZXQoIkRMSVgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRMSVgiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJETElYIikgYXMgTG9uZwogICAgaUJYTk8gPSAobWkuaW5EYXRhLmdldCgiQlhOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQlhOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkJYTk8iKSBhcyBJbnRlZ2VyCiAgICBpUk9TUyA9IChtaS5pbkRhdGEuZ2V0KCJST1NTIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJST1NTIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUk9TUyIpIGFzIEludGVnZXIKICAgIGlMUVRZID0gKG1pLmluRGF0YS5nZXQoIkxRVFkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkxRVFkiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJMUVRZIikgYXMgSW50ZWdlcgogICAgaVJTRVQgPSAobWkuaW5EYXRhLmdldCgiUlNFVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUlNFVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlJTRVQiKSBhcyBJbnRlZ2VyCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KQogICAgewogICAgICBpbnNlcnRSZWNvcmQoKQogICAgfQogIH0KICAKICAgIC8qKgogICAqVmFsaWRhdGUgUmVjb3JkcwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewogIAogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgZGVmIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgICB2YWxpZElucHV0PWZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIGlmKCFpUklETi50cmltKCkuaXNFbXB0eSgpKQogICAgewogICAgICAvL1ZhbGlkYXRlIE9yZGVyIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIk9STk8iOiBpUklETi50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5PUk5PID09IG51bGwpIHsKICAgICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzEwME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgCiAgICAgLy9JZiBub3QgQ08sIGNoZWNrIGlmIHZhbGlkIERPCiAgICAgIGlmKCF2YWxpZElucHV0KQogICAgICB7CiAgICAgICAgdmFsaWRJbnB1dCA9IHRydWUKICAgICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIlRSTlIiOiBpUklETi50b1N0cmluZygpLnRyaW0oKV0KICAgICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLlRSTlIgPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlSSUROKQogICAgICAgICAgICB2YWxpZElucHV0PWZhbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBtaUNhbGxlci5jYWxsKCJNTVMxMDBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgICAgfQogICAgfQogICAgCiAgICBpZihpRExJWCE9MCkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBEZWxpdmVyeSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRMSVgiOmlETElYLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLkRMSVggPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEZWxpdmVyeSBOdW1iZXIgIiArIGlETElYKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJNV1M0MTBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KICAgIAogICAgaWYoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiV0hMTyI6aVdITE8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuV0hMTyA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFdhcmVob3VzZSBOdW1iZXIgIiArIGlXSExPKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCgogIH0KICAvKioKICAgKkluc2VydCByZWNvcmRzIHRvIEVYVFNMQiB0YWJsZQogICAqIEBwYXJhbXMgCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgaW5zZXJ0UmVjb3JkKCkgewogICAgREJBY3Rpb24gYWN0aW9uID0gZGF0YWJhc2UudGFibGUoIkVYVFNMQiIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIHF1ZXJ5ID0gYWN0aW9uLmdldENvbnRhaW5lcigpCgogICAgcXVlcnkuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIHF1ZXJ5LnNldCgiRVhXSExPIiwgaVdITE8pCiAgICBxdWVyeS5zZXQoIkVYUkNJRCIsIGlSQ0lEKQogICAgcXVlcnkuc2V0KCJFWFJJRE4iLCBpUklETikKICAgIHF1ZXJ5LnNldCgiRVhDU0lEIiwgaUNTSUQpCiAgICBxdWVyeS5zZXQoIkVYTE5BTSIsIGlMTkFNKQogICAgcXVlcnkuc2V0KCJFWExERVYiLCBpTERFVikKICAgIHF1ZXJ5LnNldCgiRVhNQU5EIiwgaU1BTkQpCiAgICBxdWVyeS5zZXQoIkVYTURUQSIsIGlNRFRBKQogICAgcXVlcnkuc2V0KCJFWENPTk8iLCBpQ09OTyBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWERMSVgiLCBpRExJWCBhcyBMb25nKQogICAgcXVlcnkuc2V0KCJFWEJYTk8iLCBpQlhOTyBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFJPU1MiLCBpUk9TUyBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWExRVFkiLCBpTFFUWSBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFJTRVQiLCBpUlNFVCBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFJHRFQiLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQogICAgcXVlcnkuc2V0KCJFWFJHVE0iLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKSkKICAgIHF1ZXJ5LnNldCgiRVhMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgIHF1ZXJ5LnNldCgiRVhMTVRNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIkVYQ0hOTyIsIDApCiAgICBxdWVyeS5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQogICAgYWN0aW9uLmluc2VydChxdWVyeSwgcmVjb3JkRXhpc3RzKQogIH0KCiAgQ2xvc3VyZSByZWNvcmRFeGlzdHMgPSB7CiAgICBtaS5lcnJvcigiUmVjb3JkIEFscmVhZHkgRXhpc3RzIikKICAgIHJldHVybgogIH0KfQ=="}}}