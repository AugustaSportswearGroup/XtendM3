{"programModules":{"EXT412MI":{"program":"EXT412MI","triggers":{},"transactions":{"GetDelTracking":{"sourceUuid":"698344d4-4922-44bc-ad11-23f4a0f847d3","name":"GetDelTracking","program":"EXT412MI","description":"Get Delivery Tracking","active":true,"multi":false,"modified":1695909692168,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"SHDT","description":"Shipment Date","length":25,"mandatory":true,"type":"A"},{"name":"CUOR","description":"Customers Order Number","length":40,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"MAWB","description":"Group Number","length":32,"mandatory":false,"type":"A"},{"name":"ETRN","description":"External Tracking Number","length":30,"mandatory":false,"type":"A"},{"name":"CNUM","description":"Master Carton Number","length":64,"mandatory":false,"type":"A"},{"name":"BTRN","description":"Tracking Number","length":64,"mandatory":false,"type":"A"},{"name":"RESP","description":"Responsible","length":32,"mandatory":false,"type":"A"},{"name":"CSCD","description":"Country","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"SHDT","description":"Shipment Date","length":8,"mandatory":true,"type":"A"},{"name":"CUOR","description":"Purchase Order Number","length":40,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"698344d4-4922-44bc-ad11-23f4a0f847d3":{"uuid":"698344d4-4922-44bc-ad11-23f4a0f847d3","updated":1700203027797,"updatedBy":"M3CONSADMX","created":1693997481724,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20230822184312.7","language":"GROOVY","codeHash":"5481D4D99FACCF84CFBBD6F02EC3562F6C005E8C239EEAE42BE3111A851E80FE","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIEdldCByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlLiAKICoKICogTmFtZTogRVhUNDEyTUkuR2V0RGVsVHJhY2tpbmcKICogRGVzY3JpcHRpb246IEdldCByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlCiAqIERhdGUgICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwOTA2ICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIEdldCByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlCiAqCiAqLwoKcHVibGljIGNsYXNzIEdldERlbFRyYWNraW5nIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eQoKICBwcml2YXRlIFN0cmluZyBpU0hEVCwgaUNVT1IsIGlPUk5PCiAgcHJpdmF0ZSBpbnQgaUNPTk8KICBwcml2YXRlIGxvbmcgaURMSVgKICBwcml2YXRlIHZhbGlkSW5wdXQgPSB0cnVlIAoKICBwdWJsaWMgR2V0RGVsVHJhY2tpbmcoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHkKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlTSERUID0gKG1pLmluRGF0YS5nZXQoIlNIRFQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNIRFQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU0hEVCIpCiAgICBpQ1VPUiA9IChtaS5pbkRhdGEuZ2V0KCJDVU9SIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDVU9SIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVT1IiKQogICAgaU9STk8gPSAobWkuaW5EYXRhLmdldCgiT1JOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5PIikKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpRExJWCA9IChtaS5pbkRhdGEuZ2V0KCJETElYIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRExJWCIpIGFzIExvbmcKCiAgICB2YWxpZGF0ZUlucHV0KCkKICAgIGlmKHZhbGlkSW5wdXQpCiAgICB7CiAgICAgIGdldFJlY29yZCgpCiAgICB9CiAgICAKICB9CgogIC8qKgogICAqVmFsaWRhdGUgUmVjb3JkcwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewogIAogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgZGVmIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgICB2YWxpZElucHV0PWZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgICAKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJPUk5PIjogaU9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgIAogICAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRPcmRlckhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgCiAgICAKICAgIAogICAgICAvL1ZhbGlkYXRlIERlbGl2ZXJ5IE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiRExJWCI6aURMSVgudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuRExJWCA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERlbGl2ZXJ5IE51bWJlciAiICsgaURMSVgpCiAgICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJNV1M0MTBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIAogICAgCiAgICAvL1ZhbGlkYXRlIFNIRFQKICAgIFN0cmluZyBzb3VyY2VGb3JtYXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImdldEZ1bGxGb3JtYXQiLCBtaS5nZXREYXRlRm9ybWF0KCkpCiAgICB2YWxpZElucHV0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJpc0RhdGVWYWxpZCIsIGlTSERULnRyaW0oKSwgc291cmNlRm9ybWF0LnRvU3RyaW5nKCkpCiAgICBpZiAoIXZhbGlkSW5wdXQpIHsKICAgICAgbWkuZXJyb3IoIk9yZGVyIERhdGUgbm90IGluICIgKyBzb3VyY2VGb3JtYXQgKyAiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIgKyBpU0hEVCkKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9IGVsc2UgewogICAgICBpZiAoIXNvdXJjZUZvcm1hdC50cmltKCkuZXF1YWxzKCJ5eXl5TU1kZCIpKSB7CiAgICAgICAgaVNIRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImNvbnZlcnREYXRlIiwgc291cmNlRm9ybWF0LCAieXl5eU1NZGQiLCBpU0hEVC50cmltKCkpIC8vTWFpbnRhaW4gZGF0ZSBpbiBZTUQ4IGZvcm1hdCBpbiB0aGUgdGFibGUKICAgICAgfQogICAgfQoKICB9CiAgCgogIC8qKgogICAqR2V0IHJlY29yZHMgZnJvbSBFWFRIUEQgdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIGdldFJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVEhQRCIpLnNlbGVjdGlvbigiRVhTSERUIiwgIkVYQ1VPUiIsICJFWE9STk8iLCAiRVhXSExPIiwgIkVYQ1VOTyIsICJFWE1BV0IiLCAiRVhFVFJOIiwgIkVYQ05VTSIsICJFWEJUUk4iLCAiRVhSRVNQIiwgIkVYQ1NDRCIsICJFWENPTk8iLCAiRVhETElYIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkVYRExJWCIsIGlETElYKQogICAgY29udGFpbmVyLnNldCgiRVhTSERUIiwgaVNIRFQpCiAgICBjb250YWluZXIuc2V0KCJFWENVT1IiLCBpQ1VPUikKICAgIGNvbnRhaW5lci5zZXQoIkVYT1JOTyIsIGlPUk5PKQogICAgaWYgKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgewogICAgICBtaS5vdXREYXRhLnB1dCgiU0hEVCIsIGNvbnRhaW5lci5nZXQoIkVYU0hEVCIpLnRvU3RyaW5nKCkpCiAgICAgIG1pLm91dERhdGEucHV0KCJDVU9SIiwgY29udGFpbmVyLmdldCgiRVhDVU9SIikudG9TdHJpbmcoKSkKICAgICAgbWkub3V0RGF0YS5wdXQoIk9STk8iLCBjb250YWluZXIuZ2V0KCJFWE9STk8iKS50b1N0cmluZygpKQogICAgICBtaS5vdXREYXRhLnB1dCgiV0hMTyIsIGNvbnRhaW5lci5nZXQoIkVYV0hMTyIpLnRvU3RyaW5nKCkpCiAgICAgIG1pLm91dERhdGEucHV0KCJDVU5PIiwgY29udGFpbmVyLmdldCgiRVhDVU5PIikudG9TdHJpbmcoKSkKICAgICAgbWkub3V0RGF0YS5wdXQoIk1BV0IiLCBjb250YWluZXIuZ2V0KCJFWE1BV0IiKS50b1N0cmluZygpKQogICAgICBtaS5vdXREYXRhLnB1dCgiRVRSTiIsIGNvbnRhaW5lci5nZXQoIkVYRVRSTiIpLnRvU3RyaW5nKCkpCiAgICAgIG1pLm91dERhdGEucHV0KCJDTlVNIiwgY29udGFpbmVyLmdldCgiRVhDTlVNIikudG9TdHJpbmcoKSkKICAgICAgbWkub3V0RGF0YS5wdXQoIkJUUk4iLCBjb250YWluZXIuZ2V0KCJFWEJUUk4iKS50b1N0cmluZygpKQogICAgICBtaS5vdXREYXRhLnB1dCgiUkVTUCIsIGNvbnRhaW5lci5nZXQoIkVYUkVTUCIpLnRvU3RyaW5nKCkpCiAgICAgIG1pLm91dERhdGEucHV0KCJDU0NEIiwgY29udGFpbmVyLmdldCgiRVhDU0NEIikudG9TdHJpbmcoKSkKICAgICAgbWkub3V0RGF0YS5wdXQoIkNPTk8iLCBjb250YWluZXIuZ2V0KCJFWENPTk8iKS50b1N0cmluZygpKQogICAgICBtaS5vdXREYXRhLnB1dCgiRExJWCIsIGNvbnRhaW5lci5nZXQoIkVYRExJWCIpLnRvU3RyaW5nKCkpCgogICAgICBtaS53cml0ZSgpCgogICAgfSBlbHNlIHsKICAgICAgbWkuZXJyb3IoIlJlY29yZCBkb2VzIG5vdCBFeGlzdC4iKQogICAgICByZXR1cm4KICAgIH0KICB9Cn0="}}}