{"programModules":{"EXT412MI":{"program":"EXT412MI","triggers":{},"transactions":{"LstDelTracking":{"sourceUuid":"698344d4-4929-44bc-ad11-23f4a0f847d3","name":"LstDelTracking","program":"EXT412MI","description":"Lst Delivery Tracking","active":true,"multi":true,"modified":1695909707419,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"SHDT","description":"Shipment Date","length":25,"mandatory":true,"type":"A"},{"name":"CUOR","description":"Customers Order Number","length":40,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"MAWB","description":"Group Number","length":32,"mandatory":false,"type":"A"},{"name":"ETRN","description":"External Tracking Number","length":30,"mandatory":false,"type":"A"},{"name":"CNUM","description":"Master Carton Number","length":64,"mandatory":false,"type":"A"},{"name":"BTRN","description":"Tracking Number","length":64,"mandatory":false,"type":"A"},{"name":"RESP","description":"Responsible","length":32,"mandatory":false,"type":"A"},{"name":"CSCD","description":"Country","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"SHDT","description":"Shipment Date","length":8,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Purchase Order Number","length":40,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"698344d4-4929-44bc-ad11-23f4a0f847d3":{"uuid":"698344d4-4929-44bc-ad11-23f4a0f847d3","updated":1700203077982,"updatedBy":"M3CONSADMX","created":1694021267650,"createdBy":"M3CONSADMX","apiVersion":"0.21","beVersion":"16.0.0.20230822184312.7","language":"GROOVY","codeHash":"4293E6432EFC0EB714FC114B4220309BC7118CBEC3C74AECB1A50FF2F6B04001","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIExpc3QgcmVjb3JkcyBmcm9tIEVYVEhQRCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxMk1JLkxzdERlbFRyYWNraW5nCiAqIERlc2NyaXB0aW9uOiBMaXN0aW5nIHJlY29yZHMgdG8gRVhUSFBEIHRhYmxlCiAqIERhdGUgICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwOTA2ICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgICBMaXN0aW5nIHJlY29yZHMgZnJvbSAgRVhUSFBEIHRhYmxlCiAqCiAqLwoKcHVibGljIGNsYXNzIExzdERlbFRyYWNraW5nIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eQoKICBwcml2YXRlIFN0cmluZyBpU0hEVCwgaUNVT1IsIGlPUk5PCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIHBhZ2VTaXplID0gMTAwMDAwCiAgcHJpdmF0ZSBsb25nIGlETElYCiAgcHJpdmF0ZSB2YWxpZElucHV0ID0gdHJ1ZQoKICBwdWJsaWMgTHN0RGVsVHJhY2tpbmcoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHkKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlTSERUID0gKG1pLmluRGF0YS5nZXQoIlNIRFQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNIRFQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU0hEVCIpCiAgICBpQ1VPUiA9IChtaS5pbkRhdGEuZ2V0KCJDVU9SIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDVU9SIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVT1IiKQogICAgaU9STk8gPSAobWkuaW5EYXRhLmdldCgiT1JOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5PIikKICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgIGlETElYID0gKG1pLmluRGF0YS5nZXQoIkRMSVgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRMSVgiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJETElYIikgYXMgTG9uZwoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYgKHZhbGlkSW5wdXQpIHsKICAgICAgbGlzdFJlY29yZCgpCiAgICB9CgogIH0KCiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHZhbGlkYXRlSW5wdXQoKSB7CgogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgZGVmIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgaWYoIWlPUk5PLnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgT3JkZXIgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiT1JOTyI6IGlPUk5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgICAgbWlDYWxsZXIuY2FsbCgiT0lTMTAwTUkiLCAiR2V0T3JkZXJIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0gICAKIAogICAgaWYoaURMSVghPTApCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRGVsaXZlcnkgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiRExJWCI6IGlETElYLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuRExJWCA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEZWxpdmVyeSBOdW1iZXIgIiArIGlETElYKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgICAgICAgIG1pQ2FsbGVyLmNhbGwoIk1XUzQxME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgICB9CiAgICB9CiAgICAKICAgIAogICAgaWYoIWlTSERULnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAvL1ZhbGlkYXRlIFNIRFQKICAgIFN0cmluZyBzb3VyY2VGb3JtYXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImdldEZ1bGxGb3JtYXQiLCBtaS5nZXREYXRlRm9ybWF0KCkpCiAgICB2YWxpZElucHV0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJpc0RhdGVWYWxpZCIsIGlTSERULnRyaW0oKSwgc291cmNlRm9ybWF0LnRvU3RyaW5nKCkpCiAgICBpZiAoIXZhbGlkSW5wdXQpIHsKICAgICAgbWkuZXJyb3IoIk9yZGVyIERhdGUgbm90IGluICIgKyBzb3VyY2VGb3JtYXQgKyAiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIgKyBpU0hEVCkKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9IGVsc2UgewogICAgICBpZiAoIXNvdXJjZUZvcm1hdC50cmltKCkuZXF1YWxzKCJ5eXl5TU1kZCIpKSB7CiAgICAgICAgaVNIRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImNvbnZlcnREYXRlIiwgc291cmNlRm9ybWF0LCAieXl5eU1NZGQiLCBpU0hEVC50cmltKCkpIC8vTWFpbnRhaW4gZGF0ZSBpbiBZTUQ4IGZvcm1hdCBpbiB0aGUgdGFibGUKICAgICAgfQogICAgfQogICAgfQoKICB9CgogIC8qKgogICAqTGlzdCByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyBsaXN0UmVjb3JkKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUSFBEIikuc2VsZWN0aW9uKCJFWFNIRFQiLCAiRVhDVU9SIiwgIkVYT1JOTyIsICJFWFdITE8iLCAiRVhDVU5PIiwgIkVYTUFXQiIsICJFWEVUUk4iLCAiRVhDTlVNIiwgIkVYQlRSTiIsICJFWFJFU1AiLCAiRVhDU0NEIiwgIkVYQ09OTyIsICJFWERMSVgiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgaWYgKCFpU0hEVC50cmltKCkuaXNFbXB0eSgpICYmICFpQ1VPUi50cmltKCkuaXNFbXB0eSgpICYmICFpT1JOTy50cmltKCkuaXNFbXB0eSgpICYmIChtaS5pbkRhdGEuZ2V0KCJETElYIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpKQogICAgewogICAgICBjb250YWluZXIuc2V0KCJFWFNIRFQiLCBpU0hEVCkKICAgICAgY29udGFpbmVyLnNldCgiRVhDVU9SIiwgaUNVT1IpCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYT1JOTyIsIGlPUk5PKQogICAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgICAgY29udGFpbmVyLnNldCgiRVhETElYIiwgaURMSVgpCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA1LHBhZ2VTaXplLCByZXN1bHRzZXQpCiAgICB9IGVsc2UgaWYgKCFpU0hEVC50cmltKCkuaXNFbXB0eSgpICYmICFpQ1VPUi50cmltKCkuaXNFbXB0eSgpICYmICFpT1JOTy50cmltKCkuaXNFbXB0eSgpKSAKICAgIHsKICAgICAgY29udGFpbmVyLnNldCgiRVhTSERUIiwgaVNIRFQpCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYQ1VPUiIsIGlDVU9SKQogICAgICBjb250YWluZXIuc2V0KCJFWE9STk8iLCBpT1JOTykKICAgICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA0LHBhZ2VTaXplLCByZXN1bHRzZXQpCiAgICB9IGVsc2UgaWYgKCFpU0hEVC50cmltKCkuaXNFbXB0eSgpICYmICFpQ1VPUi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGNvbnRhaW5lci5zZXQoIkVYU0hEVCIsIGlTSERUKQogICAgICBjb250YWluZXIuc2V0KCJFWENVT1IiLCBpQ1VPUikKICAgICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAzLHBhZ2VTaXplLCByZXN1bHRzZXQpCiAgICB9IGVsc2UgaWYgKCFpU0hEVC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGNvbnRhaW5lci5zZXQoIkVYU0hEVCIsIGlTSERUKQogICAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDIscGFnZVNpemUsIHJlc3VsdHNldCkKICAgIH0gZWxzZSB7CiAgICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMSxwYWdlU2l6ZSwgcmVzdWx0c2V0KQogICAgfQogIH0KICBDbG9zdXJlIDwgPyA+IHJlc3VsdHNldCA9IHsKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciAtPgogICAgbWkub3V0RGF0YS5wdXQoIlNIRFQiLCBjb250YWluZXIuZ2V0KCJFWFNIRFQiKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkNVT1IiLCBjb250YWluZXIuZ2V0KCJFWENVT1IiKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIk9STk8iLCBjb250YWluZXIuZ2V0KCJFWE9STk8iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIldITE8iLCBjb250YWluZXIuZ2V0KCJFWFdITE8iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkNVTk8iLCBjb250YWluZXIuZ2V0KCJFWENVTk8iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIk1BV0IiLCBjb250YWluZXIuZ2V0KCJFWE1BV0IiKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkVUUk4iLCBjb250YWluZXIuZ2V0KCJFWEVUUk4iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkNOVU0iLCBjb250YWluZXIuZ2V0KCJFWENOVU0iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkJUUk4iLCBjb250YWluZXIuZ2V0KCJFWEJUUk4iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIlJFU1AiLCBjb250YWluZXIuZ2V0KCJFWFJFU1AiKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkNTQ0QiLCBjb250YWluZXIuZ2V0KCJFWENTQ0QiKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkNPTk8iLCBjb250YWluZXIuZ2V0KCJFWENPTk8iKS50b1N0cmluZygpKQogICAgbWkub3V0RGF0YS5wdXQoIkRMSVgiLCBjb250YWluZXIuZ2V0KCJFWERMSVgiKS50b1N0cmluZygpKQoKICAgIG1pLndyaXRlKCkKCiAgfQp9"}}}