{"programModules":{"EXT412MI":{"program":"EXT412MI","triggers":{},"transactions":{"UpdDelTracking":{"sourceUuid":"698344d4-4922-44bc-ad10-23f4a0f847d3","name":"UpdDelTracking","program":"EXT412MI","description":"Update Delivery Tracking","active":true,"multi":false,"modified":1694171135486,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"SHDT","description":"Shipment Date","length":25,"mandatory":true,"type":"A"},{"name":"CUOR","description":"Purchase Order Number","length":40,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"MAWB","description":"Group Number","length":32,"mandatory":false,"type":"A"},{"name":"ETRN","description":"External Tracking Number","length":30,"mandatory":false,"type":"A"},{"name":"CNUM","description":"Master Carton Number","length":64,"mandatory":false,"type":"A"},{"name":"BTRN","description":"Tracking Number","length":64,"mandatory":false,"type":"A"},{"name":"RESP","description":"Responsible","length":32,"mandatory":false,"type":"A"},{"name":"CSCD","description":"Country","length":3,"mandatory":false,"type":"A"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"698344d4-4922-44bc-ad10-23f4a0f847d3":{"uuid":"698344d4-4922-44bc-ad10-23f4a0f847d3","updated":1700223813326,"updatedBy":"M3CONSADMX","created":1693997185678,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20230822184312.7","language":"GROOVY","codeHash":"EE1848A80D995E154F2E6618EA92E8DAB0B4251BB978318629009FCDE0C033CA","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVEhQRCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxMk1JLlVwZERlbFRyYWNraW5nCiAqIERlc2NyaXB0aW9uOiBVcGRhdGluZyByZWNvcmRzIHRvIEVYVEhQRCB0YWJsZQogKiBEYXRlICAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDkwNiAgU3VyaXlhTkBmb3J0dWRlLmNvICAgIFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUSFBEIHRhYmxlCiAqCiAqLwoKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyCgpwdWJsaWMgY2xhc3MgVXBkRGVsVHJhY2tpbmcgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5CgogIHByaXZhdGUgU3RyaW5nIGlTSERULCBpQ1VPUiwgaU9STk8sIGlXSExPLCBpQ1VOTywgaU1BV0IsIGlFVFJOLCBpQ05VTSwgaUJUUk4sIGlSRVNQLCBpQ1NDRAogIHByaXZhdGUgaW50IGlDT05PCiAgcHJpdmF0ZSBsb25nIGlETElYCiAgcHJpdmF0ZSB2YWxpZElucHV0ID0gdHJ1ZQogIAogIHB1YmxpYyBVcGREZWxUcmFja2luZyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIFV0aWxpdHlBUEkgdXRpbGl0eSkgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eQogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaVNIRFQgPSAobWkuaW5EYXRhLmdldCgiU0hEVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hEVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTSERUIikKICAgIGlDVU9SID0gKG1pLmluRGF0YS5nZXQoIkNVT1IiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNVT1IiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VPUiIpCiAgICBpT1JOTyA9IChtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKQogICAgaVdITE8gPSAobWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJXSExPIikKICAgIGlDVU5PID0gKG1pLmluRGF0YS5nZXQoIkNVTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNVTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VOTyIpCiAgICBpTUFXQiA9IChtaS5pbkRhdGEuZ2V0KCJNQVdCIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJNQVdCIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1BV0IiKQogICAgaUVUUk4gPSAobWkuaW5EYXRhLmdldCgiRVRSTiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRVRSTiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJFVFJOIikKICAgIGlDTlVNID0gKG1pLmluRGF0YS5nZXQoIkNOVU0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNOVU0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ05VTSIpCiAgICBpQlRSTiA9IChtaS5pbkRhdGEuZ2V0KCJCVFJOIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCVFJOIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJUUk4iKQogICAgaVJFU1AgPSAobWkuaW5EYXRhLmdldCgiUkVTUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUkVTUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJSRVNQIikKICAgIGlDU0NEID0gKG1pLmluRGF0YS5nZXQoIkNTQ0QiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNTQ0QiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1NDRCIpCgogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaURMSVggPSAobWkuaW5EYXRhLmdldCgiRExJWCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkRMSVgiKSBhcyBMb25nCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KQogICAgewogICAgICB1cGRhdGVSZWNvcmQoKQogICAgfQogICAgCiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgdmFsaWRhdGVJbnB1dCgpIHsKICAKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAgCgogICAgICAvL1ZhbGlkYXRlIE9yZGVyIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIk9STk8iOiBpT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5PUk5PID09IG51bGwpIHsKICAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIE9yZGVyIE51bWJlciAiICsgaU9STk8pCiAgICAgICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgIAogICAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRPcmRlckhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgCiAgICBpZighaUNVTk8udHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBDdXN0b21lciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkNVTk8iOmlDVU5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLkNVTk8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDdXN0b21lciBOdW1iZXIgIiArIGlDVU5PKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJDUlM2MTBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQogICAgCiAgICAgIC8vVmFsaWRhdGUgRGVsaXZlcnkgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJETElYIjppRExJWC50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5ETElYID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGVsaXZlcnkgTnVtYmVyICIgKyBpRExJWCkKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICAKICAgIAogICAgaWYoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiV0hMTyI6aVdITE8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuV0hMTyA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFdhcmVob3VzZSBOdW1iZXIgIiArIGlXSExPKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KICAgIAogICAgaWYgKCFpQ1NDRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIkNTQ0QiOiBpQ1NDRC50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNTQ0QgPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ291bnRyeSBDb2RlICIgKyBpQ1NDRCkKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzA0NU1JIiwgIkdldEJhc2ljRGF0YSIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CiAgICAgLy9WYWxpZGF0ZSBTSERUCiAgICBTdHJpbmcgc291cmNlRm9ybWF0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJnZXRGdWxsRm9ybWF0IiwgbWkuZ2V0RGF0ZUZvcm1hdCgpKQogICAgdmFsaWRJbnB1dCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiaXNEYXRlVmFsaWQiLCBpU0hEVC50cmltKCksIHNvdXJjZUZvcm1hdC50b1N0cmluZygpKQogICAgaWYgKCF2YWxpZElucHV0KSB7CiAgICAgIG1pLmVycm9yKCJPcmRlciBEYXRlIG5vdCBpbiAiICsgc291cmNlRm9ybWF0ICsgIiBmb3JtYXQuIFBsZWFzZSBDaGVjayAiICsgaVNIRFQpCiAgICAgIHJldHVybiBmYWxzZQogICAgfSBlbHNlIHsKICAgICAgaWYgKCFzb3VyY2VGb3JtYXQudHJpbSgpLmVxdWFscygieXl5eU1NZGQiKSkgewogICAgICAgIGlTSERUID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjb252ZXJ0RGF0ZSIsIHNvdXJjZUZvcm1hdCwgInl5eXlNTWRkIiwgaVNIRFQudHJpbSgpKSAvL01haW50YWluIGRhdGUgaW4gWU1EOCBmb3JtYXQgaW4gdGhlIHRhYmxlCiAgICAgIH0KICAgIH0KCgogIH0KICAKCiAgCiAgLyoqCiAgICpVcGRhdGUgcmVjb3JkcyB0byBFWFRIUEQgdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHVwZGF0ZVJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVEhQRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCgogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJFWFNIRFQiLCBpU0hEVCkKICAgIGNvbnRhaW5lci5zZXQoIkVYQ1VPUiIsIGlDVU9SKQogICAgY29udGFpbmVyLnNldCgiRVhPUk5PIiwgaU9STk8pCiAgICBjb250YWluZXIuc2V0KCJFWERMSVgiLCBpRExJWCkKICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gcXVlcnkucmVhZExvY2soY29udGFpbmVyLCB1cGRhdGVDYWxsQmFjaykKICAgIGlmKCFyZWNvcmRFeGlzdHMpCiAgICB7CiAgICAgIG1pLmVycm9yKCJSZWNvcmQgRG9lc24ndCBFeGlzdC4iKQogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiB1cGRhdGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgIGludCBDSE5PID0gbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikKCiAgICBpZiAoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlXSExPLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYV0hMTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYV0hMTyIsIGlXSExPKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlDVU5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlDVU5PLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VOTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VOTyIsIGlDVU5PKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlNQVdCLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlNQVdCLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTUFXQiIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTUFXQiIsIGlNQVdCKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlFVFJOLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlFVFJOLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRVRSTiIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRVRSTiIsIGlFVFJOKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlDTlVNLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlDTlVNLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ05VTSIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ05VTSIsIGlDTlVNKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVFJOLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVFJOLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRSTiIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRSTiIsIGlCVFJOKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlSRVNQLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlSRVNQLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUkVTUCIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUkVTUCIsIGlSRVNQKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlDU0NELnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlDU0NELnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1NDRCIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1NDRCIsIGlDU0NEKQogICAgICB9CiAgICB9CiAgIAogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1UTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgQ0hOTyArIDEpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKQogIH0KfQ=="}}}