{"programModules":{"EXT412MI":{"program":"EXT412MI","triggers":{},"transactions":{"DltDelTracking":{"sourceUuid":"698344d4-4930-44bc-ad11-23f4a0f847d3","name":"DltDelTracking","program":"EXT412MI","description":"Delete Delivery Tracking","active":true,"multi":false,"modified":1695909650024,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"SHDT","description":"Shipment Date","length":8,"mandatory":true,"type":"A"},{"name":"CUOR","description":"Customers Order Number","length":40,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"698344d4-4930-44bc-ad11-23f4a0f847d3":{"uuid":"698344d4-4930-44bc-ad11-23f4a0f847d3","updated":1695910159183,"updatedBy":"M3CONSADMX","created":1694175980761,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20230719154728.6","language":"GROOVY","codeHash":"EE2C036C4CC3E17BFAF752CEFF153E4B2C52B7E8EAFCDE3DD726258EE92FE0ED","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIERlbGV0ZSByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlLiAKICoKICogTmFtZTogRVhUNDEyTUkuRGVsZXRlRGVsVHJhY2tpbmcKICogRGVzY3JpcHRpb246IERlbGV0aW5nIHJlY29yZHMgZnJvbSBFWFRIUEQgdGFibGUKICogRGF0ZSAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uCiAqMjAyMzA5MDYgIFN1cml5YU5AZm9ydHVkZS5jbyAgICBEZWxldGluZyByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlCiAqCiAqLwoKcHVibGljIGNsYXNzIERsdERlbFRyYWNraW5nIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eQoKICBwcml2YXRlIGludCBpQ09OTwogIHByaXZhdGUgbG9uZyBpRExJWAogIHByaXZhdGUgU3RyaW5nIGlTSERULCBpQ1VPUiwgaU9STk8KICBwcml2YXRlIHZhbGlkSW5wdXQgPSB0cnVlIAogIAogIHB1YmxpYyBEbHREZWxUcmFja2luZyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIFV0aWxpdHlBUEkgdXRpbGl0eSkgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eQogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaURMSVggPSAobWkuaW5EYXRhLmdldCgiRExJWCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkRMSVgiKSBhcyBMb25nCgogICAgaVNIRFQgPSAobWkuaW5EYXRhLmdldCgiU0hEVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hEVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTSERUIikKICAgIGlDVU9SID0gKG1pLmluRGF0YS5nZXQoIkNVT1IiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNVT1IiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VPUiIpCiAgICBpT1JOTyA9IChtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKQoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYodmFsaWRJbnB1dCkKICAgIHsKICAgICAgZGVsZXRlUmVjb3JkKCkKICAgIH0gCiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgdmFsaWRhdGVJbnB1dCgpIHsKICAKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAgCiAgICAKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJPUk5PIjogaU9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBpT1JOTykKICAgICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgCiAgICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzEwME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgCiAgICAKICAgIAogICAgICAvL1ZhbGlkYXRlIERlbGl2ZXJ5IE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiRExJWCI6aURMSVgudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuRExJWCA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERlbGl2ZXJ5IE51bWJlciAiICsgaURMSVgpCiAgICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJNV1M0MTBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIAogICAgCiAgICAgLy9WYWxpZGF0ZSBTSERUCiAgICBTdHJpbmcgc291cmNlRm9ybWF0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJnZXRGdWxsRm9ybWF0IiwgbWkuZ2V0RGF0ZUZvcm1hdCgpKQogICAgdmFsaWRJbnB1dCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiaXNEYXRlVmFsaWQiLCBpU0hEVC50cmltKCksIHNvdXJjZUZvcm1hdC50b1N0cmluZygpKQogICAgaWYgKCF2YWxpZElucHV0KSB7CiAgICAgIG1pLmVycm9yKCJPcmRlciBEYXRlIG5vdCBpbiAiICsgc291cmNlRm9ybWF0ICsgIiBmb3JtYXQuIFBsZWFzZSBDaGVjayAiICsgaVNIRFQpCiAgICAgIHJldHVybiBmYWxzZQogICAgfSBlbHNlIHsKICAgICAgaWYgKCFzb3VyY2VGb3JtYXQudHJpbSgpLmVxdWFscygieXl5eU1NZGQiKSkgewogICAgICAgIGlTSERUID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjb252ZXJ0RGF0ZSIsIHNvdXJjZUZvcm1hdCwgInl5eXlNTWRkIiwgaVNIRFQudHJpbSgpKSAvL01haW50YWluIGRhdGUgaW4gWU1EOCBmb3JtYXQgaW4gdGhlIHRhYmxlCiAgICAgIH0KICAgIH0KCiAgfQogIAoKICAvKioKICAgKkRlbGV0ZSByZWNvcmRzIGZyb20gRVhUSFBEIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyBkZWxldGVSZWNvcmQoKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRIUEQiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQoKICAgIGNvbnRhaW5lci5zZXQoIkVYU0hEVCIsIGlTSERUKQogICAgY29udGFpbmVyLnNldCgiRVhDVU9SIiwgaUNVT1IpCiAgICBjb250YWluZXIuc2V0KCJFWE9STk8iLCBpT1JOTykKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhETElYIiwgaURMSVgpCiAgICBpZiAocXVlcnkucmVhZChjb250YWluZXIpKSB7CiAgICAgIHF1ZXJ5LnJlYWRMb2NrKGNvbnRhaW5lciwgZGVsZXRlQ2FsbEJhY2spCiAgICB9IGVsc2UgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiBkZWxldGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgIGxvY2tlZFJlc3VsdC5kZWxldGUoKQogIH0KfQ=="}}}