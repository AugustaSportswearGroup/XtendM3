{"programModules":{"EXT856MI":{"program":"EXT856MI","triggers":{},"transactions":{"AddASNHead":{"sourceUuid":"4943da04-dba0-4820-b77c-737ef2d48d18","name":"AddASNHead","program":"EXT856MI","description":"Add ASN Header Information","active":true,"multi":false,"modified":1693331504983,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"PYCU","description":"Customer Number","length":10,"mandatory":true,"type":"A"},{"name":"SPOC","description":"Payer or Customer","length":1,"mandatory":false,"type":"A"},{"name":"ASNP","description":"ASN Program","length":10,"mandatory":false,"type":"A"},{"name":"DEMH","description":"ASN Delivery Method","length":2,"mandatory":false,"type":"A"},{"name":"DFLB","description":"ASN Data Library","length":10,"mandatory":false,"type":"A"},{"name":"SFLB","description":"ASN Source Library","length":10,"mandatory":false,"type":"A"},{"name":"ASNF","description":"ASN File","length":10,"mandatory":false,"type":"A"},{"name":"SNRP","description":"ASN Report Program","length":10,"mandatory":false,"type":"A"},{"name":"SNFO","description":"ASN Over Outq","length":10,"mandatory":false,"type":"A"},{"name":"STAT","description":"Act/Non.Act","length":2,"mandatory":false,"type":"A"},{"name":"LFCR","description":"ASN Label Carton","length":8,"mandatory":false,"type":"A"},{"name":"LFSH","description":"ASN Label Ship","length":8,"mandatory":false,"type":"A"},{"name":"DCLQ","description":"ASN Label Quantity","length":2,"mandatory":false,"type":"A"},{"name":"CPID","description":"ASN Company ID","length":7,"mandatory":false,"type":"N"},{"name":"SNSN","description":"Shipment Serial Number","length":9,"mandatory":false,"type":"N"},{"name":"SCSN","description":"Container Serial Number","length":9,"mandatory":false,"type":"N"},{"name":"PLSN","description":"Pallet Serial Number","length":9,"mandatory":false,"type":"N"},{"name":"CPKI","description":"Containment Package Indicator","length":1,"mandatory":false,"type":"A"},{"name":"PPKI","description":"Pallet Package Indicator","length":1,"mandatory":false,"type":"A"},{"name":"SPKI","description":"Ship Package Indicator","length":1,"mandatory":false,"type":"A"},{"name":"EANI","description":"ASN Control Interval","length":6,"mandatory":false,"type":"A"},{"name":"IDSD","description":"Indicator to Standard","length":1,"mandatory":false,"type":"A"},{"name":"UD01","description":"User Defined 1","length":50,"mandatory":false,"type":"A"},{"name":"UD02","description":"User Defined 2","length":50,"mandatory":false,"type":"A"},{"name":"UD03","description":"User Defined 3","length":15,"mandatory":false,"type":"N"},{"name":"UD04","description":"User Defined 4","length":2,"mandatory":false,"type":"A"},{"name":"UD05","description":"User Defined 5","length":2,"mandatory":false,"type":"A"},{"name":"UD06","description":"User Defined 6","length":2,"mandatory":false,"type":"A"},{"name":"UD07","description":"User Defined 7","length":2,"mandatory":false,"type":"A"},{"name":"UD08","description":"User Defined 8","length":2,"mandatory":false,"type":"A"},{"name":"UD09","description":"User Defined 9","length":3,"mandatory":false,"type":"A"},{"name":"UD10","description":"User Defined 10","length":3,"mandatory":false,"type":"A"},{"name":"UD11","description":"User Defined 11","length":3,"mandatory":false,"type":"A"},{"name":"UD12","description":"User Defined 12","length":3,"mandatory":false,"type":"A"},{"name":"UD13","description":"User Defined 13","length":3,"mandatory":false,"type":"A"},{"name":"UD14","description":"User Defined 14","length":10,"mandatory":false,"type":"A"},{"name":"UD15","description":"User Defined 15","length":10,"mandatory":false,"type":"A"},{"name":"UD16","description":"User Defined 16","length":10,"mandatory":false,"type":"A"},{"name":"UD17","description":"User Defined 17","length":10,"mandatory":false,"type":"A"},{"name":"UD18","description":"User Defined 18","length":10,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"4943da04-dba0-4820-b77c-737ef2d48d18":{"uuid":"4943da04-dba0-4820-b77c-737ef2d48d18","updated":1702988188879,"updatedBy":"ABHISHEK","created":1693294925426,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20231018093440.6","language":"GROOVY","codeHash":"A41A1C07DD8548761CA33D5A8D7869C417AC8C4D8ED04C45D5A6BA5A050A3661","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIEFkZCByZWNvcmRzIHRvIEVYVE5DVCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDg1Nk1JLkFkZEFTTkhlYWQKICogRGVzY3JpcHRpb246IEFkZGluZyByZWNvcmRzIHRvIEVYVE5DVCB0YWJsZSAKICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uCiAqMjAyMzA4MjkgIFN1cml5YU5AZm9ydHVkZS5jbyAgICAgQWRkaW5nIHJlY29yZHMgdG8gRVhUTkNUIHRhYmxlICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBBZGRBU05IZWFkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBTdHJpbmcgaURJVkksIGlXSExPLCBpUFlDVSwgaVNQT0MsIGlBU05QLCBpREVNSCwgaURGTEIsIGlTRkxCLCBpQVNORiwgaVNOUlAsIGlTTkZPLCBpU1RBVCwgaUxGQ1IsIGlMRlNILCBpRENMUSwgaUNQS0ksIGlQUEtJLCBpU1BLSSwgaUVBTkksIGlJRFNELCBpVUQwMSwgaVVEMDIsIGlVRDA0LCBpVUQwNSwgaVVEMDYsIGlVRDA3LCBpVUQwOCwgaVVEMDksIGlVRDEwLCBpVUQxMSwgaVVEMTIsIGlVRDEzLCBpVUQxNCwgaVVEMTUsIGlVRDE2LCBpVUQxNywgaVVEMTgKICBwcml2YXRlIGludCBpQ09OTywgaUNQSUQsIGlTTlNOLCBpU0NTTiwgaVBMU04sIGlVRDAzCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkSW5wdXQgPSB0cnVlCgogIHB1YmxpYyBBZGRBU05IZWFkKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQogICAgaVBZQ1UgPSAobWkuaW5EYXRhLmdldCgiUFlDVSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUFlDVSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQWUNVIikKICAgIGlTUE9DID0gKG1pLmluRGF0YS5nZXQoIlNQT0MiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNQT0MiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIwIiA6IG1pLmluRGF0YS5nZXQoIlNQT0MiKQogICAgaUFTTlAgPSAobWkuaW5EYXRhLmdldCgiQVNOUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQVNOUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJBU05QIikKICAgIGlERU1IID0gKG1pLmluRGF0YS5nZXQoIkRFTUgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRFTUgiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiREVNSCIpCiAgICBpREZMQiA9IChtaS5pbkRhdGEuZ2V0KCJERkxCIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJERkxCIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkRGTEIiKQogICAgaVNGTEIgPSAobWkuaW5EYXRhLmdldCgiU0ZMQiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0ZMQiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTRkxCIikKICAgIGlBU05GID0gKG1pLmluRGF0YS5nZXQoIkFTTkYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFTTkYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQVNORiIpCiAgICBpU05SUCA9IChtaS5pbkRhdGEuZ2V0KCJTTlJQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTTlJQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNOUlAiKQogICAgaVNORk8gPSAobWkuaW5EYXRhLmdldCgiU05GTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU05GTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTTkZPIikKICAgIGlTVEFUID0gKG1pLmluRGF0YS5nZXQoIlNUQVQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUQVQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RBVCIpCiAgICBpTEZDUiA9IChtaS5pbkRhdGEuZ2V0KCJMRkNSIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMRkNSIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxGQ1IiKQogICAgaUxGU0ggPSAobWkuaW5EYXRhLmdldCgiTEZTSCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTEZTSCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMRlNIIikKICAgIGlEQ0xRID0gKG1pLmluRGF0YS5nZXQoIkRDTFEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRDTFEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRENMUSIpCiAgICBpQ1BLSSA9IChtaS5pbkRhdGEuZ2V0KCJDUEtJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDUEtJIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMCIgOiBtaS5pbkRhdGEuZ2V0KCJDUEtJIikKICAgIGlQUEtJID0gKG1pLmluRGF0YS5nZXQoIlBQS0kiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBQS0kiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIwIiA6IG1pLmluRGF0YS5nZXQoIlBQS0kiKQogICAgaVNQS0kgPSAobWkuaW5EYXRhLmdldCgiU1BLSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1BLSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjAiIDogbWkuaW5EYXRhLmdldCgiU1BLSSIpCiAgICBpRUFOSSA9IChtaS5pbkRhdGEuZ2V0KCJFQU5JIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJFQU5JIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkVBTkkiKQogICAgaUlEU0QgPSAobWkuaW5EYXRhLmdldCgiSURTRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSURTRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjAiIDogbWkuaW5EYXRhLmdldCgiSURTRCIpCiAgICBpVUQwMSA9IChtaS5pbkRhdGEuZ2V0KCJVRDAxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDAxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDEiKQogICAgaVVEMDIgPSAobWkuaW5EYXRhLmdldCgiVUQwMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQwMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDAyIikKICAgIGlVRDA0ID0gKG1pLmluRGF0YS5nZXQoIlVEMDQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQwNCIpCiAgICBpVUQwNSA9IChtaS5pbkRhdGEuZ2V0KCJVRDA1IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDA1IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDUiKQogICAgaVVEMDYgPSAobWkuaW5EYXRhLmdldCgiVUQwNiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQwNiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDA2IikKICAgIGlVRDA3ID0gKG1pLmluRGF0YS5nZXQoIlVEMDciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDciKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQwNyIpCiAgICBpVUQwOCA9IChtaS5pbkRhdGEuZ2V0KCJVRDA4IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDA4IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDgiKQogICAgaVVEMDkgPSAobWkuaW5EYXRhLmdldCgiVUQwOSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQwOSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDA5IikKICAgIGlVRDEwID0gKG1pLmluRGF0YS5nZXQoIlVEMTAiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMTAiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQxMCIpCiAgICBpVUQxMSA9IChtaS5pbkRhdGEuZ2V0KCJVRDExIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDExIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMTEiKQogICAgaVVEMTIgPSAobWkuaW5EYXRhLmdldCgiVUQxMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQxMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDEyIikKICAgIGlVRDEzID0gKG1pLmluRGF0YS5nZXQoIlVEMTMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMTMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQxMyIpCiAgICBpVUQxNCA9IChtaS5pbkRhdGEuZ2V0KCJVRDE0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDE0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMTQiKQogICAgaVVEMTUgPSAobWkuaW5EYXRhLmdldCgiVUQxNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQxNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDE1IikKICAgIGlVRDE2ID0gKG1pLmluRGF0YS5nZXQoIlVEMTYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMTYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQxNiIpCiAgICBpVUQxNyA9IChtaS5pbkRhdGEuZ2V0KCJVRDE3IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDE3IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMTciKQogICAgaVVEMTggPSAobWkuaW5EYXRhLmdldCgiVUQxOCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQxOCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDE4IikKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpQ1BJRCA9IChtaS5pbkRhdGEuZ2V0KCJDUElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDUElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiQ1BJRCIpIGFzIEludGVnZXIKICAgIGlTTlNOID0gKG1pLmluRGF0YS5nZXQoIlNOU04iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNOU04iKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJTTlNOIikgYXMgSW50ZWdlcgogICAgaVNDU04gPSAobWkuaW5EYXRhLmdldCgiU0NTTiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0NTTiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlNDU04iKSBhcyBJbnRlZ2VyCiAgICBpUExTTiA9IChtaS5pbkRhdGEuZ2V0KCJQTFNOIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTFNOIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUExTTiIpIGFzIEludGVnZXIKICAgIGlVRDAzID0gKG1pLmluRGF0YS5nZXQoIlVEMDMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDMiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJVRDAzIikgYXMgSW50ZWdlcgoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYgKHZhbGlkSW5wdXQpIHsKICAgICAgaW5zZXJ0UmVjb3JkKCkKICAgIH0KICB9CgogIC8qKgogICAqVmFsaWRhdGUgaW5wdXRzCiAgICogQHBhcmFtcyBpbnQgQ09OTyAsU3RyaW5nIElUTk8sU3RyaW5nIFdITE8sU3RyaW5nIGlXSFNMCiAgICogQHJldHVybiB2b2lkCiAgICovCiAgcHVibGljIHZhbGlkYXRlSW5wdXQoKSB7CgogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIENsb3N1cmUgPCA/ID4gY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBpQ09OTykKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAvL1ZhbGlkYXRlIEN1c3RvbWVyIE51bWJlcgogICAgcGFyYW1zID0gWyJDVU5PIjogaVBZQ1UudG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuQ1VOTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ3VzdG9tZXIgTnVtZWJyIE51bWJlciAiICsgaVBZQ1UpCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzYxME1JIiwgIkdldEJhc2ljRGF0YSIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBXYXJlaG91c2UgTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIldITE8iOiBpV0hMTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5XSExPID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBpV0hMTykKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICB9CgogIC8qKgogICAqSW5zZXJ0IHJlY29yZHMgdG8gRVhUTkNUIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyBpbnNlcnRSZWNvcmQoKSB7CiAgICBEQkFjdGlvbiBhY3Rpb24gPSBkYXRhYmFzZS50YWJsZSgiRVhUTkNUIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgcXVlcnkgPSBhY3Rpb24uZ2V0Q29udGFpbmVyKCkKCiAgICBxdWVyeS5zZXQoIkVYRElWSSIsIGlESVZJKQogICAgcXVlcnkuc2V0KCJFWFdITE8iLCBpV0hMTykKICAgIHF1ZXJ5LnNldCgiRVhQWUNVIiwgaVBZQ1UpCiAgICBxdWVyeS5zZXQoIkVYU1BPQyIsIGlTUE9DKQogICAgcXVlcnkuc2V0KCJFWEFTTlAiLCBpQVNOUCkKICAgIHF1ZXJ5LnNldCgiRVhERU1IIiwgaURFTUgpCiAgICBxdWVyeS5zZXQoIkVYREZMQiIsIGlERkxCKQogICAgcXVlcnkuc2V0KCJFWFNGTEIiLCBpU0ZMQikKICAgIHF1ZXJ5LnNldCgiRVhBU05GIiwgaUFTTkYpCiAgICBxdWVyeS5zZXQoIkVYU05SUCIsIGlTTlJQKQogICAgcXVlcnkuc2V0KCJFWFNORk8iLCBpU05GTykKICAgIHF1ZXJ5LnNldCgiRVhTVEFUIiwgaVNUQVQpCiAgICBxdWVyeS5zZXQoIkVYTEZDUiIsIGlMRkNSKQogICAgcXVlcnkuc2V0KCJFWExGU0giLCBpTEZTSCkKICAgIHF1ZXJ5LnNldCgiRVhEQ0xRIiwgaURDTFEpCiAgICBxdWVyeS5zZXQoIkVYQ1BLSSIsIGlDUEtJKQogICAgcXVlcnkuc2V0KCJFWFBQS0kiLCBpUFBLSSkKICAgIHF1ZXJ5LnNldCgiRVhTUEtJIiwgaVNQS0kpCiAgICBxdWVyeS5zZXQoIkVYRUFOSSIsIGlFQU5JKQogICAgcXVlcnkuc2V0KCJFWElEU0QiLCBpSURTRCkKICAgIHF1ZXJ5LnNldCgiRVhVRDAxIiwgaVVEMDEpCiAgICBxdWVyeS5zZXQoIkVYVUQwMiIsIGlVRDAyKQogICAgcXVlcnkuc2V0KCJFWFVEMDQiLCBpVUQwNCkKICAgIHF1ZXJ5LnNldCgiRVhVRDA1IiwgaVVEMDUpCiAgICBxdWVyeS5zZXQoIkVYVUQwNiIsIGlVRDA2KQogICAgcXVlcnkuc2V0KCJFWFVEMDciLCBpVUQwNykKICAgIHF1ZXJ5LnNldCgiRVhVRDA4IiwgaVVEMDgpCiAgICBxdWVyeS5zZXQoIkVYVUQwOSIsIGlVRDA5KQogICAgcXVlcnkuc2V0KCJFWFVEMTAiLCBpVUQxMCkKICAgIHF1ZXJ5LnNldCgiRVhVRDExIiwgaVVEMTEpCiAgICBxdWVyeS5zZXQoIkVYVUQxMiIsIGlVRDEyKQogICAgcXVlcnkuc2V0KCJFWFVEMTMiLCBpVUQxMykKICAgIHF1ZXJ5LnNldCgiRVhVRDE0IiwgaVVEMTQpCiAgICBxdWVyeS5zZXQoIkVYVUQxNSIsIGlVRDE1KQogICAgcXVlcnkuc2V0KCJFWFVEMTYiLCBpVUQxNikKICAgIHF1ZXJ5LnNldCgiRVhVRDE3IiwgaVVEMTcpCiAgICBxdWVyeS5zZXQoIkVYVUQxOCIsIGlVRDE4KQogICAgcXVlcnkuc2V0KCJFWENPTk8iLCBpQ09OTyBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWENQSUQiLCBpQ1BJRCBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFNOU04iLCBpU05TTiBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFNDU04iLCBpU0NTTiBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFBMU04iLCBpUExTTiBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFVEMDMiLCBpVUQwMyBhcyBJbnRlZ2VyKQogICAgcXVlcnkuc2V0KCJFWFJHRFQiLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQogICAgcXVlcnkuc2V0KCJFWFJHVE0iLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKSkKICAgIHF1ZXJ5LnNldCgiRVhMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgIHF1ZXJ5LnNldCgiRVhMTVRNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIkVYQ0hOTyIsIDApCiAgICBxdWVyeS5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQogICAgYWN0aW9uLmluc2VydChxdWVyeSwgcmVjb3JkRXhpc3RzKQogIH0KCiAgQ2xvc3VyZSByZWNvcmRFeGlzdHMgPSB7CiAgICBtaS5lcnJvcigiUmVjb3JkIEFscmVhZHkgRXhpc3RzIikKICAgIHJldHVybgogIH0KfQ=="}}}