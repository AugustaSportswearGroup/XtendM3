{"programModules":{"EXT856MI":{"program":"EXT856MI","triggers":{},"transactions":{"UpdASNHead":{"sourceUuid":"4943da04-dba0-4820-b77c-736ef2d48d18","name":"UpdASNHead","program":"EXT856MI","description":"Update ASN Header Information","active":true,"multi":false,"modified":1693331534387,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"PYCU","description":"Customer Number","length":10,"mandatory":true,"type":"A"},{"name":"SPOC","description":"Payer or Customer","length":1,"mandatory":false,"type":"A"},{"name":"ASNP","description":"ASN Program","length":10,"mandatory":false,"type":"A"},{"name":"DEMH","description":"ASN Delivery Method","length":2,"mandatory":false,"type":"A"},{"name":"DFLB","description":"ASN Data Library","length":10,"mandatory":false,"type":"A"},{"name":"SFLB","description":"ASN Source Library","length":10,"mandatory":false,"type":"A"},{"name":"ASNF","description":"ASN File","length":10,"mandatory":false,"type":"A"},{"name":"SNRP","description":"ASN Report Program","length":10,"mandatory":false,"type":"A"},{"name":"SNFO","description":"ASN Over Outq","length":10,"mandatory":false,"type":"A"},{"name":"STAT","description":"Act/Non.Act","length":2,"mandatory":false,"type":"A"},{"name":"LFCR","description":"ASN Label Carton","length":8,"mandatory":false,"type":"A"},{"name":"LFSH","description":"ASN Label Ship","length":8,"mandatory":false,"type":"A"},{"name":"DCLQ","description":"ASN Label Quantity","length":2,"mandatory":false,"type":"A"},{"name":"CPID","description":"ASN Company ID","length":7,"mandatory":false,"type":"N"},{"name":"SNSN","description":"Shipment Serial Number","length":9,"mandatory":false,"type":"N"},{"name":"SCSN","description":"Container Serial Number","length":9,"mandatory":false,"type":"N"},{"name":"PLSN","description":"Pallet Serial Number","length":9,"mandatory":false,"type":"N"},{"name":"CPKI","description":"Containment Package Indicator","length":1,"mandatory":false,"type":"A"},{"name":"PPKI","description":"Pallet Package Indicator","length":1,"mandatory":false,"type":"A"},{"name":"SPKI","description":"Ship Package Indicator","length":1,"mandatory":false,"type":"A"},{"name":"EANI","description":"ASN Control Interval","length":6,"mandatory":false,"type":"A"},{"name":"IDSD","description":"Indicator to Standard","length":1,"mandatory":false,"type":"A"},{"name":"UD01","description":"User Defined 1","length":50,"mandatory":false,"type":"A"},{"name":"UD02","description":"User Defined 2","length":50,"mandatory":false,"type":"A"},{"name":"UD03","description":"User Defined 3","length":15,"mandatory":false,"type":"N"},{"name":"UD04","description":"User Defined 4","length":2,"mandatory":false,"type":"A"},{"name":"UD05","description":"User Defined 5","length":2,"mandatory":false,"type":"A"},{"name":"UD06","description":"User Defined 6","length":2,"mandatory":false,"type":"A"},{"name":"UD07","description":"User Defined 7","length":2,"mandatory":false,"type":"A"},{"name":"UD08","description":"User Defined 8","length":2,"mandatory":false,"type":"A"},{"name":"UD09","description":"User Defined 9","length":3,"mandatory":false,"type":"A"},{"name":"UD10","description":"User Defined 10","length":3,"mandatory":false,"type":"A"},{"name":"UD11","description":"User Defined 11","length":3,"mandatory":false,"type":"A"},{"name":"UD12","description":"User Defined 12","length":3,"mandatory":false,"type":"A"},{"name":"UD13","description":"User Defined 13","length":3,"mandatory":false,"type":"A"},{"name":"UD14","description":"User Defined 14","length":10,"mandatory":false,"type":"A"},{"name":"UD15","description":"User Defined 15","length":10,"mandatory":false,"type":"A"},{"name":"UD16","description":"User Defined 16","length":10,"mandatory":false,"type":"A"},{"name":"UD17","description":"User Defined 17","length":10,"mandatory":false,"type":"A"},{"name":"UD18","description":"User Defined 18","length":10,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"4943da04-dba0-4820-b77c-736ef2d48d18":{"uuid":"4943da04-dba0-4820-b77c-736ef2d48d18","updated":1705401770039,"updatedBy":"ABHISHEK","created":1693295308301,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20231018093440.6","language":"GROOVY","codeHash":"DA3CD478A023A2102313500F6CF49A5C8FD79CF92B710192E5FA7F7A61EE3028","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVE5DVCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDg1Nk1JLlVwZEFTTkhlYWQKICogRGVzY3JpcHRpb246IFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUTkNUIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwODI5ICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgVXBkYXRpbmcgcmVjb3JkcyB0byBFWFROQ1QgdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBVcGRBU05IZWFkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBTdHJpbmcgaURJVkksIGlXSExPLCBpUFlDVSwgaVNQT0MsIGlBU05QLCBpREVNSCwgaURGTEIsIGlTRkxCLCBpQVNORiwgaVNOUlAsIGlTTkZPLCBpU1RBVCwgaUxGQ1IsIGlMRlNILCBpRENMUSwgaUNQS0ksIGlQUEtJLCBpU1BLSSwgaUVBTkksIGlJRFNELCBpVUQwMSwgaVVEMDIsIGlVRDA0LCBpVUQwNSwgaVVEMDYsIGlVRDA3LCBpVUQwOCwgaVVEMDksIGlVRDEwLCBpVUQxMSwgaVVEMTIsIGlVRDEzLCBpVUQxNCwgaVVEMTUsIGlVRDE2LCBpVUQxNywgaVVEMTgKICBwcml2YXRlIGludCBpQ09OTywgaUNQSUQsIGlTTlNOLCBpU0NTTiwgaVBMU04sIGlVRDAzCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkSW5wdXQgPSB0cnVlCgogIHB1YmxpYyBVcGRBU05IZWFkKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQogICAgaVBZQ1UgPSAobWkuaW5EYXRhLmdldCgiUFlDVSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUFlDVSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQWUNVIikKICAgIGlTUE9DID0gKG1pLmluRGF0YS5nZXQoIlNQT0MiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNQT0MiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIwIiA6IG1pLmluRGF0YS5nZXQoIlNQT0MiKQogICAgaUFTTlAgPSAobWkuaW5EYXRhLmdldCgiQVNOUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQVNOUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJBU05QIikKICAgIGlERU1IID0gKG1pLmluRGF0YS5nZXQoIkRFTUgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRFTUgiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiREVNSCIpCiAgICBpREZMQiA9IChtaS5pbkRhdGEuZ2V0KCJERkxCIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJERkxCIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkRGTEIiKQogICAgaVNGTEIgPSAobWkuaW5EYXRhLmdldCgiU0ZMQiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0ZMQiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTRkxCIikKICAgIGlBU05GID0gKG1pLmluRGF0YS5nZXQoIkFTTkYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFTTkYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQVNORiIpCiAgICBpU05SUCA9IChtaS5pbkRhdGEuZ2V0KCJTTlJQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTTlJQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNOUlAiKQogICAgaVNORk8gPSAobWkuaW5EYXRhLmdldCgiU05GTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU05GTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTTkZPIikKICAgIGlTVEFUID0gKG1pLmluRGF0YS5nZXQoIlNUQVQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUQVQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RBVCIpCiAgICBpTEZDUiA9IChtaS5pbkRhdGEuZ2V0KCJMRkNSIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMRkNSIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxGQ1IiKQogICAgaUxGU0ggPSAobWkuaW5EYXRhLmdldCgiTEZTSCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTEZTSCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMRlNIIikKICAgIGlEQ0xRID0gKG1pLmluRGF0YS5nZXQoIkRDTFEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRDTFEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRENMUSIpCiAgICBpQ1BLSSA9IChtaS5pbkRhdGEuZ2V0KCJDUEtJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDUEtJIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMCIgOiBtaS5pbkRhdGEuZ2V0KCJDUEtJIikKICAgIGlQUEtJID0gKG1pLmluRGF0YS5nZXQoIlBQS0kiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBQS0kiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIwIiA6IG1pLmluRGF0YS5nZXQoIlBQS0kiKQogICAgaVNQS0kgPSAobWkuaW5EYXRhLmdldCgiU1BLSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1BLSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjAiIDogbWkuaW5EYXRhLmdldCgiU1BLSSIpCiAgICBpRUFOSSA9IChtaS5pbkRhdGEuZ2V0KCJFQU5JIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJFQU5JIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkVBTkkiKQogICAgaUlEU0QgPSAobWkuaW5EYXRhLmdldCgiSURTRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSURTRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjAiIDogbWkuaW5EYXRhLmdldCgiSURTRCIpCiAgICBpVUQwMSA9IChtaS5pbkRhdGEuZ2V0KCJVRDAxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDAxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDEiKQogICAgaVVEMDIgPSAobWkuaW5EYXRhLmdldCgiVUQwMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQwMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDAyIikKICAgIGlVRDA0ID0gKG1pLmluRGF0YS5nZXQoIlVEMDQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQwNCIpCiAgICBpVUQwNSA9IChtaS5pbkRhdGEuZ2V0KCJVRDA1IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDA1IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDUiKQogICAgaVVEMDYgPSAobWkuaW5EYXRhLmdldCgiVUQwNiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQwNiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDA2IikKICAgIGlVRDA3ID0gKG1pLmluRGF0YS5nZXQoIlVEMDciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDciKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQwNyIpCiAgICBpVUQwOCA9IChtaS5pbkRhdGEuZ2V0KCJVRDA4IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDA4IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDgiKQogICAgaVVEMDkgPSAobWkuaW5EYXRhLmdldCgiVUQwOSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQwOSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDA5IikKICAgIGlVRDEwID0gKG1pLmluRGF0YS5nZXQoIlVEMTAiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMTAiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQxMCIpCiAgICBpVUQxMSA9IChtaS5pbkRhdGEuZ2V0KCJVRDExIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDExIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMTEiKQogICAgaVVEMTIgPSAobWkuaW5EYXRhLmdldCgiVUQxMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQxMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDEyIikKICAgIGlVRDEzID0gKG1pLmluRGF0YS5nZXQoIlVEMTMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMTMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQxMyIpCiAgICBpVUQxNCA9IChtaS5pbkRhdGEuZ2V0KCJVRDE0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDE0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMTQiKQogICAgaVVEMTUgPSAobWkuaW5EYXRhLmdldCgiVUQxNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQxNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDE1IikKICAgIGlVRDE2ID0gKG1pLmluRGF0YS5nZXQoIlVEMTYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMTYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQxNiIpCiAgICBpVUQxNyA9IChtaS5pbkRhdGEuZ2V0KCJVRDE3IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDE3IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMTciKQogICAgaVVEMTggPSAobWkuaW5EYXRhLmdldCgiVUQxOCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUQxOCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRDE4IikKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpQ1BJRCA9IChtaS5pbkRhdGEuZ2V0KCJDUElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDUElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiQ1BJRCIpIGFzIEludGVnZXIKICAgIGlTTlNOID0gKG1pLmluRGF0YS5nZXQoIlNOU04iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNOU04iKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJTTlNOIikgYXMgSW50ZWdlcgogICAgaVNDU04gPSAobWkuaW5EYXRhLmdldCgiU0NTTiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0NTTiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlNDU04iKSBhcyBJbnRlZ2VyCiAgICBpUExTTiA9IChtaS5pbkRhdGEuZ2V0KCJQTFNOIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTFNOIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUExTTiIpIGFzIEludGVnZXIKICAgIGlVRDAzID0gKG1pLmluRGF0YS5nZXQoIlVEMDMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDMiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJVRDAzIikgYXMgSW50ZWdlcgoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYgKHZhbGlkSW5wdXQpIHsKICAgICAgdXBkYXRlUmVjb3JkKCkKICAgIH0KCiAgfQoKICAvKioKICAgKlZhbGlkYXRlIGlucHV0cwogICAqIEBwYXJhbXMgaW50IENPTk8gLFN0cmluZyBJVE5PLFN0cmluZyBXSExPLFN0cmluZyBpV0hTTAogICAqIEByZXR1cm4gdm9pZAogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBEaXZpc2lvbgogICAgaWYgKCFpRElWSS50b1N0cmluZygpLnRyaW0oKSkgewogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIkRJVkkiOiBpRElWSS50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkRJVkkgPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGl2aXNpb24gIiArIGlESVZJKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzEwME1JIiwgIkdldEJhc2ljRGF0YSIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CgogICAgLy9WYWxpZGF0ZSBDdXN0b21lciBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ1VOTyI6IGlQWUNVLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLkNVTk8gPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEN1c3RvbWVyIE51bWViciBOdW1iZXIgIiArIGlQWUNVKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJDUlM2MTBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJXSExPIjogaVdITE8udG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuV0hMTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgV2FyZWhvdXNlIE51bWJlciAiICsgaVdITE8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAwNU1JIiwgIkdldFdhcmVob3VzZSIsIHBhcmFtcywgY2FsbGJhY2spCiAgfQogIC8qKgogICAqVXBkYXRlIHJlY29yZHMgdG8gRVhUTkNUIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB1cGRhdGVSZWNvcmQoKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFROQ1QiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQoKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWFdITE8iLCBpV0hMTykKICAgIGNvbnRhaW5lci5zZXQoIkVYUFlDVSIsIGlQWUNVKQogICAgaWYgKCFxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZUNhbGxCYWNrKSkgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiB1cGRhdGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgIGludCBDSE5PID0gbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikKICAgIGlmICghaVNQT0MudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNQT0MudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTUE9DIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTUE9DIiwgaVNQT0MpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUFTTlAudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUFTTlAudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBU05QIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBU05QIiwgaUFTTlApCiAgICAgIH0KICAgIH0KICAgIGlmICghaURFTUgudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaURFTUgudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhERU1IIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhERU1IIiwgaURFTUgpCiAgICAgIH0KICAgIH0KICAgIGlmICghaURGTEIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaURGTEIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhERkxCIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhERkxCIiwgaURGTEIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNGTEIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNGTEIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTRkxCIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTRkxCIiwgaVNGTEIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUFTTkYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUFTTkYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBU05GIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBU05GIiwgaUFTTkYpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNOUlAudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNOUlAudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTTlJQIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTTlJQIiwgaVNOUlApCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNORk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNORk8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTTkZPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTTkZPIiwgaVNORk8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUQVQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUQVQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEFUIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEFUIiwgaVNUQVQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUxGQ1IudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUxGQ1IudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMRkNSIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMRkNSIiwgaUxGQ1IpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUxGU0gudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUxGU0gudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMRlNIIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMRlNIIiwgaUxGU0gpCiAgICAgIH0KICAgIH0KICAgIGlmICghaURDTFEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaURDTFEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhEQ0xRIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhEQ0xRIiwgaURDTFEpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUNQS0kudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUNQS0kudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDUEtJIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDUEtJIiwgaUNQS0kpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVBQS0kudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVBQS0kudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQUEtJIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQUEtJIiwgaVBQS0kpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNQS0kudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNQS0kudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTUEtJIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTUEtJIiwgaVNQS0kpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUVBTkkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUVBTkkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhFQU5JIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhFQU5JIiwgaUVBTkkpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUlEU0QudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUlEU0QudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhJRFNEIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhJRFNEIiwgaUlEU0QpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDAxIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDAxIiwgaVVEMDEpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDAyIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDAyIiwgaVVEMDIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA0IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA0IiwgaVVEMDQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDUudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDUudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA1IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA1IiwgaVVEMDUpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA2IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA2IiwgaVVEMDYpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDcudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDcudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA3IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA3IiwgaVVEMDcpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDgudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDgudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA4IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA4IiwgaVVEMDgpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMDkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMDkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA5IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDA5IiwgaVVEMDkpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTAudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTAudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDEwIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDEwIiwgaVVEMTApCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDExIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDExIiwgaVVEMTEpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDEyIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDEyIiwgaVVEMTIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDEzIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDEzIiwgaVVEMTMpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE0IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE0IiwgaVVEMTQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTUudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTUudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE1IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE1IiwgaVVEMTUpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE2IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE2IiwgaVVEMTYpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTcudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTcudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE3IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE3IiwgaVVEMTcpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVEMTgudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVEMTgudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE4IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRDE4IiwgaVVEMTgpCiAgICAgIH0KICAgIH0KICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJDUElEIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiQ1BJRCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDUElEIiwgaUNQSUQpCiAgICB9CiAgICBpZiAobWkuaW5EYXRhLmdldCgiU05TTiIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlNOU04iKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU05TTiIsIGlTTlNOKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIlNDU04iKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJTQ1NOIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFNDU04iLCBpU0NTTikKICAgIH0KICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJQTFNOIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiUExTTiIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQTFNOIiwgaVBMU04pCiAgICB9CiAgICBpZiAobWkuaW5EYXRhLmdldCgiVUQwMyIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlVEMDMiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUQwMyIsIGlVRDAzKQogICAgfQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1UTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgQ0hOTyArIDEpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKQogIH0KfQ=="}}}