{"programModules":{"EXT400MI":{"program":"EXT400MI","triggers":{},"transactions":{"SetRecipientAgr":{"sourceUuid":"e19aa7bb-12c5-4f78-89b6-52d2bc0ad0f4","name":"SetRecipientAgr","program":"EXT400MI","description":"Set Recipient Agreement","active":true,"multi":false,"modified":1694633596794,"modifiedBy":"GIRISH","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"ORNO","description":"Customer's Order Number","length":10,"mandatory":true,"type":"A"},{"name":"AGN5","description":"Recipient Agreement Type 5","length":10,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"e19aa7bb-12c5-4f78-89b6-52d2bc0ad0f4":{"uuid":"e19aa7bb-12c5-4f78-89b6-52d2bc0ad0f4","updated":1705929113028,"updatedBy":"ABHISHEK","created":1694175997164,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"0D02E3F62A9CE21D076315B88034BAC1F188E897571F965C1997DD4639C1462B","code":"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgZXh0ZW5zaW9uIGlzIGJlaW5nIHVzZWQgdG8gdXBkYXRlIFJlY2lwaWVudCBBZ3JlZW1lbnQgNSBpbiBPT0hFQUMgdGFibGUuIA0KICoNCiAqIE5hbWU6IEVYVDQwME1JLlVwZFJlY2lwaWVudEFncg0KICogRGVzY3JpcHRpb246IFVwZGF0ZSBSZWNpcGllbnQgQWdyZWVtZW50IDUgaW4gT09IRUFDIHRhYmxlIA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uDQogKjIwMjMwOTA4ICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgICAgIFVwZGF0ZSBSZWNpcGllbnQgQWdyZWVtZW50IDUgaW4gT09IRUFDIHRhYmxlIA0KICovDQoNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZQ0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXINCg0KcHVibGljIGNsYXNzIFNldFJlY2lwaWVudEFnciBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gew0KICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pDQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0NCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcg0KICANCiAgcHJpdmF0ZSBpbnQgaUNPTk8NCiAgcHJpdmF0ZSBTdHJpbmcgaU9STk8saUFHTjUNCiAgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQ0KICANCiAgcHVibGljIFNldFJlY2lwaWVudEFncihNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsNCiAgICB0aGlzLm1pID0gbWkNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyDQogIH0NCiAgDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgDQogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcg0KICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpDQogICAgaUFHTjUgPSAobWkuaW5EYXRhLmdldCgiQUdONSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQUdONSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJBR041IikNCiAgICANCiAgICB2YWxpZGF0ZUlucHV0KCkNCiAgICBpZiAodmFsaWRJbnB1dCkgew0KICAgICAgdXBkYXRlUmVjb3JkKCkNCiAgICB9DQogIH0NCiAgDQogIC8qKg0KICAgKlZhbGlkYXRlIFJlY29yZHMNCiAgICogQHBhcmFtcw0KICAgKiBAcmV0dXJuIA0KICAgKi8NCiAgcHVibGljIHZhbGlkYXRlSW5wdXQoKSB7DQoNCiAgICAvL1ZhbGlkYXRlIENvbXBhbnkgTnVtYmVyDQogICAgTWFwPFN0cmluZywgU3RyaW5nPiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0NCiAgICBDbG9zdXJlPD8+IGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4NCiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsNCiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQ0KICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICAgICAgcmV0dXJuIA0KICAgICAgfQ0KICAgIH0NCiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KDQogICAgICAvL1ZhbGlkYXRlIE9yZGVyIE51bWJlcg0KICAgICAgcGFyYW1zID0gWyJPUk5PIjogaU9STk8udG9TdHJpbmcoKS50cmltKCldDQogICAgICBjYWxsYmFjayA9IHsNCiAgICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPg0KICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7DQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzEwME1JIiwgIkdldE9yZGVySGVhZCIsIHBhcmFtcywgY2FsbGJhY2spDQogICANCg0KICAgIGlmICghaUFHTjUudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgLy9WYWxpZGF0ZSBDdXN0b21lciBOdW1iZXINCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiQ1VOTyI6IGlBR041LnRvU3RyaW5nKCkudHJpbSgpXQ0KICAgICAgY2FsbGJhY2sgPSB7DQogICAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4NCiAgICAgICAgaWYgKHJlc3BvbnNlLkNVTk8gPT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKCJSZWNpcGllbnQgYWdyZWVtZW50IHR5cGUgNSAtIGNvbW1pc3Npb24gIitpQUdONSsiIGRvZXMgbm90IGV4aXN0IikNCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfWVsc2UNCiAgICAgICAgew0KICAgICAgICAgIFN0cmluZyBjdXRwID0gcmVzcG9uc2UuQ1VUUA0KICAgICAgICAgIFN0cmluZyBzdGF0ID0gcmVzcG9uc2UuU1RBVA0KICAgICAgICAgIGlmKCFjdXRwLnRyaW0oKS5lcXVhbHMoIjAiKSYmIWN1dHAudHJpbSgpLmVxdWFscygiMSIpJiYhY3V0cC50cmltKCkuZXF1YWxzKCIyIikpDQogICAgICAgICAgew0KICAgICAgICAgICAgbWkuZXJyb3IoIkJvbnVzL2NvbW1pc2lvbiByZWNpcGllbnQgd2l0aCBjdXN0b21lciB0eXBlICIrY3V0cCsiIGlzIG5vdCBwZXJtaXR0ZWQiKQ0KICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICB9DQogICAgICAgICAgaWYoIXN0YXQudHJpbSgpLmVxdWFscygiMjAiKSkNCiAgICAgICAgICB7DQogICAgICAgICAgICAgbWkuZXJyb3IoIkN1c3RvbWVyIFN0YXR1cyBtdXN0IGJlIDIwLiIpDQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjEwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykNCiAgICB9DQogIH0NCiAgDQogICAgLyoqDQogICAqVXBkYXRlIHJlY29yZHMgdG8gT09IRUFDIHRhYmxlDQogICAqIEBwYXJhbXMgDQogICAqIEByZXR1cm4gDQogICAqLw0KICBwdWJsaWMgdXBkYXRlUmVjb3JkKCkgew0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9PSEVBQyIpLmluZGV4KCIwMCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KDQogICAgY29udGFpbmVyLnNldCgiQkVDT05PIiwgaUNPTk8pDQogICAgY29udGFpbmVyLnNldCgiQkVPUk5PIiwgaU9STk8pDQogICAgaWYgKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgew0KICAgICAgcXVlcnkucmVhZExvY2soY29udGFpbmVyLCB1cGRhdGVDYWxsQmFjaykNCiAgICB9IGVsc2Ugew0KICAgICAgaW5zZXJ0UmVjb3JkKCkNCiAgICB9DQogIH0NCiAgDQogICBDbG9zdXJlIDwgPyA+IHVwZGF0ZUNhbGxCYWNrID0gew0KICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4NCiAgICBpbnQgQ0hOTyA9IGxvY2tlZFJlc3VsdC5nZXQoIkJFQ0hOTyIpDQogICAgbG9ja2VkUmVzdWx0LnNldCgiQkVBR041IiwgaUFHTjUpDQogICAgbG9ja2VkUmVzdWx0LnNldCgiQkVMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkNCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJCRUNITk8iLCBDSE5PKzEpDQogICAgbG9ja2VkUmVzdWx0LnNldCgiQkVDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpDQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpDQogIH0NCiAgDQogIC8qKg0KICAgKkluc2VydCByZWNvcmRzIHRvIEVYVFBRVCB0YWJsZQ0KICAgKiBAcGFyYW1zIA0KICAgKiBAcmV0dXJuIA0KICAgKi8NCiAgcHVibGljIGluc2VydFJlY29yZCgpIHsNCiAgICBEQkFjdGlvbiBhY3Rpb24gPSBkYXRhYmFzZS50YWJsZSgiT09IRUFDIikuaW5kZXgoIjAwIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIHF1ZXJ5ID0gYWN0aW9uLmdldENvbnRhaW5lcigpDQoNCiAgICBxdWVyeS5zZXQoIkJFT1JOTyIsIGlPUk5PKQ0KICAgIHF1ZXJ5LnNldCgiQkVBR041IiwgaUFHTjUpDQogICAgcXVlcnkuc2V0KCJCRUNPTk8iLCBpQ09OTyBhcyBJbnRlZ2VyKQ0KICAgIHF1ZXJ5LnNldCgiQkVSR0RUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkNCiAgICBxdWVyeS5zZXQoIkJFUkdUTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQ0KICAgIHF1ZXJ5LnNldCgiQkVMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkNCiAgICBxdWVyeS5zZXQoIkJFQ0hOTyIsIDApDQogICAgcXVlcnkuc2V0KCJCRUNISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkNCiAgICBhY3Rpb24uaW5zZXJ0KHF1ZXJ5KQ0KICB9DQogIA0KfQ=="}}}