{"programModules":{"EXT410MI":{"program":"EXT410MI","triggers":{},"transactions":{"UpdCartonData":{"sourceUuid":"3ca4926d-6879-4428-8951-daa323f4f389","name":"UpdCartonData","program":"EXT410MI","description":"Update Carton Data","active":true,"multi":false,"modified":1690553120158,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":13,"mandatory":true,"type":"N"},{"name":"RCID","description":"Carton ID","length":20,"mandatory":true,"type":"A"},{"name":"RLPN","description":"LPN Number","length":20,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"},{"name":"TRNO","description":"Transaction Sequence Number","length":7,"mandatory":true,"type":"N"},{"name":"QUAN","description":"Quantity","length":21,"mandatory":false,"type":"N"},{"name":"QWGT","description":"Weight of the item","length":8,"mandatory":false,"type":"N"},{"name":"TWGT","description":"Weight of the item in the Box/Box Weigth","length":8,"mandatory":false,"type":"N"},{"name":"BXNO","description":"Box Number","length":6,"mandatory":false,"type":"A"},{"name":"STAT","description":"Status","length":2,"mandatory":false,"type":"N"},{"name":"UDF0","description":"User Defined files 0","length":10,"mandatory":false,"type":"A"},{"name":"UDF1","description":"User Defined files 1","length":10,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User Defined files 2","length":10,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User Defined files 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User Defined files 4","length":10,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User Defined files 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User Defined files 6","length":20,"mandatory":false,"type":"A"},{"name":"UDF7","description":"User Defined files 7","length":20,"mandatory":false,"type":"A"},{"name":"UDF8","description":"User Defined files 8","length":30,"mandatory":false,"type":"A"},{"name":"UDF9","description":"User Defined files 9","length":30,"mandatory":false,"type":"A"},{"name":"PONR","description":"M3 Line Number","length":5,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"3ca4926d-6879-4428-8951-daa323f4f389":{"uuid":"3ca4926d-6879-4428-8951-daa323f4f389","updated":1692281449300,"updatedBy":"M3CONSADMX","created":1683734672442,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230516150031.8","language":"GROOVY","codeHash":"FA7B0F0B96E59C5916951F17DAF60408F90ED39EB538BABB5B48CE07AA681442","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFhGTCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxME1JLlVwZENhcnRvbkRhdGEKICogRGVzY3JpcHRpb246IFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUWEZMIHRhYmxlCiAqIERhdGUgICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNTEwICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRYRkwgdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBVcGRDYXJ0b25EYXRhIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKICAKCiAgcHJpdmF0ZSBTdHJpbmcgaURJVkksIGlXSExPLCBpT1JOTywgaVJDSUQsIGlSTFBOLCBpSVROTywgaUJYTk8sIGlVREYwLCBpVURGMSwgaVVERjIsIGlVREYzLCBpVURGNCwgaVVERjUsIGlVREY2LCBpVURGNywgaVVERjgsIGlVREY5LGlRVUFOLCBpUVdHVCwgaVRXR1QKICBwcml2YXRlIGludCBpQ09OTywgaVRSTk8sIGlTVEFULCBpUE9OUgogIHByaXZhdGUgTG9uZyBpRExJWAogIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUKICAKICBwdWJsaWMgVXBkQ2FydG9uRGF0YShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlESVZJID0gKG1pLmluRGF0YS5nZXQoIkRJVkkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuRElWSSA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKQogICAgaVdITE8gPSAobWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJXSExPIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpUkNJRCA9IChtaS5pbkRhdGEuZ2V0KCJSQ0lEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJSQ0lEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJDSUQiKQogICAgaVJMUE4gPSAobWkuaW5EYXRhLmdldCgiUkxQTiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUkxQTiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJSTFBOIikKICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVROTyIpCiAgICBpQlhOTyA9IChtaS5pbkRhdGEuZ2V0KCJCWE5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCWE5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJYTk8iKQogICAgaVVERjAgPSAobWkuaW5EYXRhLmdldCgiVURGMCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYwIikKICAgIGlVREYxID0gKG1pLmluRGF0YS5nZXQoIlVERjEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMSIpCiAgICBpVURGMiA9IChtaS5pbkRhdGEuZ2V0KCJVREYyIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYyIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjIiKQogICAgaVVERjMgPSAobWkuaW5EYXRhLmdldCgiVURGMyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYzIikKICAgIGlVREY0ID0gKG1pLmluRGF0YS5nZXQoIlVERjQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNCIpCiAgICBpVURGNSA9IChtaS5pbkRhdGEuZ2V0KCJVREY1IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY1IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjUiKQogICAgaVVERjYgPSAobWkuaW5EYXRhLmdldCgiVURGNiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY2IikKICAgIGlVREY3ID0gKG1pLmluRGF0YS5nZXQoIlVERjciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjciKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNyIpCiAgICBpVURGOCA9IChtaS5pbkRhdGEuZ2V0KCJVREY4IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY4IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjgiKQogICAgaVVERjkgPSAobWkuaW5EYXRhLmdldCgiVURGOSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGOSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY5IikKICAgIGlRVUFOID0gKG1pLmluRGF0YS5nZXQoIlFVQU4iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlFVQU4iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUVVBTiIpIAogICAgaVFXR1QgPSAobWkuaW5EYXRhLmdldCgiUVdHVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUVdHVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJRV0dUIikgCiAgICBpVFdHVCA9IChtaS5pbkRhdGEuZ2V0KCJUV0dUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUV0dUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRXR1QiKSAKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpRExJWCA9IChtaS5pbkRhdGEuZ2V0KCJETElYIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRExJWCIpIGFzIExvbmcKICAgIGlTVEFUID0gKG1pLmluRGF0YS5nZXQoIlNUQVQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUQVQiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJTVEFUIikgYXMgSW50ZWdlcgogICAgaVRSTk8gPSAobWkuaW5EYXRhLmdldCgiVFJOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVFJOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlRSTk8iKSBhcyBJbnRlZ2VyCiAgICBpUE9OUiA9IChtaS5pbkRhdGEuZ2V0KCJQT05SIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQT05SIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUE9OUiIpIGFzIEludGVnZXIKICAgCiAgICB2YWxpZGF0ZUlucHV0KCkKICAgIGlmKHZhbGlkSW5wdXQpCiAgICB7CiAgICAgICB1cGRhdGVSZWNvcmQoKQogICAgfQogIH0KICAKICAgIC8qKgogICAqVmFsaWRhdGUgUmVjb3JkcwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewogIAogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgZGVmIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgICB2YWxpZElucHV0PWZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgICAvL1ZhbGlkYXRlIEl0ZW0gTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiSVROTyI6aUlUTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLklUTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgSXRlbSBOdW1iZXIgIiArIGlJVE5PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICAKICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzIwME1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICBpZighaU9STk8udHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJPUk5PIjogaU9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzEwME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgICAKICAgICAgLy9JZiBub3QgQ08sIGNoZWNrIGlmIHZhbGlkIERPCiAgICAgIGlmKCF2YWxpZElucHV0KQogICAgICB7CiAgICAgICAgdmFsaWRJbnB1dCA9IHRydWUKICAgICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIlRSTlIiOiBpT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLlRSTlIgPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgICAgICB2YWxpZElucHV0PWZhbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBtaUNhbGxlci5jYWxsKCJNTVMxMDBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgICAgfQogICAgfQogICAgCiAgICBpZihpRExJWCE9MCkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBEZWxpdmVyeSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRMSVgiOmlETElYLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLkRMSVggPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEZWxpdmVyeSBOdW1iZXIgIiArIGlETElYKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CiAgICAKICAgIGlmKCFpV0hMTy50cmltKCkuaXNFbXB0eSgpKQogICAgewogICAgICAvL1ZhbGlkYXRlIFdhcmVob3VzZSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIldITE8iOmlXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBpV0hMTykKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAwNU1JIiwgIkdldFdhcmVob3VzZSIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CgoKICB9CiAgCiAgCiAgLyoqCiAgICpVcGRhdGUgcmVjb3JkcyB0byBFWFRYRkwgdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHVwZGF0ZVJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFhGTCIpLnNlbGVjdGlvbigiRVhDSE5PIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkVYRElWSSIsIGlESVZJKQogICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pCiAgICBjb250YWluZXIuc2V0KCJFWE9STk8iLCBpT1JOTykKICAgIGNvbnRhaW5lci5zZXQoIkVYRExJWCIsIGlETElYKQogICAgY29udGFpbmVyLnNldCgiRVhSQ0lEIiwgaVJDSUQpCiAgICBjb250YWluZXIuc2V0KCJFWFJMUE4iLCBpUkxQTikKICAgIGNvbnRhaW5lci5zZXQoIkVYSVROTyIsIGlJVE5PKQogICAgY29udGFpbmVyLnNldCgiRVhUUk5PIiwgaVRSTk8pCiAgICBpZiAocXVlcnkucmVhZChjb250YWluZXIpKSB7CiAgICAgIHF1ZXJ5LnJlYWRMb2NrKGNvbnRhaW5lciwgdXBkYXRlQ2FsbEJhY2spCiAgICB9IGVsc2UgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiB1cGRhdGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgIGludCBDSE5PID0gbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikKICAgIGlmICghaUJYTk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJYTk8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCWE5PIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCWE5PIiwgaUJYTk8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjAudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjAudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYwIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYwIiwgaVVERjApCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYxIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYxIiwgaVVERjEpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYyIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYyIiwgaVVERjIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYzIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYzIiwgaVVERjMpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY0IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY0IiwgaVVERjQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjUudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjUudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY1IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY1IiwgaVVERjUpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY2IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY2IiwgaVVERjYpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjcudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjcudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY3IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY3IiwgaVVERjcpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjgudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjgudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY4IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY4IiwgaVVERjgpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVERjkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVERjkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY5IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY5IiwgaVVERjkpCiAgICAgIH0KICAgIH0KICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJRVUFOIikhPW51bGwmJiFtaS5pbkRhdGEuZ2V0KCJRVUFOIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFFVQU4iLCBpUVVBTiBhcyBmbG9hdCkKICAgIH0gCiAgICBpZiAobWkuaW5EYXRhLmdldCgiUVdHVCIpIT1udWxsJiYhbWkuaW5EYXRhLmdldCgiUVdHVCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhRV0dUIiwgaVFXR1QgYXMgZmxvYXQpCiAgICB9CiAgICBpZiAobWkuaW5EYXRhLmdldCgiVFdHVCIpIT1udWxsJiYhbWkuaW5EYXRhLmdldCgiVFdHVCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhUV0dUIiwgaVRXR1QgYXMgZmxvYXQpCiAgICB9IAogICAgaWYgKG1pLmluRGF0YS5nZXQoIlNUQVQiKSE9bnVsbCYmIW1pLmluRGF0YS5nZXQoIlNUQVQiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBVCIsIGlTVEFUIGFzIEludGVnZXIpCiAgICB9IAogICAgaWYgKG1pLmluRGF0YS5nZXQoIlBPTlIiKSE9bnVsbCYmIW1pLmluRGF0YS5nZXQoIlBPTlIiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIlBPTlIiLCBpUE9OUiBhcyBJbnRlZ2VyKQogICAgfSAKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExNVE0iLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKSkKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hOTyIsIENITk8rMSkKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpCiAgfQoKfQ=="}}}