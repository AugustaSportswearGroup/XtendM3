{"programModules":{"EXT100MI":{"program":"EXT100MI","triggers":{},"transactions":{"LstReplSKU":{"sourceUuid":"9a9d157f-cbea-4fee-a5fd-492f0fee404f","name":"LstReplSKU","program":"EXT100MI","description":"SKU's needing Replenishment","active":true,"multi":true,"modified":1706767325453,"modifiedBy":"ABHISHEK","outputFields":[{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"LNCT","description":"Line Count","length":5,"mandatory":false,"type":"N"},{"name":"ORQT","description":"Order Quantity","length":10,"mandatory":false,"type":"A"},{"name":"AVQT","description":"Available Inventory","length":10,"mandatory":false,"type":"A"}],"inputFields":[{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"PLDT","description":"Planning Date","length":8,"mandatory":false,"type":"A"},{"name":"DWDT","description":"Requested Delivery Date","length":8,"mandatory":false,"type":"A"},{"name":"INFL","description":"Inventory Flag","length":1,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"9a9d157f-cbea-4fee-a5fd-492f0fee404f":{"uuid":"9a9d157f-cbea-4fee-a5fd-492f0fee404f","updated":1707408294698,"updatedBy":"ABHISHEK","created":1705334114724,"createdBy":"SSWARNA","apiVersion":"0.9","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"C54C115A78730305C38540D8209994F28C85C66A2EE199F50FB34A6D5D69D9C6","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIGxpc3QgY3VzdG9tZXIgb3JkZXIgbGluZXMKICoKICogTmFtZTogRVhUMTAwTUkuTHN0UmVwbFNLVQogKiBEZXNjcmlwdGlvbjogVHJhbnNhY3Rpb24gdXNlZCB0byBnZXQgU0tVJ3MgbmVlZGluZyBSZXBsZW5pc2htZW50CiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjQwMTE1ICAgIHNzd2FybmFAYXVndXN0YXNwb3J0c3dlYXIuY29tICAgICAgTGlzdCBTS1UncyBuZWVkaW5nIFJlcGxlbmlzaG1lbnQKICoyMDI0MDIwOCAgICBBYmhpc2hla0FAZm9ydHVkZS5jbyAgICAgICAgICAgICAgIFVwZGF0aW5nIFZhbGlkYXRpb24gbG9naWMqLwogCmltcG9ydCBqYXZhLnRleHQuRGVjaW1hbEZvcm1hdAppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZQppbXBvcnQgamF2YS51dGlsLkhhc2hNYXAKaW1wb3J0IGphdmEudXRpbC5UcmVlTWFwCmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbnMKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lCgpwdWJsaWMgY2xhc3MgTHN0UmVwbFNLVSBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gewogIHByaXZhdGUgZmluYWwgTUlBUEkgbWkKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIHRyYW5zbGF0aW9uSWQsIG1heFBhZ2VTaXplID0gMTAwMDAKICBwcml2YXRlIFN0cmluZyBpV0hMTywgaVBMRFQsIGlEV0RULCBpSU5GTAogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQoKICBwdWJsaWMgTHN0UmVwbFNLVShNSUFQSSBtaSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIExvZ2dlckFQSSBsb2dnZXIpIHsKICAgIHRoaXMubWkgPSBtaTsKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcgogIH0KCiAgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gZ2V0T09MSU5FUmVjb3JkcyA9IG5ldyBIYXNoTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiAoKQogIExpbmtlZEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+IHNvcnRlZEhhc2hNYXAgPSBuZXcgTGlua2VkSGFzaE1hcCA8ID4gKCkKICBUcmVlTWFwIDwgSW50ZWdlciwgTGlzdCA8IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+Pj4gc29ydGVkTWFwID0gbmV3IFRyZWVNYXAgPCA+IChDb2xsZWN0aW9ucy5yZXZlcnNlT3JkZXIoKSk7CgogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpQ09OTyA9IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyCiAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQogICAgaVBMRFQgPSAobWkuaW5EYXRhLmdldCgiUExEVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUExEVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQTERUIikKICAgIGlEV0RUID0gKG1pLmluRGF0YS5nZXQoIkRXRFQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRXRFQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRFdEVCIpCiAgICBpSU5GTCA9IChtaS5pbkRhdGEuZ2V0KCJJTkZMIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJTkZMIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklORkwiKQoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYgKHZhbGlkSW5wdXQpIHsKICAgICAgbGlzdFJlY29yZCgpCiAgICAgIHNvcnRIYXNoTWFwKCkKICAgICAgZ2V0V2FyZWhvdXNlUXVhbnRpdHkoKQoKICAgIH0KICB9CgogIC8qKgogICAqVmFsaWRhdGUgcmVjb3JkcyAKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHZvaWQgdmFsaWRhdGVJbnB1dCgpIHsKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIAogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgaWYgKCFpV0hMTy50b1N0cmluZygpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiV0hMTyI6IGlXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFdhcmVob3VzZSBOdW1iZXIgIiArIGlXSExPKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiAKICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KICB9CiAgcHVibGljIHZvaWQgbGlzdFJlY29yZCgpIHsKICAgICBpZihpUExEVC5lcXVhbHMoIiIpKXsKICAgICAgaVBMRFQgPSBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvU3RyaW5nKCkKICAgIH0KICAgIERhdGVUaW1lRm9ybWF0dGVyIGZvcm1hdHRlciA9IERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKQogICAgU3RyaW5nIERXRFRUbywgRFdEVEZyb20KICAgIGlmICghaURXRFQuZXF1YWxzKCIiKSkgewogICAgICBMb2NhbERhdGUgb3JpZ2luYWxEYXRlID0gTG9jYWxEYXRlLnBhcnNlKGlEV0RULCBmb3JtYXR0ZXIpCiAgICAgIExvY2FsRGF0ZSByZXN1bHREYXRlID0gb3JpZ2luYWxEYXRlLm1pbnVzRGF5cygxODApCiAgICAgIERXRFRUbyA9IG9yaWdpbmFsRGF0ZS5mb3JtYXQoZm9ybWF0dGVyKQogICAgICBEV0RURnJvbSA9IHJlc3VsdERhdGUuZm9ybWF0KGZvcm1hdHRlcikKICAgIH0gZWxzZSB7CiAgICAgIExvY2FsRGF0ZSBvcmlnaW5hbERhdGUgPSBMb2NhbERhdGUucGFyc2UoaVBMRFQsIGZvcm1hdHRlcikKICAgICAgTG9jYWxEYXRlIHJlc3VsdERhdGUgPSBvcmlnaW5hbERhdGUubWludXNEYXlzKDE4MCkKICAgICAgRFdEVFRvID0gb3JpZ2luYWxEYXRlLmZvcm1hdChmb3JtYXR0ZXIpCiAgICAgIERXRFRGcm9tID0gcmVzdWx0RGF0ZS5mb3JtYXQoZm9ybWF0dGVyKQogICAgfQoKICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiT09MSU5FIikKICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLmdlKCJPQk9SU1QiLCAiMjIiKS5hbmQoZXhwcmVzc2lvbi5sZSgiT0JPUlNUIiwgIjI3IikpLmFuZChleHByZXNzaW9uLmVxKCJPQldITE8iLCBpV0hMTykpLmFuZChleHByZXNzaW9uLmdlKCJPQkRXRFQiLCBEV0RURnJvbSkpLmFuZChleHByZXNzaW9uLmxlKCJPQkRXRFQiLCBEV0RUVG8pKS5hbmQoZXhwcmVzc2lvbi5sZSgiT0JQTERUIiwgaVBMRFQpKS5vcihleHByZXNzaW9uLmVxKCJPQlBMRFQiLCBpUExEVCkpCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPT0xJTkUiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHByZXNzaW9uKS5zZWxlY3Rpb24oIk9CSVROTyIsICJPQldITE8iLCAiT0JPUlFUIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIk9CQ09OTyIsIGlDT05PKQogICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDEsIHJlc3VsdHNldCkKCiAgfQoKICBDbG9zdXJlIDwgPyA+IHJlc3VsdHNldCA9IHsKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciAtPgogICAgU3RyaW5nIElUTk8gPSBjb250YWluZXIuZ2V0KCJPQklUTk8iKQogICAgU3RyaW5nIFdITE8gPSBjb250YWluZXIuZ2V0KCJPQldITE8iKQogICAgU3RyaW5nIE9SUVQgPSBjb250YWluZXIuZ2V0KCJPQk9SUVQiKQoKICAgIFN0cmluZyBrZXkgPSBJVE5PICsgIiwiICsgV0hMTwogICAgU3RyaW5nIHZhbHVlID0gT1JRVCArICIsMSIKICAgIGlmIChnZXRPT0xJTkVSZWNvcmRzLmNvbnRhaW5zS2V5KGtleSkpIHsKICAgICAgdmFsdWUgPSBnZXRPT0xJTkVSZWNvcmRzLmdldChrZXkpCiAgICAgIGdldE9PTElORVJlY29yZHMucmVtb3ZlKGtleSkKICAgICAgU3RyaW5nIHRlbXBPUlFUID0gdmFsdWUuc3BsaXQoIiwiKVswXQogICAgICBTdHJpbmcgY291bnQgPSB2YWx1ZS5zcGxpdCgiLCIpWzFdCiAgICAgIERvdWJsZSBuZXdPUlFUID0gRG91YmxlLnBhcnNlRG91YmxlKE9SUVQpICsgRG91YmxlLnBhcnNlRG91YmxlKHRlbXBPUlFUKQogICAgICB2YWx1ZSA9IG5ld09SUVQgKyAiLCIgKyAoSW50ZWdlci5wYXJzZUludChjb3VudCkgKyAxKQogICAgICBnZXRPT0xJTkVSZWNvcmRzLnB1dChrZXksIHZhbHVlKQogICAgfSBlbHNlIHsKICAgICAgZ2V0T09MSU5FUmVjb3Jkcy5wdXQoa2V5LCB2YWx1ZSkKICAgIH0KCiAgfQoKICAvKioKICAgKlNvcnQgSGFzaG1hcAogICAqIEBwYXJhbXMgCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgdm9pZCBzb3J0SGFzaE1hcCgpIHsKCiAgICBmb3IgKE1hcC5FbnRyeSA8IFN0cmluZywgU3RyaW5nID4gZW50cnk6IGdldE9PTElORVJlY29yZHMuZW50cnlTZXQoKSkgewogICAgICBpbnQgY291bnQgPSBJbnRlZ2VyLnBhcnNlSW50KGVudHJ5LmdldFZhbHVlKCkuc3BsaXQoIiwiKVsxXSkKICAgICAgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gbWFwMSA9IG5ldyBIYXNoTWFwIDwgPiAoKQogICAgICBtYXAxLnB1dChlbnRyeS5nZXRLZXkoKSwgZW50cnkuZ2V0VmFsdWUoKSkKICAgICAgTGlzdCA8IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+PiBleGlzdGluZ0xpc3QgPSBzb3J0ZWRNYXAuZ2V0KGNvdW50KQogICAgICBpZiAoZXhpc3RpbmdMaXN0ID09IG51bGwpIHsKICAgICAgICBleGlzdGluZ0xpc3QgPSBuZXcgQXJyYXlMaXN0IDwgPiAoKQogICAgICAgIGV4aXN0aW5nTGlzdC5hZGQobWFwMSkKICAgICAgICBzb3J0ZWRNYXAucHV0KGNvdW50LCBleGlzdGluZ0xpc3QpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhpc3RpbmdMaXN0LmFkZChtYXAxKQogICAgICAgIHNvcnRlZE1hcC5wdXQoY291bnQsIGV4aXN0aW5nTGlzdCkKICAgICAgfQogICAgfQoKICB9CgogIHB1YmxpYyB2b2lkIGdldFdhcmVob3VzZVF1YW50aXR5KCkgewoKICAgIGZvciAoSW50ZWdlciBrZXk6IHNvcnRlZE1hcC5rZXlTZXQoKSkgewogICAgICBMaXN0IDwgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4+IHZhbHVlcyA9IHNvcnRlZE1hcC5nZXQoa2V5KQogICAgICBmb3IgKEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+IG1hcDogdmFsdWVzKSB7CiAgICAgICAgLy8gSXRlcmF0aW5nIHRocm91Z2ggZWFjaCBIYXNoTWFwCiAgICAgICAgZm9yIChTdHJpbmcgaGFzaEtleTogbWFwLmtleVNldCgpKSB7CiAgICAgICAgICBTdHJpbmcgdmFsdWUgPSBtYXAuZ2V0KGhhc2hLZXkpOwogICAgICAgICAgU3RyaW5nIElUTk8gPSBoYXNoS2V5LnNwbGl0KCIsIilbMF0KICAgICAgICAgIFN0cmluZyBXSExPID0gaGFzaEtleS5zcGxpdCgiLCIpWzFdCiAgICAgICAgICBTdHJpbmcgT1JRVCA9IHZhbHVlLnNwbGl0KCIsIilbMF0KICAgICAgICAgIFN0cmluZyBjb3VudCA9IHZhbHVlLnNwbGl0KCIsIilbMV0KICAgICAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1JVEJBTCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiTUJTVFFUIiwgIk1CUkVRVCIpLmJ1aWxkKCkKICAgICAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICAgICAgICBjb250YWluZXIuc2V0KCJNQkNPTk8iLCBpQ09OTykKICAgICAgICAgIGNvbnRhaW5lci5zZXQoIk1CSVROTyIsIElUTk8pCiAgICAgICAgICBjb250YWluZXIuc2V0KCJNQldITE8iLCBXSExPKQogICAgICAgICAgaWYgKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgewogICAgICAgICAgICBEb3VibGUgU1RRVCA9IGNvbnRhaW5lci5nZXREb3VibGUoIk1CU1RRVCIpCiAgICAgICAgICAgIERvdWJsZSBSRVFUID0gY29udGFpbmVyLmdldERvdWJsZSgiTUJSRVFUIikKICAgICAgICAgICAgRG91YmxlIEFWUVQgPSBTVFFUIC0gUkVRVAogICAgICAgICAgICBpZiAoaUlORkwudHJpbSgpLmVxdWFscygiMSIpKSB7CiAgICAgICAgICAgICAgaWYgKEFWUVQgPiAwKSB7CiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiSVROTyIsIElUTk8pCiAgICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiTE5DVCIsIGNvdW50KQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIk9SUVQiLCBPUlFUKQogICAgICAgICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkFWUVQiLCBBVlFUICsgIiIpCiAgICAgICAgICAgICAgICBtaS53cml0ZSgpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJJVE5PIiwgSVROTykKICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiTE5DVCIsIGNvdW50KQogICAgICAgICAgICAgIG1pLm91dERhdGEucHV0KCJPUlFUIiwgT1JRVCkKICAgICAgICAgICAgICBtaS5vdXREYXRhLnB1dCgiQVZRVCIsIEFWUVQgKyAiIikKICAgICAgICAgICAgICBtaS53cml0ZSgpCiAgICAgICAgICAgIH0KCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0KfQ=="}}}