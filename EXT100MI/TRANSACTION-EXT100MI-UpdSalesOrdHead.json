{"programModules":{"EXT100MI":{"program":"EXT100MI","triggers":{},"transactions":{"UpdSalesOrdHead":{"sourceUuid":"153501e0-d886-4f39-af99-9f90fe9b3f5e","name":"UpdSalesOrdHead","program":"EXT100MI","description":"Update Sales Order Header Details","active":true,"multi":false,"modified":1706886468221,"modifiedBy":"ABHISHEK","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"ORNO","description":"Order Number","length":10,"mandatory":true,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"N"},{"name":"ORTP","description":"Work Order Order Type","length":3,"mandatory":false,"type":"A"},{"name":"STAT","description":"Status","length":2,"mandatory":false,"type":"A"},{"name":"SHED","description":"Ship Expire Date","length":8,"mandatory":false,"type":"N"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"BTNM","description":"Bill To Name","length":36,"mandatory":false,"type":"A"},{"name":"BTA1","description":"Bill To Address 1","length":36,"mandatory":false,"type":"A"},{"name":"BTA2","description":"Bill To Address 2","length":36,"mandatory":false,"type":"A"},{"name":"BTTO","description":"Bill To Town","length":20,"mandatory":false,"type":"A"},{"name":"BTEC","description":"Bill To State","length":2,"mandatory":false,"type":"A"},{"name":"BTPO","description":"Bill To Postal Code","length":10,"mandatory":false,"type":"A"},{"name":"BTCS","description":"Bill To Country","length":3,"mandatory":false,"type":"A"},{"name":"STNM","description":"Ship To Name","length":36,"mandatory":false,"type":"A"},{"name":"STA1","description":"Ship To Address 1","length":36,"mandatory":false,"type":"A"},{"name":"STA2","description":"Ship To Address 2","length":36,"mandatory":false,"type":"A"},{"name":"STTO","description":"Ship To Town","length":20,"mandatory":false,"type":"A"},{"name":"STEC","description":"Ship To State","length":2,"mandatory":false,"type":"A"},{"name":"STPO","description":"Ship To Postal Code","length":10,"mandatory":false,"type":"A"},{"name":"STCS","description":"Ship To Country","length":3,"mandatory":false,"type":"A"},{"name":"SHVI","description":"Ship Via","length":15,"mandatory":false,"type":"A"},{"name":"SHWT","description":"Ship Weight","length":5,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Purchase Order","length":20,"mandatory":false,"type":"A"},{"name":"FOBC","description":"FOB Code","length":15,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse Code","length":3,"mandatory":false,"type":"A"},{"name":"TXID","description":"Comment","length":13,"mandatory":false,"type":"N"},{"name":"TEDL","description":"Terms Code","length":3,"mandatory":false,"type":"A"},{"name":"FAXT","description":"Fax Number","length":17,"mandatory":false,"type":"A"},{"name":"EMAL","description":"Email","length":60,"mandatory":false,"type":"A"},{"name":"RSAD","description":"Residential Address","length":1,"mandatory":false,"type":"A"},{"name":"TXAM","description":"Taxable Amount","length":15,"mandatory":false,"type":"N"},{"name":"NTAM","description":"Non Taxable Amount","length":15,"mandatory":false,"type":"N"},{"name":"STAM","description":"Sales Tax Amount","length":15,"mandatory":false,"type":"N"},{"name":"FRAM","description":"Freight Amount","length":15,"mandatory":false,"type":"N"},{"name":"UFED","description":"UDF FED EX ACCT","length":15,"mandatory":false,"type":"A"},{"name":"UUPS","description":"UDF UPS ACCT","length":15,"mandatory":false,"type":"A"},{"name":"UCUS","description":"UDF CUST CARRIER PREF","length":5,"mandatory":false,"type":"A"},{"name":"UPHO","description":"UDF PH ORD TYP","length":11,"mandatory":false,"type":"A"},{"name":"UCSR","description":"UDF CSR CODE","length":20,"mandatory":false,"type":"A"},{"name":"URUS","description":"UDF RUSH","length":1,"mandatory":false,"type":"A"},{"name":"UPM3","description":"Updated By M3","length":1,"mandatory":false,"type":"A"},{"name":"DLFG","description":"Delete Flag","length":1,"mandatory":false,"type":"A"},{"name":"M3CH","description":"M3 Change ID","length":10,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"153501e0-d886-4f39-af99-9f90fe9b3f5e":{"uuid":"153501e0-d886-4f39-af99-9f90fe9b3f5e","updated":1707389741300,"updatedBy":"ABHISHEK","created":1685374220158,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"DDFFB1607946CF18A144F461B73AA06F03D569CD7A9E9D4E772DA227072F3F1D","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFNPSCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDEwME1JLlVwZFNhbGVzT3JkSGVhZAogKiBEZXNjcmlwdGlvbjogVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRTT0ggdGFibGUKICogRGF0ZSAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uCiAqMjAyMzAyMTAgIFN1cml5YU5AZm9ydHVkZS5jbyAgICBVcGRhdGluZyByZWNvcmRzIHRvIEVYVFNPSCB0YWJsZQogKjIwMjQwMjA4ICBBYmhpc2hla0FAZm9ydHVkZS5jbyAgVXBkYXRpbmcgVmFsaWRhdGlvbiBsb2dpYwogKgogKi8KCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcgoKcHVibGljIGNsYXNzIFVwZFNhbGVzT3JkSGVhZCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gewogIHByaXZhdGUgZmluYWwgTUlBUEkgbWkKICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyCgogIHByaXZhdGUgU3RyaW5nIGlPUlRQLCBpU1RBVCwgaUNVTk8sIGlCVE5NLCBpQlRBMSwgaUJUQTIsIGlCVFRPLCBpQlRFQywgaUJUUE8sIGlCVENTLCBpU1ROTSwgaVNUQTEsIGlTVEEyLCBpU1RUTywgaVNURUMsIGlTVFBPLCBpU1RDUywgaVNIVkksIGlTSFdULCBpQ1VPUiwgaUZPQkMsIGlXSExPLCBpVEVETCwgaUZBWFQsIGlFTUFMLCBpUlNBRCwgaVVGRUQsIGlVVVBTLCBpVUNVUywgaVVQSE8sIGlVQ1NSLCBpVVJVUywgaVVQTTMsIGlPUk5PLCBpRExGRywgaU0zQ0gKICBwcml2YXRlIGludCBpQ09OTywgaU9SRFQsIGlTSEVELCBpVFhJRAogIHByaXZhdGUgZG91YmxlIGlUWEFNLCBpTlRBTSwgaVNUQU0sIGlGUkFNCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkSW5wdXQgPSB0cnVlCiAgcHVibGljIFVwZFNhbGVzT3JkSGVhZChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlPUlRQID0gKG1pLmluRGF0YS5nZXQoIk9SVFAiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SVFAiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JUUCIpCiAgICBpU1RBVCA9IChtaS5pbkRhdGEuZ2V0KCJTVEFUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVEFUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQVQiKQogICAgaUNVTk8gPSAobWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikKICAgIGlCVE5NID0gKG1pLmluRGF0YS5nZXQoIkJUTk0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUTk0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlROTSIpCiAgICBpQlRBMSA9IChtaS5pbkRhdGEuZ2V0KCJCVEExIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCVEExIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJUQTEiKQogICAgaUJUQTIgPSAobWkuaW5EYXRhLmdldCgiQlRBMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQlRBMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCVEEyIikKICAgIGlCVFRPID0gKG1pLmluRGF0YS5nZXQoIkJUVE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUVE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlRUTyIpCiAgICBpQlRFQyA9IChtaS5pbkRhdGEuZ2V0KCJCVEVDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCVEVDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJURUMiKQogICAgaUJUUE8gPSAobWkuaW5EYXRhLmdldCgiQlRQTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQlRQTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCVFBPIikKICAgIGlCVENTID0gKG1pLmluRGF0YS5nZXQoIkJUQ1MiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUQ1MiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlRDUyIpCiAgICBpU1ROTSA9IChtaS5pbkRhdGEuZ2V0KCJTVE5NIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVE5NIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUTk0iKQogICAgaVNUQTEgPSAobWkuaW5EYXRhLmdldCgiU1RBMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1RBMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTVEExIikKICAgIGlTVEEyID0gKG1pLmluRGF0YS5nZXQoIlNUQTIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUQTIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RBMiIpCiAgICBpU1RUTyA9IChtaS5pbkRhdGEuZ2V0KCJTVFRPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVFRPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUVE8iKQogICAgaVNURUMgPSAobWkuaW5EYXRhLmdldCgiU1RFQyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1RFQyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTVEVDIikKICAgIGlTVFBPID0gKG1pLmluRGF0YS5nZXQoIlNUUE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUUE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RQTyIpCiAgICBpU1RDUyA9IChtaS5pbkRhdGEuZ2V0KCJTVENTIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVENTIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQ1MiKQogICAgaVNIVkkgPSAobWkuaW5EYXRhLmdldCgiU0hWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTSFZJIikKICAgIGlTSFdUID0gKG1pLmluRGF0YS5nZXQoIlNIV1QiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNIV1QiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU0hXVCIpCiAgICBpQ1VPUiA9IChtaS5pbkRhdGEuZ2V0KCJDVU9SIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDVU9SIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVT1IiKQogICAgaUZPQkMgPSAobWkuaW5EYXRhLmdldCgiRk9CQyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRk9CQyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJGT0JDIikKICAgIGlXSExPID0gKG1pLmluRGF0YS5nZXQoIldITE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hMTyIpCiAgICBpVEVETCA9IChtaS5pbkRhdGEuZ2V0KCJURURMIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJURURMIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRFREwiKQogICAgaUZBWFQgPSAobWkuaW5EYXRhLmdldCgiRkFYVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRkFYVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJGQVhUIikKICAgIGlFTUFMID0gKG1pLmluRGF0YS5nZXQoIkVNQUwiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkVNQUwiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRU1BTCIpCiAgICBpUlNBRCA9IChtaS5pbkRhdGEuZ2V0KCJSU0FEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJSU0FEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJTQUQiKQogICAgaVVGRUQgPSAobWkuaW5EYXRhLmdldCgiVUZFRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUZFRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRkVEIikKICAgIGlVVVBTID0gKG1pLmluRGF0YS5nZXQoIlVVUFMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVVUFMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVVVQUyIpCiAgICBpVUNVUyA9IChtaS5pbkRhdGEuZ2V0KCJVQ1VTIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVQ1VTIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVDVVMiKQogICAgaVVQSE8gPSAobWkuaW5EYXRhLmdldCgiVVBITyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVVBITyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVUEhPIikKICAgIGlVQ1NSID0gKG1pLmluRGF0YS5nZXQoIlVDU1IiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVDU1IiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUNTUiIpCiAgICBpVVJVUyA9IChtaS5pbkRhdGEuZ2V0KCJVUlVTIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVUlVTIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVSVVMiKQogICAgaVVQTTMgPSAobWkuaW5EYXRhLmdldCgiVVBNMyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVVBNMyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVUE0zIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpRExGRyA9IChtaS5pbkRhdGEuZ2V0KCJETEZHIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJETEZHIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkRMRkciKQogICAgaU0zQ0ggPSAobWkuaW5EYXRhLmdldCgiTTNDSCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTTNDSCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJNM0NIIikKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpT1JEVCA9IChtaS5pbkRhdGEuZ2V0KCJPUkRUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUkRUIikudHJpbSgpLmlzRW1wdHkoKSkgPyBpT1JEVCA6IG1pLmluRGF0YS5nZXQoIk9SRFQiKSBhcyBJbnRlZ2VyCiAgICBpVFhJRCA9IChtaS5pbkRhdGEuZ2V0KCJUWElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUWElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyBpVFhJRCA6IG1pLmluRGF0YS5nZXQoIlRYSUQiKSBhcyBJbnRlZ2VyCiAgICBpU0hFRCA9IChtaS5pbkRhdGEuZ2V0KCJTSEVEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTSEVEIikudHJpbSgpLmlzRW1wdHkoKSkgPyBpU0hFRCA6IG1pLmluRGF0YS5nZXQoIlNIRUQiKSBhcyBJbnRlZ2VyCiAgICBpVFhBTSA9IChtaS5pbkRhdGEuZ2V0KCJUWEFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUWEFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyBpVFhBTSA6IG1pLmluRGF0YS5nZXQoIlRYQU0iKSBhcyBEb3VibGUKICAgIGlOVEFNID0gKG1pLmluRGF0YS5nZXQoIk5UQU0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk5UQU0iKS50cmltKCkuaXNFbXB0eSgpKSA/IGlOVEFNIDogbWkuaW5EYXRhLmdldCgiTlRBTSIpIGFzIERvdWJsZQogICAgaVNUQU0gPSAobWkuaW5EYXRhLmdldCgiU1RBTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1RBTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gaVNUQU0gOiBtaS5pbkRhdGEuZ2V0KCJTVEFNIikgYXMgRG91YmxlCiAgICBpRlJBTSA9IChtaS5pbkRhdGEuZ2V0KCJGUkFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJGUkFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyBpRlJBTSA6IG1pLmluRGF0YS5nZXQoIkZSQU0iKSBhcyBEb3VibGUKICAgIHZhbGlkYXRlSW5wdXQoaUNPTk8sIGlPUk5PLCBpQ1VOTywgaUNVT1IsIGlXSExPLCBpT1JUUCkKICAgIGlmICh2YWxpZElucHV0KSB7CiAgICAgIHVwZGF0ZVJlY29yZCgpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIGlucHV0cwogICAqIEBwYXJhbXMgaW50IENPTk8gLFN0cmluZyBPUk5PLFN0cmluZyBDVU5PLFN0cmluZyBDVU9SLFN0cmluZyBXSExPCiAgICogQHJldHVybiAKICAgKi8KICBwcml2YXRlIHZvaWQgdmFsaWRhdGVJbnB1dChpbnQgQ09OTywgU3RyaW5nIE9STk8sIFN0cmluZyBDVU5PLCBTdHJpbmcgQ1VPUiwgU3RyaW5nIFdITE8sIFN0cmluZyBPUlRQKSB7CiAgICBTdHJpbmcgbTNDVU9SID0gIiIKCiAgICAvL1ZhbGlkYXRlIENvbXBhbnkgTnVtYmVyCiAgICBNYXAgPCBTdHJpbmcsIFN0cmluZyA+IHBhcmFtcyA9IFsiQ09OTyI6IENPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgQ09OTykKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgIHBhcmFtcyA9IFsiT1JOTyI6IE9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBPUk5PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiAKICAgICAgfSBlbHNlIHsKICAgICAgICBtM0NVT1IgPSByZXNwb25zZS5DVU9SCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzEwME1JIiwgIkdldE9yZGVySGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgaWYgKCFDVU9SLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBQdXJjaGFzZSBPcmRlciBOdW1iZXIKICAgICAgaWYgKCFtM0NVT1IudHJpbSgpLmVxdWFscyhpQ1VPUi50cmltKCkpKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgUHVyY2hhc2UgT3JkZXIgTnVtYmVyICIgKyBpQ1VPUikKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gCiAgICAgIH0KICAgIH0KICAgIGlmICghQ1VOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgQ3VzdG9tZXIgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IENPTk8udG9TdHJpbmcoKS50cmltKCksICJDVU5PIjogQ1VOTy50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5DVU5PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEN1c3RvbWVyIE51bWJlciAiICsgcmVzcG9uc2UpCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybiAKICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjEwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZiAoIVdITE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAvL1ZhbGlkYXRlIFdhcmVob3VzZSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIldITE8iOiBXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuV0hMTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBXSExPKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gCiAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAwNU1JIiwgIkdldFdhcmVob3VzZSIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CgogIH0KCiAgLyoqCiAgICpVcGRhdGUgcmVjb3JkcyB0byBFWFRTT0ggdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHZvaWQgdXBkYXRlUmVjb3JkKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU09IIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkVYT1JOTyIsIGlPUk5PKQogICAgaWYgKCFxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZUNhbGxCYWNrKSkgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQoKICB9CgogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2sgPSB7CiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICBpbnQgQ0hOTyA9IGxvY2tlZFJlc3VsdC5nZXQoIkVYQ0hOTyIpCiAgICBpZiAoIWlPUlRQLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlPUlRQLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JUUCIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JUUCIsIGlPUlRQKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVEFULnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVEFULnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBVCIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBVCIsIGlTVEFUKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlDVU5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlDVU5PLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VOTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VOTyIsIGlDVU5PKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVE5NLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVE5NLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlROTSIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlROTSIsIGlCVE5NKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVEExLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVEExLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRBMSIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRBMSIsIGlCVEExKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVEEyLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVEEyLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRBMiIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRBMiIsIGlCVEEyKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVFRPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVFRPLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRUTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRUTyIsIGlCVFRPKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVEVDLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVEVDLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRFQyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRFQyIsIGlCVEVDKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVFBPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVFBPLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRQTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRQTyIsIGlCVFBPKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlCVENTLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlCVENTLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRDUyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQlRDUyIsIGlCVENTKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVE5NLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVE5NLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1ROTSIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1ROTSIsIGlTVE5NKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVEExLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVEExLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBMSIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBMSIsIGlTVEExKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVEEyLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVEEyLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBMiIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBMiIsIGlTVEEyKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVFRPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVFRPLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RUTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RUTyIsIGlTVFRPKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVEVDLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVEVDLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RFQyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RFQyIsIGlTVEVDKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVFBPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVFBPLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RQTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RQTyIsIGlTVFBPKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTVENTLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTVENTLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RDUyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RDUyIsIGlTVENTKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTSFZJLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTSFZJLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU0hWSSIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU0hWSSIsIGlTSFZJKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlTSFdULnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlTSFdULnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU0hXVCIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU0hXVCIsIGlTSFdUKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlDVU9SLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlDVU9SLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VPUiIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VPUiIsIGlDVU9SKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlGT0JDLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlGT0JDLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRk9CQyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRk9CQyIsIGlGT0JDKQogICAgICB9CiAgICB9CiAgICBpZiAoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgaWYgKGlXSExPLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYV0hMTyIsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYV0hMTyIsIGlXSExPKQogICAgICB9CiAgICB9CgogICAgaWYgKCFpVEVETC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVEVETC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRFREwiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRFREwiLCBpVEVETCkKICAgICAgfQogICAgfQogICAgaWYgKCFpRkFYVC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpRkFYVC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEZBWFQiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEZBWFQiLCBpRkFYVCkKICAgICAgfQogICAgfQogICAgaWYgKCFpRU1BTC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpRU1BTC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEVNQUwiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEVNQUwiLCBpRU1BTCkKICAgICAgfQogICAgfQogICAgaWYgKCFpUlNBRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpUlNBRC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFJTQUQiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFJTQUQiLCBpUlNBRCkKICAgICAgfQogICAgfQogICAgaWYgKCFpVUZFRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVUZFRC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVGRUQiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVGRUQiLCBpVUZFRCkKICAgICAgfQogICAgfQogICAgaWYgKCFpVVVQUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVVVQUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVVUFMiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVVUFMiLCBpVVVQUykKICAgICAgfQogICAgfQogICAgaWYgKCFpVUNVUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVUNVUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVDVVMiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVDVVMiLCBpVUNVUykKICAgICAgfQogICAgfQogICAgaWYgKCFpVVBITy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVVBITy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVQSE8iLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVQSE8iLCBpVVBITykKICAgICAgfQogICAgfQogICAgaWYgKCFpVUNTUi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVUNTUi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVDU1IiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVDU1IiLCBpVUNTUikKICAgICAgfQogICAgfQogICAgaWYgKCFpVVJVUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVVJVUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVSVVMiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVSVVMiLCBpVVJVUykKICAgICAgfQogICAgfQogICAgaWYgKCFpVVBNMy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpVVBNMy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVQTTMiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVQTTMiLCBpVVBNMykKICAgICAgfQogICAgfQogICAgaWYgKCFpRExGRy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpRExGRy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWERMRkciLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWERMRkciLCBpRExGRykKICAgICAgfQogICAgfQogICAgaWYgKCFpTTNDSC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpRExGRy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE0zQ0giLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE0zQ0giLCBpTTNDSCkKICAgICAgfQogICAgfQoKICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJPUkRUIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiT1JEVCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUkRUIiwgaU9SRFQpCiAgICB9CgogICAgaWYgKG1pLmluRGF0YS5nZXQoIlRYSUQiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJUWElEIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRYSUQiLCBpVFhJRCkKICAgIH0KCiAgICBpZiAobWkuaW5EYXRhLmdldCgiU0hFRCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlNIRUQiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU0hFRCIsIGlTSEVEKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIlRYQU0iKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJUWEFNIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRYQU0iLCBpVFhBTSkKICAgIH0KICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJOVEFNIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiTlRBTSIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhOVEFNIiwgaU5UQU0pCiAgICB9CiAgICBpZiAobWkuaW5EYXRhLmdldCgiU1RBTSIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlNUQU0iKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RBTSIsIGlTVEFNKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIkZSQU0iKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJGUkFNIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEZSQU0iLCBpRlJBTSkKICAgIH0KICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExNVE0iLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKSkKICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgQ0hOTysxKQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpCiAgfQp9"}}}