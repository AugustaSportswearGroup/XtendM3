{"programModules":{"EXT008MI":{"program":"EXT008MI","triggers":{},"transactions":{"UpdateItem":{"sourceUuid":"153501e0-d886-4f39-af22-9f00fe9b3f5e","name":"UpdateItem","program":"EXT008MI","description":"Update Item Information","active":true,"multi":false,"modified":1686030611579,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"ITNO","description":"Item Number","length":30,"mandatory":true,"type":"A"},{"name":"ITTY","description":"Item Type","length":50,"mandatory":false,"type":"A"},{"name":"FUDS","description":"Item Description","length":50,"mandatory":false,"type":"A"},{"name":"PRCD","description":"Price Code","length":50,"mandatory":false,"type":"A"},{"name":"PRLN","description":"Product Line","length":50,"mandatory":false,"type":"A"},{"name":"PRTP","description":"Product Type","length":50,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse Code","length":50,"mandatory":false,"type":"A"},{"name":"CTG1","description":"Category 1","length":50,"mandatory":false,"type":"A"},{"name":"CTG2","description":"Category 2","length":50,"mandatory":false,"type":"A"},{"name":"CTG3","description":"Category 3","length":50,"mandatory":false,"type":"A"},{"name":"CTG4","description":"Category 4","length":50,"mandatory":false,"type":"A"},{"name":"TXID","description":"Comments","length":2048,"mandatory":false,"type":"A"},{"name":"STUC","description":"Standard Unit Cost","length":15,"mandatory":false,"type":"N"},{"name":"STUP","description":"Stamdard Unit Price","length":15,"mandatory":false,"type":"N"},{"name":"UCLR","description":"UDF_Color","length":255,"mandatory":false,"type":"A"},{"name":"ALBO","description":"Allow Back Orders","length":50,"mandatory":false,"type":"A"},{"name":"INAI","description":"Inactive Item","length":50,"mandatory":false,"type":"A"},{"name":"UBCL","description":"UDF BUTTON COLOR","length":50,"mandatory":false,"type":"A"},{"name":"UCLO","description":"UDF CLOSURE","length":50,"mandatory":false,"type":"A"},{"name":"UCFA","description":"UDF COLOR FAMILY","length":50,"mandatory":false,"type":"A"},{"name":"UCRC","description":"UDF CROWN COLOR","length":50,"mandatory":false,"type":"A"},{"name":"UCRS","description":"UDF CROWN SHAPE","length":50,"mandatory":false,"type":"A"},{"name":"UEMT","description":"UDF EMBROIDERY TYPE","length":50,"mandatory":false,"type":"A"},{"name":"UEYC","description":"UDF EYELET COLOR","length":50,"mandatory":false,"type":"A"},{"name":"FPCL","description":"UDF FRONT PANEL COLOR","length":50,"mandatory":false,"type":"A"},{"name":"UPIC","description":"UDF PIPING COLOR","length":50,"mandatory":false,"type":"A"},{"name":"SWET","description":"UDF SWEATBAND","length":50,"mandatory":false,"type":"A"},{"name":"UUCL","description":"UDF UNDERVISOR COLOR","length":50,"mandatory":false,"type":"A"},{"name":"UVIS","description":"UDF VISOR","length":50,"mandatory":false,"type":"A"},{"name":"UVAC","description":"UDF VISOR ACCENT COLOR","length":50,"mandatory":false,"type":"A"},{"name":"UVIC","description":"UDF VISOR COLOR","length":50,"mandatory":false,"type":"A"},{"name":"UDCG","description":"UDF DECOGROUP","length":50,"mandatory":false,"type":"A"},{"name":"PRTY","description":"PartType","length":50,"mandatory":false,"type":"A"},{"name":"UCLC","description":"UDF COLOR CODE","length":30,"mandatory":false,"type":"A"},{"name":"UCLS","description":"UDF COLOR SHORT","length":255,"mandatory":false,"type":"A"},{"name":"LSGI","description":"Legacy Sage Item","length":1,"mandatory":false,"type":"A"},{"name":"M3IT","description":"M3SKU","length":255,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"153501e0-d886-4f39-af22-9f00fe9b3f5e":{"uuid":"153501e0-d886-4f39-af22-9f00fe9b3f5e","updated":1701778350962,"updatedBy":"ABHISHEK","created":1686030600632,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230918173517.9","language":"GROOVY","codeHash":"A404802471FFEF16DF977AC0C3EF7F53D2A989C6FC2F7847452E39372B912650","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVElUTSB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDAwOE1JLlVwZGF0ZUl0ZW0KICogRGVzY3JpcHRpb246IFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUSVRNIHRhYmxlCiAqIERhdGUgICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwMjEzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRJVE0gdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCgpwdWJsaWMgY2xhc3MgVXBkYXRlSXRlbSBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gewogICAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogICAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogICAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0KICAgIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgICBwcml2YXRlIFN0cmluZyBpSVROTyxpSVRUWSwgaUZVRFMsIGlQUkNELCBpUFJMTiwgaVBSVFAsIGlXSExPLCBpQ1RHMSwgaUNURzIsIGlDVEczLCBpQ1RHNCwgaVRYSUQsIGlVQ0xSLCBpQUxCTywgaUlOQUksIGlVQkNMLCBpVUNMTywgaVVDRkEsIGlVQ1JDLCBpVUNSUywgaVVFTVQsIGlVRVlDLCBpRlBDTCwgaVVQSUMsIGlTV0VULCBpVVVDTCwgaVVWSVMsIGlVVkFDLCBpVVZJQywgaVVEQ0csIGlQUlRZLCBpVUNMQywgaVVDTFMsIGlMU0dJLCBpTTNJVAoKICAgIHByaXZhdGUgaW50IGlDT05PLCBpU1RVQywgaVNUVVAKICAgIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0PSB0cnVlCiAgICBwdWJsaWMgVXBkYXRlSXRlbShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgICAgICB0aGlzLm1pID0gbWkKICAgICAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICAgICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyCiAgICB9CiAgICAvKioKICAgICAqKiBNYWluIGZ1bmN0aW9uCiAgICAgKiBAcGFyYW0KICAgICAqIEByZXR1cm4KICAgICAqLwogICAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVE5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVE5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUTk8iKQogICAgICAgIGlJVFRZID0gKG1pLmluRGF0YS5nZXQoIklUVFkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUVFkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVRUWSIpCiAgICAgICAgaUZVRFMgPSAobWkuaW5EYXRhLmdldCgiRlVEUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRlVEUyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJGVURTIikKICAgICAgICBpUFJDRCA9IChtaS5pbkRhdGEuZ2V0KCJQUkNEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQUkNEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBSQ0QiKQogICAgICAgIGlQUkxOID0gKG1pLmluRGF0YS5nZXQoIlBSTE4iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBSTE4iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUFJMTiIpCiAgICAgICAgaVBSVFAgPSAobWkuaW5EYXRhLmdldCgiUFJUUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUFJUUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQUlRQIikKICAgICAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQogICAgICAgIGlDVEcxID0gKG1pLmluRGF0YS5nZXQoIkNURzEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNURzEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1RHMSIpCiAgICAgICAgaUNURzIgPSAobWkuaW5EYXRhLmdldCgiQ1RHMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1RHMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVEcyIikKICAgICAgICBpQ1RHMyA9IChtaS5pbkRhdGEuZ2V0KCJDVEczIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDVEczIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNURzMiKQogICAgICAgIGlDVEc0ID0gKG1pLmluRGF0YS5nZXQoIkNURzQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNURzQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1RHNCIpCiAgICAgICAgaVRYSUQgPSAobWkuaW5EYXRhLmdldCgiVFhJRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVFhJRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJUWElEIikKICAgICAgICBpVUNMUiA9IChtaS5pbkRhdGEuZ2V0KCJVQ0xSIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVQ0xSIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVDTFIiKQogICAgICAgIGlBTEJPID0gKG1pLmluRGF0YS5nZXQoIkFMQk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFMQk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQUxCTyIpCiAgICAgICAgaUlOQUkgPSAobWkuaW5EYXRhLmdldCgiSU5BSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSU5BSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJTkFJIikKICAgICAgICBpVUJDTCA9IChtaS5pbkRhdGEuZ2V0KCJVQkNMIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVQkNMIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVCQ0wiKQogICAgICAgIGlVQ0xPID0gKG1pLmluRGF0YS5nZXQoIlVDTE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVDTE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUNMTyIpCiAgICAgICAgaVVDRkEgPSAobWkuaW5EYXRhLmdldCgiVUNGQSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUNGQSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVQ0ZBIikKICAgICAgICBpVUNSQyA9IChtaS5pbkRhdGEuZ2V0KCJVQ1JDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVQ1JDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVDUkMiKQogICAgICAgIGlVQ1JTID0gKG1pLmluRGF0YS5nZXQoIlVDUlMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVDUlMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUNSUyIpCiAgICAgICAgaVVFTVQgPSAobWkuaW5EYXRhLmdldCgiVUVNVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUVNVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRU1UIikKICAgICAgICBpVUVZQyA9IChtaS5pbkRhdGEuZ2V0KCJVRVlDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRVlDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVFWUMiKQogICAgICAgIGlGUENMID0gKG1pLmluRGF0YS5nZXQoIkZQQ0wiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkZQQ0wiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRlBDTCIpCiAgICAgICAgaVVQSUMgPSAobWkuaW5EYXRhLmdldCgiVVBJQyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVVBJQyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVUElDIikKICAgICAgICBpU1dFVCA9IChtaS5pbkRhdGEuZ2V0KCJTV0VUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTV0VUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNXRVQiKQogICAgICAgIGlVVUNMID0gKG1pLmluRGF0YS5nZXQoIlVVQ0wiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVVQ0wiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVVVDTCIpCiAgICAgICAgaVVWSVMgPSAobWkuaW5EYXRhLmdldCgiVVZJUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVVZJUyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVVklTIikKICAgICAgICBpVVZBQyA9IChtaS5pbkRhdGEuZ2V0KCJVVkFDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVVkFDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVWQUMiKQogICAgICAgIGlVVklDID0gKG1pLmluRGF0YS5nZXQoIlVWSUMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVWSUMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVVZJQyIpCiAgICAgICAgaVVEQ0cgPSAobWkuaW5EYXRhLmdldCgiVURDRyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURDRyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVRENHIikKICAgICAgICBpUFJUWSA9IChtaS5pbkRhdGEuZ2V0KCJQUlRZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQUlRZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBSVFkiKQogICAgICAgIGlVQ0xDID0gKG1pLmluRGF0YS5nZXQoIlVDTEMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVDTEMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUNMQyIpCiAgICAgICAgaVVDTFMgPSAobWkuaW5EYXRhLmdldCgiVUNMUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUNMUyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVQ0xTIikKICAgICAgICBpTFNHSSA9IChtaS5pbkRhdGEuZ2V0KCJMU0dJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMU0dJIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxTR0kiKQogICAgICAgIGlNM0lUID0gKG1pLmluRGF0YS5nZXQoIk0zSVQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk0zSVQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTTNJVCIpCgogICAgICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgICAgICBpU1RVQyA9IChtaS5pbkRhdGEuZ2V0KCJTVFVDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVFVDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiU1RVQyIpIGFzIEludGVnZXIKICAgICAgICBpU1RVUCA9IChtaS5pbkRhdGEuZ2V0KCJTVFVQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVFVQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiU1RVUCIpIGFzIEludGVnZXIKCiAgICAgICAgdmFsaWRhdGVJbnB1dChpQ09OTyxpSVROTyxpV0hMTyxpSVRUWSkKICAgICAgICBpZih2YWxpZElucHV0KQogICAgICAgIHsKICAgICAgICAgIHVwZGF0ZVJlY29yZCgpCiAgICAgICAgfQogICAgICAgCiAgICB9CiAgICAKICAgIC8qKgogICAgICpWYWxpZGF0ZSBpbnB1dHMKICAgICAqIEBwYXJhbXMgaW50IENPTk8gLFN0cmluZyBJVE5PLFN0cmluZyBXSExPLFN0cmluZyBpVFRZCiAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAqLwogICAgcHJpdmF0ZSB2YWxpZGF0ZUlucHV0KGludCBDT05PLFN0cmluZyBJVE5PLFN0cmluZyBXSExPLFN0cmluZyBJVFRZKSB7CiAgICAgIAogICAgICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcGFyYW1zID0gWyJDT05PIjogQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgICBDbG9zdXJlPD8+IGNhbGxiYWNrID0gewogICAgICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBDT05PKQogICAgICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgICAgIAogICAgICAgIC8vVmFsaWRhdGUgSXRlbSBOdW1iZXIKICAgICAgICBNYXA8U3RyaW5nLCBTdHJpbmc+IHBhcmFtc0lUTk8gPSBbIkNPTk8iOiBDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiSVROTyI6IElUTk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgICAgQ2xvc3VyZTw/PiBjYWxsYmFja0lUTk8gPSB7CiAgICAgICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgICAgaWYgKHJlc3BvbnNlLklUTk8gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgSXRlbSBOdW1iZXIgIiArIElUTk8pCiAgICAgICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzIwME1JIiwgIkdldCIsIHBhcmFtc0lUTk8sIGNhbGxiYWNrSVROTykgCiAgICAgICAgCiAgICAgICAgaWYoIVdITE8udHJpbSgpLmlzRW1wdHkoKSkKICAgICAgICB7CiAgICAgICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBwYXJhbXNXSExPID0gWyJDT05PIjogQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIldITE8iOiBXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICAgICAgQ2xvc3VyZTw/PiBjYWxsYmFja1dITE8gPSB7CiAgICAgICAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBXSExPKQogICAgICAgICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zV0hMTywgY2FsbGJhY2tXSExPKSAKICAgICAgICB9CiAgICAgICAgCiAgICAgIAogICAgICAgIAogICAgICAgIGlmKCFJVFRZLnRyaW0oKS5pc0VtcHR5KCkpCiAgICAgICAgewogICAgICAgIC8vVmFsaWRhdGUgSXRlbSBUeXBlCiAgICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBwYXJhbXNJVFRZID0gWyJDT05PIjogQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIklUVFkiOiBJVFRZLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICAgIENsb3N1cmU8Pz4gY2FsbGJhY2tJVFRZID0gewogICAgICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5UWDQwID09IG51bGwpIHsKICAgICAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEl0ZW0gVHlwZSAiICsgSVRUWSkKICAgICAgICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTMDQwTUkiLCAiR2V0SXRtVHlwZSIsIHBhcmFtc0lUVFksIGNhbGxiYWNrSVRUWSkKICAgICAgICB9CiAgICAgIAogICAgfQogICAgCiAgICAvKioKICAgICAqVXBkYXRlIHJlY29yZHMgdG8gRVhUSVRNIHRhYmxlCiAgICAgKiBAcGFyYW1zIAogICAgICogQHJldHVybiAKICAgICAqLwogICAgcHVibGljIHVwZGF0ZVJlY29yZCgpIHsKICAgICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRJVE0iKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICAgICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgICAgY29udGFpbmVyLnNldCgiRVhJVE5PIiwgaUlUTk8pCiAgICAgICAgaWYgKCFxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZUNhbGxCYWNrKSkgewogICAgICAgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgRXhpc3QuIikKICAgICAgICByZXR1cm4KICAgIH0KICAgIH0KCiAgICBDbG9zdXJlIDw/PiB1cGRhdGVDYWxsQmFjayA9IHsKICAgICAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICAgICAgaWYgKCFpSVRUWS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpSVRUWS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYSVRUWSIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhJVFRZIiwgaUlUVFkpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpRlVEUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpRlVEUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRlVEUyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhGVURTIiwgaUZVRFMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpUFJDRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpUFJDRC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUFJDRCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQUkNEIiwgaVBSQ0QpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpUFJMTi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpUFJMTi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUFJMTiIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQUkxOIiwgaVBSTE4pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpUFJUUC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpUFJUUC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUFJUUCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQUlRQIiwgaVBSVFApCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpV0hMTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpV0hMTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYV0hMTyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhXSExPIiwgaVdITE8pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpQ1RHMS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpQ1RHMS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1RHMSIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVEcxIiwgaUNURzEpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpQ1RHMi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpQ1RHMi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1RHMiIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVEcyIiwgaUNURzIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpQ1RHMy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpQ1RHMy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1RHMyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVEczIiwgaUNURzMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpQ1RHNC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpQ1RHNC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1RHNCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVEc0IiwgaUNURzQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVFhJRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVFhJRC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVFhJRCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhUWElEIiwgaVRYSUQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNMUi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNMUi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNMUiIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ0xSIiwgaVVDTFIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpQUxCTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpQUxCTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQUxCTyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBTEJPIiwgaUFMQk8pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpSU5BSS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpSU5BSS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYSU5BSSIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhJTkFJIiwgaUlOQUkpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUJDTC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUJDTC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUJDTCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQkNMIiwgaVVCQ0wpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNMTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNMTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNMTyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ0xPIiwgaVVDTE8pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNGQS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNGQS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNGQSIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ0ZBIiwgaVVDRkEpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNSQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNSQy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNSQyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ1JDIiwgaVVDUkMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNSUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNSUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNSUyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ1JTIiwgaVVDUlMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUVNVC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUVNVC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUVNVCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRU1UIiwgaVVFTVQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUVZQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUVZQy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUVZQyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRVlDIiwgaVVFWUMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpRlBDTC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpRlBDTC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRlBDTCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhGUENMIiwgaUZQQ0wpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVVBJQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVVBJQy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVVBJQyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVUElDIiwgaVVQSUMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpU1dFVC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpU1dFVC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1dFVCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTV0VUIiwgaVNXRVQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVVVDTC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVVVDTC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVVVDTCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVVUNMIiwgaVVVQ0wpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVVZJUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVVZJUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVVZJUyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVVklTIiwgaVVWSVMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVVZBQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVVZBQy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVVZBQyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVVkFDIiwgaVVWQUMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVVZJQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVVZJQy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVVZJQyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVVklDIiwgaVVWSUMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVURDRy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVURDRy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURDRyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVRENHIiwgaVVEQ0cpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpUFJUWS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpUFJUWS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUFJUWSIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQUlRZIiwgaVBSVFkpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNMQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNMQy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNMQyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ0xDIiwgaVVDTEMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpVUNMUy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpVUNMUy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVUNMUyIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ0xTIiwgaVVDTFMpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpTFNHSS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpTFNHSS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTFNHSSIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMU0dJIiwgaUxTR0kpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpTTNJVC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGlmIChpTTNJVC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTTNJVCIsICIiKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNM0lUIiwgaU0zSVQpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKG1pLmluRGF0YS5nZXQoIlNUVUMiKSE9bnVsbCYmIW1pLmluRGF0YS5nZXQoIlNUVUMiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU1RVQyIsIGlTVFVDKQogICAgICAgIH0KICAgICAgICAKICAgICAgICBpZiAobWkuaW5EYXRhLmdldCgiU1RVUCIpIT1udWxsJiYhbWkuaW5EYXRhLmdldCgiU1RVUCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVFVQIiwgaVNUVVApCiAgICAgICAgfQogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTVRNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpCiAgICAgICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpCiAgICB9Cn0="}}}