{"programModules":{"EXT200MI":{"program":"EXT200MI","triggers":{},"transactions":{"DelATPDate":{"sourceUuid":"ed04d96c-2d32-4b29-b748-4d54b4b90aa7","name":"DelATPDate","program":"EXT200MI","description":"Delete ATP Info based on date","active":true,"multi":false,"modified":1680863338118,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"Warehouse Number","length":3,"mandatory":true,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"ed04d96c-2d32-4b29-b748-4d54b4b90aa7":{"uuid":"ed04d96c-2d32-4b29-b748-4d54b4b90aa7","updated":1701262650977,"updatedBy":"ABHISHEK","created":1680863289891,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230918173517.7","language":"GROOVY","codeHash":"CDD272E985B46AE73908EE54AC61F707A9F2A43ED2759C59EE2BB27539DA33C6","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIERlbGV0ZSByZWNvcmRzIGZyb20gRVhUUERUIHRhYmxlLiAKICoKICogTmFtZTogRVhUMjAwTUkuRGVsQVRQRGF0ZQogKiBEZXNjcmlwdGlvbjogRGVsZXRpbmcgcmVjb3JkcyBmcm9tIEVYVFBEVCB0YWJsZQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDQwNyAgU3VyaXlhTkBmb3J0dWRlLmNvICAgIERlbGV0aW5nIHJlY29yZHMgZnJvbSBFWFRQRFQgdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBEZWxBVFBEYXRlIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBpbnQgaUNPTk8KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUKICBwcml2YXRlIFN0cmluZyBpV0hMTywgaUlUTk8KICAKICBwdWJsaWMgRGVsQVRQRGF0ZShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgIGlXSExPID0gKG1pLmluRGF0YS5nZXQoIldITE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hMTyIpCiAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVE5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVE5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUTk8iKQogICAgCiAgICB2YWxpZGF0ZUlucHV0KCkKICAgIGlmICh2YWxpZElucHV0KSB7CiAgICBkZWxldGVSZWNvcmQoKQogICAgfQogIH0KICAKICAgLyoqCiAgICpWYWxpZGF0ZSByZWNvcmRzIAogICAqIEBwYXJhbXMgCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgdmFsaWRhdGVJbnB1dCgpIHsKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgSXRlbSBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJJVE5PIjppSVROTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuSVROTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBJdGVtIE51bWJlciAiICsgaUlUTk8pCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzIwME1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICAKICAgICAvL1ZhbGlkYXRlIFdhcmVob3VzZSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIldITE8iOmlXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBpV0hMTykKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAwNU1JIiwgIkdldFdhcmVob3VzZSIsIHBhcmFtcywgY2FsbGJhY2spCiAgfQogIC8qKgogICAqRGVsZXRlIHJlY29yZHMgZnJvbSBFWFRQRFQgdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIGRlbGV0ZVJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFBEVCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCgogICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pCiAgICBjb250YWluZXIuc2V0KCJFWElUTk8iLCBpSVROTykKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgaWYgKCFxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIGRlbGV0ZUNhbGxCYWNrKSkgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiBkZWxldGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgIGxvY2tlZFJlc3VsdC5kZWxldGUoKQogIH0KfQ=="}}}