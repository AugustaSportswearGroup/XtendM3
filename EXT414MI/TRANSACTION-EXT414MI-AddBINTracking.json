{"programModules":{"EXT414MI":{"program":"EXT414MI","triggers":{},"transactions":{"AddBINTracking":{"sourceUuid":"c7ee058e-0fd8-4004-ad63-ab120be98aec","name":"AddBINTracking","program":"EXT414MI","description":"Add BIN Tracking File","active":true,"multi":false,"modified":1695636713971,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"FACI","description":"Facility","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A"},{"name":"RCID","description":"Route Carton ID","length":15,"mandatory":true,"type":"A"},{"name":"CISN","description":"Carton ID Ref#","length":6,"mandatory":false,"type":"N"},{"name":"LICP","description":"License Plate","length":15,"mandatory":true,"type":"A"},{"name":"TTYP","description":"Stock Transaction Type","length":2,"mandatory":true,"type":"N"},{"name":"ORNO","description":"Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"},{"name":"BXNO","description":"Box Number","length":4,"mandatory":false,"type":"N"},{"name":"STAT","description":"Status","length":2,"mandatory":false,"type":"A"},{"name":"LMFS","description":"Last Msg Sort","length":4,"mandatory":false,"type":"A"},{"name":"LMFD","description":"Last Msg Divert","length":4,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Bill to Customer","length":10,"mandatory":false,"type":"A"},{"name":"MODL","description":"Delivery Method","length":3,"mandatory":false,"type":"A"},{"name":"TEPY","description":"Payment Terms","length":3,"mandatory":false,"type":"A"},{"name":"TEPA","description":"Packaging Terms","length":3,"mandatory":false,"type":"A"},{"name":"ESTW","description":"Est. Wght","length":1,"mandatory":false,"type":"N"},{"name":"ACTW","description":"Act. Wght","length":12,"mandatory":false,"type":"N"},{"name":"WGTO","description":"Weight Tolerance","length":3,"mandatory":false,"type":"N"},{"name":"WGFG","description":"Weight Flag","length":1,"mandatory":false,"type":"A"},{"name":"QAFG","description":"QA Flag","length":1,"mandatory":false,"type":"A"},{"name":"SMFG","description":"Sample Flag","length":1,"mandatory":false,"type":"A"},{"name":"ONFM","description":"Confirmed","length":1,"mandatory":false,"type":"A"},{"name":"PKDV","description":"Pick Divert","length":150,"mandatory":false,"type":"A"},{"name":"PSDV","description":"Prescale Divert","length":50,"mandatory":false,"type":"A"},{"name":"PTDV","description":"Postscale Divert","length":50,"mandatory":false,"type":"A"},{"name":"LNDV","description":"Ship Lane Divert","length":4,"mandatory":false,"type":"A"},{"name":"FD01","description":"Future Divert 1","length":20,"mandatory":false,"type":"A"},{"name":"FD02","description":"Future Divert 2","length":20,"mandatory":false,"type":"A"},{"name":"UD01","description":"User Defined 1","length":50,"mandatory":false,"type":"A"},{"name":"UD02","description":"User Defined 2","length":50,"mandatory":false,"type":"A"},{"name":"UD03","description":"User Defined 3","length":21,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"c7ee058e-0fd8-4004-ad63-ab120be98aec":{"uuid":"c7ee058e-0fd8-4004-ad63-ab120be98aec","updated":1695636888451,"updatedBy":"M3CONSADMX","created":1695296809632,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230719154728.6","language":"GROOVY","codeHash":"570BABD98B18A0F825A311FAB16D73D659393E0802E29A33BCF14952B0BFCCAE","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIEFkZCByZWNvcmRzIHRvIEVYVE5CTiB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxNE1JLkFkZEJJTlRyYWNraW5nCiAqIERlc2NyaXB0aW9uOiBBZGRpbmcgcmVjb3JkcyB0byBFWFROQk4gdGFibGUgCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwOTIxICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIEFkZGluZyByZWNvcmRzIHRvIEVYVE5CTiB0YWJsZSAqLwoKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyCgpwdWJsaWMgY2xhc3MgQWRkQklOVHJhY2tpbmcgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVdITE8sIGlGQUNJLCBpUkNJRCwgaUxJQ1AsIGlPUk5PLCBpU1RBVCwgaUNVTk8sIGlNT0RMLCBpVEVQWSwgaVRFUEEsIGlXR0ZHLCBpUUFGRywgaVNNRkcsIGlPTkZNLCBpTE1GUywgaUxNRkQsIGlQS0RWLCBpUFNEViwgaVBURFYsIGlMTkRWLCBpRkQwMSwgaUZEMDIsIGlVRDAxLCBpVUQwMgogIHByaXZhdGUgaW50IGlDT05PLCBpQ0lTTiwgaVRUWVAsIGlCWE5PLCBpV0dUTwogIHByaXZhdGUgbG9uZyBpRExJWAogIHByaXZhdGUgRG91YmxlIGlBQ1RXLGlFU1RXLGlVRDAzCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkSW5wdXQgPSB0cnVlCgogIHB1YmxpYyBBZGRCSU5UcmFja2luZyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlESVZJID0gKG1pLmluRGF0YS5nZXQoIkRJVkkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuRElWSSA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKQogICAgaVdITE8gPSAobWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJXSExPIikKICAgIGlGQUNJID0gKG1pLmluRGF0YS5nZXQoIkZBQ0kiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkZBQ0kiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRkFDSSIpCiAgICBpUkNJRCA9IChtaS5pbkRhdGEuZ2V0KCJSQ0lEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJSQ0lEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJDSUQiKQogICAgaUxJQ1AgPSAobWkuaW5EYXRhLmdldCgiTElDUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTElDUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMSUNQIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpU1RBVCA9IChtaS5pbkRhdGEuZ2V0KCJTVEFUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVEFUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQVQiKQogICAgaUNVTk8gPSAobWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikKICAgIGlNT0RMID0gKG1pLmluRGF0YS5nZXQoIk1PREwiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk1PREwiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTU9ETCIpCiAgICBpVEVQWSA9IChtaS5pbkRhdGEuZ2V0KCJURVBZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJURVBZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRFUFkiKQogICAgaVRFUEEgPSAobWkuaW5EYXRhLmdldCgiVEVQQSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVEVQQSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJURVBBIikKICAgIGlXR0ZHID0gKG1pLmluRGF0YS5nZXQoIldHRkciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldHRkciKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0dGRyIpCiAgICBpUUFGRyA9IChtaS5pbkRhdGEuZ2V0KCJRQUZHIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJRQUZHIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlFBRkciKQogICAgaVNNRkcgPSAobWkuaW5EYXRhLmdldCgiU01GRyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU01GRyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTTUZHIikKICAgIGlPTkZNID0gKG1pLmluRGF0YS5nZXQoIk9ORk0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9ORk0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT05GTSIpCiAgICBpTE1GUyA9IChtaS5pbkRhdGEuZ2V0KCJMTUZTIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMTUZTIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxNRlMiKQogICAgaUxNRkQgPSAobWkuaW5EYXRhLmdldCgiTE1GRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTE1GRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMTUZEIikKICAgIGlQS0RWID0gKG1pLmluRGF0YS5nZXQoIlBLRFYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBLRFYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUEtEViIpCiAgICBpUFNEViA9IChtaS5pbkRhdGEuZ2V0KCJQU0RWIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQU0RWIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBTRFYiKQogICAgaVBURFYgPSAobWkuaW5EYXRhLmdldCgiUFREViIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUFREViIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQVERWIikKICAgIGlMTkRWID0gKG1pLmluRGF0YS5nZXQoIkxORFYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkxORFYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTE5EViIpCiAgICBpRkQwMSA9IChtaS5pbkRhdGEuZ2V0KCJGRDAxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJGRDAxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkZEMDEiKQogICAgaUZEMDIgPSAobWkuaW5EYXRhLmdldCgiRkQwMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRkQwMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJGRDAyIikKICAgIGlVRDAxID0gKG1pLmluRGF0YS5nZXQoIlVEMDEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVUQwMSIpCiAgICBpVUQwMiA9IChtaS5pbkRhdGEuZ2V0KCJVRDAyIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVRDAyIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVEMDIiKQoKICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgIGlDSVNOID0gKG1pLmluRGF0YS5nZXQoIkNJU04iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNJU04iKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJDSVNOIikgYXMgSW50ZWdlcgogICAgaVRUWVAgPSAobWkuaW5EYXRhLmdldCgiVFRZUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVFRZUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlRUWVAiKSBhcyBJbnRlZ2VyCiAgICBpRExJWCA9IChtaS5pbkRhdGEuZ2V0KCJETElYIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRExJWCIpIGFzIExvbmcKICAgIGlCWE5PID0gKG1pLmluRGF0YS5nZXQoIkJYTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJYTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJCWE5PIikgYXMgSW50ZWdlcgogICAgaUVTVFcgPSAobWkuaW5EYXRhLmdldCgiRVNUVyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRVNUVyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkVTVFciKSBhcyBEb3VibGUKICAgIGlBQ1RXID0gKG1pLmluRGF0YS5nZXQoIkFDVFciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFDVFciKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJBQ1RXIikgYXMgRG91YmxlCiAgICBpV0dUTyA9IChtaS5pbkRhdGEuZ2V0KCJXR1RPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXR1RPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiV0dUTyIpIGFzIEludGVnZXIKICAgIGlVRDAzID0gKG1pLmluRGF0YS5nZXQoIlVEMDMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVEMDMiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJVRDAzIikgYXMgRG91YmxlCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZiAodmFsaWRJbnB1dCkgewogICAgICBpbnNlcnRSZWNvcmQoKQogICAgfQogIH0KCiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHZhbGlkYXRlSW5wdXQoKSB7CgogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgZGVmIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiT1JOTyI6IGlPUk5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLk9STk8gPT0gbnVsbCkgewogICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAvL1ZhbGlkYXRlIERlbGl2ZXJ5IE51bWJlcgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJETElYIjogaURMSVgudG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuRExJWCA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGVsaXZlcnkgTnVtYmVyICIgKyBpRExJWCkKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBXYXJlaG91c2UgTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIldITE8iOiBpV0hMTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5XSExPID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBpV0hMTykKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIAogICAgaWYoIWlGQUNJLnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRmFjaWxpdHkgTnVtYmVyIAogICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJGQUNJIjogaUZBQ0kudG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuRkFDSSA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRmFjaWxpdHkgICIgKyBpRkFDSSkKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTMDA4TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KICB9CiAgLyoqCiAgICpJbnNlcnQgcmVjb3JkcyB0byBFWFROQk4gdGFibGUKICAgKiBAcGFyYW1zIAogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIGluc2VydFJlY29yZCgpIHsKICAgIERCQWN0aW9uIGFjdGlvbiA9IGRhdGFiYXNlLnRhYmxlKCJFWFROQk4iKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBxdWVyeSA9IGFjdGlvbi5nZXRDb250YWluZXIoKQogICAgcXVlcnkuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIHF1ZXJ5LnNldCgiRVhXSExPIiwgaVdITE8pCiAgICBxdWVyeS5zZXQoIkVYRkFDSSIsIGlGQUNJKQogICAgcXVlcnkuc2V0KCJFWFJDSUQiLCBpUkNJRCkKICAgIHF1ZXJ5LnNldCgiRVhMSUNQIiwgaUxJQ1ApCiAgICBxdWVyeS5zZXQoIkVYT1JOTyIsIGlPUk5PKQogICAgcXVlcnkuc2V0KCJFWFNUQVQiLCBpU1RBVCkKICAgIHF1ZXJ5LnNldCgiRVhDVU5PIiwgaUNVTk8pCiAgICBxdWVyeS5zZXQoIkVYTU9ETCIsIGlNT0RMKQogICAgcXVlcnkuc2V0KCJFWFRFUFkiLCBpVEVQWSkKICAgIHF1ZXJ5LnNldCgiRVhURVBBIiwgaVRFUEEpCiAgICBxdWVyeS5zZXQoIkVYV0dGRyIsIGlXR0ZHKQogICAgcXVlcnkuc2V0KCJFWFFBRkciLCBpUUFGRykKICAgIHF1ZXJ5LnNldCgiRVhTTUZHIiwgaVNNRkcpCiAgICBxdWVyeS5zZXQoIkVYT05GTSIsIGlPTkZNKQogICAgcXVlcnkuc2V0KCJFWExNRlMiLCBpTE1GUykKICAgIHF1ZXJ5LnNldCgiRVhMTUZEIiwgaUxNRkQpCiAgICBxdWVyeS5zZXQoIkVYUEtEViIsIGlQS0RWKQogICAgcXVlcnkuc2V0KCJFWFBTRFYiLCBpUFNEVikKICAgIHF1ZXJ5LnNldCgiRVhQVERWIiwgaVBURFYpCiAgICBxdWVyeS5zZXQoIkVYTE5EViIsIGlMTkRWKQogICAgcXVlcnkuc2V0KCJFWEZEMDEiLCBpRkQwMSkKICAgIHF1ZXJ5LnNldCgiRVhGRDAyIiwgaUZEMDIpCiAgICBxdWVyeS5zZXQoIkVYVUQwMSIsIGlVRDAxKQogICAgcXVlcnkuc2V0KCJFWFVEMDIiLCBpVUQwMikKICAgIHF1ZXJ5LnNldCgiRVhDT05PIiwgaUNPTk8gYXMgSW50ZWdlcikKICAgIHF1ZXJ5LnNldCgiRVhDSVNOIiwgaUNJU04gYXMgSW50ZWdlcikKICAgIHF1ZXJ5LnNldCgiRVhUVFlQIiwgaVRUWVAgYXMgSW50ZWdlcikKICAgIHF1ZXJ5LnNldCgiRVhETElYIiwgaURMSVggYXMgTG9uZykKICAgIHF1ZXJ5LnNldCgiRVhCWE5PIiwgaUJYTk8gYXMgSW50ZWdlcikKICAgIHF1ZXJ5LnNldCgiRVhFU1RXIiwgaUVTVFcgYXMgRG91YmxlKQogICAgcXVlcnkuc2V0KCJFWEFDVFciLCBpQUNUVyBhcyBEb3VibGUpCiAgICBxdWVyeS5zZXQoIkVYV0dUTyIsIGlXR1RPIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYVUQwMyIsIGlVRDAzIGFzIERvdWJsZSkKICAgIHF1ZXJ5LnNldCgiRVhSR0RUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgIHF1ZXJ5LnNldCgiRVhSR1RNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIkVYTE1UTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgcXVlcnkuc2V0KCJFWENITk8iLCAwKQogICAgcXVlcnkuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgIGFjdGlvbi5pbnNlcnQocXVlcnksIHJlY29yZEV4aXN0cykKICB9CgogIENsb3N1cmUgcmVjb3JkRXhpc3RzID0gewogICAgbWkuZXJyb3IoIlJlY29yZCBBbHJlYWR5IEV4aXN0cyIpCiAgICByZXR1cm4KICB9Cn0="}}}