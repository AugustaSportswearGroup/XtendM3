{"programModules":{"EXT007MI":{"program":"EXT007MI","triggers":{},"transactions":{"UpdInvoiceHead":{"sourceUuid":"154501e0-d886-4f39-af01-9f90fe9b3f5e","name":"UpdInvoiceHead","program":"EXT007MI","description":"Update Invoice Header Information","active":true,"multi":false,"modified":1705479042320,"modifiedBy":"ABHISHEK","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"IVNO","description":"Invoice Number","length":9,"mandatory":true,"type":"N"},{"name":"HSEQ","description":"Header Sequence","length":6,"mandatory":false,"type":"A"},{"name":"IVTP","description":"Invoice type","length":2,"mandatory":false,"type":"A"},{"name":"IVDT","description":"Invoice Date","length":8,"mandatory":false,"type":"N"},{"name":"TRDT","description":"Transaction Date","length":8,"mandatory":false,"type":"N"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"TRCD","description":"Terms Code","length":2,"mandatory":false,"type":"N"},{"name":"CUOR","description":"Cusomer Purchase Order Number","length":20,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Sales Order Number","length":10,"mandatory":false,"type":"A"},{"name":"ORTP","description":"Order type","length":3,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Name","length":8,"mandatory":false,"type":"N"},{"name":"BTNM","description":"BillTo Name","length":36,"mandatory":false,"type":"A"},{"name":"BTA1","description":"BillTo Address 1","length":36,"mandatory":false,"type":"A"},{"name":"BTA2","description":"BillTo Address 2","length":36,"mandatory":false,"type":"A"},{"name":"BTTO","description":"BillTo Town","length":20,"mandatory":false,"type":"A"},{"name":"BTEC","description":"BillTo State","length":2,"mandatory":false,"type":"A"},{"name":"BTPO","description":"BillTo Postal Code","length":10,"mandatory":false,"type":"A"},{"name":"BTCS","description":"BillTo Country","length":3,"mandatory":false,"type":"A"},{"name":"STNM","description":"ShipTo Name","length":36,"mandatory":false,"type":"A"},{"name":"STA1","description":"ShipTo Address 1","length":36,"mandatory":false,"type":"A"},{"name":"STA2","description":"ShipTo Address 2","length":36,"mandatory":false,"type":"A"},{"name":"STTO","description":"ShipTo Town","length":20,"mandatory":false,"type":"A"},{"name":"STEC","description":"ShipTo State","length":2,"mandatory":false,"type":"A"},{"name":"STPO","description":"ShipTo Postal Code","length":10,"mandatory":false,"type":"A"},{"name":"STCS","description":"ShipTo Country","length":3,"mandatory":false,"type":"A"},{"name":"SHDT","description":"Ship Date","length":8,"mandatory":false,"type":"N"},{"name":"SHVI","description":"Ship Via","length":6,"mandatory":false,"type":"A"},{"name":"FOBC","description":"FOB Code","length":15,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse Code","length":3,"mandatory":false,"type":"A"},{"name":"SHWT","description":"Ship Weight","length":5,"mandatory":false,"type":"A"},{"name":"RSAD","description":"Residential Address","length":1,"mandatory":false,"type":"A"},{"name":"EMAL","description":"Email","length":250,"mandatory":false,"type":"A"},{"name":"TXSA","description":"Taxable Amount","length":15,"mandatory":false,"type":"N"},{"name":"NTSA","description":"Non Taxable Amount","length":15,"mandatory":false,"type":"N"},{"name":"FRAM","description":"Freight Amount","length":15,"mandatory":false,"type":"N"},{"name":"BTCN","description":"Bill To Customer Number","length":20,"mandatory":false,"type":"A"},{"name":"UPHO","description":"UDF PH ORD TYP","length":11,"mandatory":false,"type":"A"},{"name":"UIND","description":"UDF INHANDSDATE","length":8,"mandatory":false,"type":"N"},{"name":"URUS","description":"UDF RUSH","length":1,"mandatory":false,"type":"A"},{"name":"UCSR","description":"UDF CSR CODE","length":20,"mandatory":false,"type":"A"},{"name":"BTA4","description":"BillTo Address 4","length":36,"mandatory":false,"type":"A"},{"name":"STA4","description":"ShipTo Address 4","length":36,"mandatory":false,"type":"A"},{"name":"M3RG","description":"M3 Created Date","length":8,"mandatory":false,"type":"N"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"154501e0-d886-4f39-af01-9f90fe9b3f5e":{"uuid":"154501e0-d886-4f39-af01-9f90fe9b3f5e","updated":1705480613710,"updatedBy":"ABHISHEK","created":1676021646165,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20231018093440.6","language":"GROOVY","codeHash":"A83996B53794BD098AC9197D17C7B58B19E300E3F686A24D900418D28D34959E","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVElISCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDAwN01JLlVwZEludm9pY2VIZWFkCiAqIERlc2NyaXB0aW9uOiBVcGRhdGluZyByZWNvcmRzIHRvIEVYVElISCB0YWJsZQogKiBEYXRlICAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDIxMCAgU3VyaXlhTkBmb3J0dWRlLmNvICAgIFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUSUhIIHRhYmxlCiAqCiAqLwoKaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyCgpwdWJsaWMgY2xhc3MgVXBkSW52b2ljZUhlYWQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5CgogIHByaXZhdGUgU3RyaW5nIGlIU0VRLCBpSVZUUCwgaUNVTk8sIGlDVU9SLCBpT1JOTywgaU9SVFAsIGlCVE5NLCBpQlRBMSwgaUJUQTIsIGlCVFRPLCBpQlRFQywgaUJUUE8sIGlCVENTLCBpU1ROTSwgaVNUQTEsIGlTVEEyLCBpU1RUTywgaVNURUMsIGlTVFBPLCBpU1RDUywgaVNIVkksIGlGT0JDLCBpV0hMTywgaVNIV1QsIGlSU0FELCBpRU1BTCwgaUJUQ04sIGlVUEhPLCBpVVJVUywgaVVDU1IsIGlCVEE0LCBpU1RBNCwgaUNISUQsIGlDUklECiAgcHJpdmF0ZSBpbnQgaUNPTk8sIGlVSU5ELCBpSVZOTywgaVRSQ0QsIGlJVkRULCBpVFJEVCwgaU9SRFQsIGlTSERULCBpTTNSRwogIHByaXZhdGUgZG91YmxlIGlUWFNBLCBpTlRTQSwgaUZSQU0KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUKICBwdWJsaWMgVXBkSW52b2ljZUhlYWQoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHkKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKCiAgICBpSFNFUSA9IChtaS5pbkRhdGEuZ2V0KCJIU0VRIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJIU0VRIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkhTRVEiKQogICAgaUlWVFAgPSAobWkuaW5EYXRhLmdldCgiSVZUUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVZUUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVlRQIikKICAgIGlDVU5PID0gKG1pLmluRGF0YS5nZXQoIkNVTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNVTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VOTyIpCgogICAgaUNVT1IgPSAobWkuaW5EYXRhLmdldCgiQ1VPUiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VPUiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU9SIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpT1JUUCA9IChtaS5pbkRhdGEuZ2V0KCJPUlRQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUlRQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMCIgOiBtaS5pbkRhdGEuZ2V0KCJPUlRQIikKICAgIGlCVE5NID0gKG1pLmluRGF0YS5nZXQoIkJUTk0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUTk0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlROTSIpCiAgICBpQlRBMSA9IChtaS5pbkRhdGEuZ2V0KCJCVEExIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCVEExIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJUQTEiKQogICAgaUJUQTIgPSAobWkuaW5EYXRhLmdldCgiQlRBMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQlRBMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCVEEyIikKICAgIGlCVFRPID0gKG1pLmluRGF0YS5nZXQoIkJUVE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUVE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlRUTyIpCiAgICBpQlRFQyA9IChtaS5pbkRhdGEuZ2V0KCJCVEVDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCVEVDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJURUMiKQogICAgaUJUUE8gPSAobWkuaW5EYXRhLmdldCgiQlRQTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQlRQTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCVFBPIikKICAgIGlCVENTID0gKG1pLmluRGF0YS5nZXQoIkJUQ1MiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUQ1MiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlRDUyIpCiAgICBpU1ROTSA9IChtaS5pbkRhdGEuZ2V0KCJTVE5NIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVE5NIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUTk0iKQogICAgaVNUQTEgPSAobWkuaW5EYXRhLmdldCgiU1RBMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1RBMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTVEExIikKICAgIGlTVEEyID0gKG1pLmluRGF0YS5nZXQoIlNUQTIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUQTIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RBMiIpCiAgICBpU1RUTyA9IChtaS5pbkRhdGEuZ2V0KCJTVFRPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVFRPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUVE8iKQogICAgaVNURUMgPSAobWkuaW5EYXRhLmdldCgiU1RFQyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU1RFQyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTVEVDIikKICAgIGlTVFBPID0gKG1pLmluRGF0YS5nZXQoIlNUUE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUUE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RQTyIpCiAgICBpU1RDUyA9IChtaS5pbkRhdGEuZ2V0KCJTVENTIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVENTIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQ1MiKQogICAgaVNIVkkgPSAobWkuaW5EYXRhLmdldCgiU0hWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTSFZJIikKICAgIGlGT0JDID0gKG1pLmluRGF0YS5nZXQoIkZPQkMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkZPQkMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRk9CQyIpCiAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQogICAgaVNIV1QgPSAobWkuaW5EYXRhLmdldCgiU0hXVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hXVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTSFdUIikKICAgIGlSU0FEID0gKG1pLmluRGF0YS5nZXQoIlJTQUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJTQUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIwIiA6IG1pLmluRGF0YS5nZXQoIlJTQUQiKQogICAgaUVNQUwgPSAobWkuaW5EYXRhLmdldCgiRU1BTCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRU1BTCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJFTUFMIikKICAgIGlCVENOID0gKG1pLmluRGF0YS5nZXQoIkJUQ04iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJUQ04iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQlRDTiIpCiAgICBpVVBITyA9IChtaS5pbkRhdGEuZ2V0KCJVUEhPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVUEhPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVQSE8iKQogICAgaVVSVVMgPSAobWkuaW5EYXRhLmdldCgiVVJVUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVVJVUyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjAiIDogbWkuaW5EYXRhLmdldCgiVVJVUyIpCiAgICBpVUNTUiA9IChtaS5pbkRhdGEuZ2V0KCJVQ1NSIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVQ1NSIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVDU1IiKQogICAgaUJUQTQgPSAobWkuaW5EYXRhLmdldCgiQlRBNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQlRBNCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCVEE0IikKICAgIGlTVEE0ID0gKG1pLmluRGF0YS5nZXQoIlNUQTQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUQTQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RBNCIpCgogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaVRYU0EgPSAobWkuaW5EYXRhLmdldCgiVFhTQSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVFhTQSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlRYU0EiKSBhcyBEb3VibGUKICAgIGlOVFNBID0gKG1pLmluRGF0YS5nZXQoIk5UU0EiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk5UU0EiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJOVFNBIikgYXMgRG91YmxlCiAgICBpRlJBTSA9IChtaS5pbkRhdGEuZ2V0KCJGUkFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJGUkFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRlJBTSIpIGFzIERvdWJsZQogICAgaVVJTkQgPSAobWkuaW5EYXRhLmdldCgiVUlORCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVUlORCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlVJTkQiKSBhcyBJbnRlZ2VyCiAgICBpSVZOTyA9IChtaS5pbkRhdGEuZ2V0KCJJVk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiSVZOTyIpIGFzIEludGVnZXIKICAgIGlUUkNEID0gKG1pLmluRGF0YS5nZXQoIlRSQ0QiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlRSQ0QiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUUkNEIikgYXMgSW50ZWdlcgogICAgaUlWRFQgPSAobWkuaW5EYXRhLmdldCgiSVZEVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVZEVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIklWRFQiKSBhcyBJbnRlZ2VyCiAgICBpVFJEVCA9IChtaS5pbkRhdGEuZ2V0KCJUUkRUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUUkRUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiVFJEVCIpIGFzIEludGVnZXIKICAgIGlPUkRUID0gKG1pLmluRGF0YS5nZXQoIk9SRFQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SRFQiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJPUkRUIikgYXMgSW50ZWdlcgogICAgaVNIRFQgPSAobWkuaW5EYXRhLmdldCgiU0hEVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hEVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlNIRFQiKSBhcyBJbnRlZ2VyCiAgICBpTTNSRyA9IChtaS5pbkRhdGEuZ2V0KCJNM1JHIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJNM1JHIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiTTNSRyIpIGFzIEludGVnZXIKCiAgICB2YWxpZGF0ZUlucHV0KGlDT05PLCBpSVZOTywgaU9STk8sIGlDVU5PLCBpQ1VPUiwgaVdITE8sIGlPUlRQLCBpSVZEVCwgaVRSRFQsIGlPUkRULCBpU0hEVCwgaU0zUkcpCiAgICBpZiAodmFsaWRJbnB1dCkgewogICAgICB1cGRhdGVSZWNvcmQoKQogICAgfQoKICB9CgogIC8qKgogICAqVmFsaWRhdGUgaW5wdXRzCiAgICogQHBhcmFtcyBpbnQgQ09OTyAsU3RyaW5nIElWTk8sU3RyaW5nIE9STk8sU3RyaW5nIENVTk8sU3RyaW5nIENVT1IsU3RyaW5nIFdITE8sIFN0cmluZyBPUlRQCiAgICogQHJldHVybiB2b2lkCiAgICovCiAgcHJpdmF0ZSB2YWxpZGF0ZUlucHV0KGludCBDT05PLCBpbnQgSVZOTywgU3RyaW5nIE9STk8sIFN0cmluZyBDVU5PLCBTdHJpbmcgQ1VPUiwgU3RyaW5nIFdITE8sIFN0cmluZyBPUlRQLCBpbnQgSVZEVCwgaW50IFRSRFQsIGludCBPUkRULCBpbnQgU0hEVCwgaW50IE0zUkcpIHsKICAgIFN0cmluZyBtM0NVT1IgPSAiIgoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIENsb3N1cmUgPCA/ID4gY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBDT05PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgSW52b2ljZSBOdW1iZXIKICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zSVZOTyA9IFsiQ09OTyI6IENPTk8udG9TdHJpbmcoKS50cmltKCksICJRRVJZIjogIlVISVZOTyBmcm9tIE9JTlZPSCB3aGVyZSBVSElWTk8gPSAnIiArIElWTk8gKyAiJyJdCiAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrSVZOTyA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuUkVQTCA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgSW52b2ljZSBOdW1iZXIgIiArIElWTk8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICAgIH0gZWxzZSB7CgogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJFWFBPUlRNSSIsICJTZWxlY3QiLCBwYXJhbXNJVk5PLCBjYWxsYmFja0lWTk8pCgogICAgaWYgKCFPUk5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBwYXJhbXNPUk5PID0gWyJPUk5PIjogT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgQ2xvc3VyZTw/PiBjYWxsYmFja09STk8gPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLk9STk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBPUk5PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4KICAgICAgICB9IGVsc2UgewogICAgICAgICAgbTNDVU9SID0gcmVzcG9uc2UuQ1VPUgogICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRPcmRlckhlYWQiLCBwYXJhbXNPUk5PLCBjYWxsYmFja09STk8pCiAgICB9CiAgICBpZiAoIUNVT1IudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAvL1ZhbGlkYXRlIFB1cmNoYXNlIE9yZGVyIE51bWJlcgogICAgICBpZiAoIW0zQ1VPUi50cmltKCkuZXF1YWxzKENVT1IudHJpbSgpKSkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFB1cmNoYXNlIE9yZGVyIE51bWJlciAiICsgQ1VPUikKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgfQogICAgfQoKICAgIGlmICghQ1VOTy50cmltKCkuaXNFbXB0eSgpKSB7IC8vVmFsaWRhdGUgQ3VzdG9tZXIgTnVtYmVyCiAgICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zQ1VOTyA9IFsiQ09OTyI6IENPTk8udG9TdHJpbmcoKS50cmltKCksICJDVU5PIjogQ1VOTy50cmltKCldCiAgICAgIENsb3N1cmUgPCA/ID4gY2FsbGJhY2tDVU5PID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5DVU5PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEN1c3RvbWVyIE51bWJlciAiICsgcmVzcG9uc2UpCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJDUlM2MTBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXNDVU5PLCBjYWxsYmFja0NVTk8pCiAgICB9CgogICAgaWYgKCFXSExPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBXYXJlaG91c2UgTnVtYmVyCiAgICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zV0hMTyA9IFsiQ09OTyI6IENPTk8udG9TdHJpbmcoKS50cmltKCksICJXSExPIjogV0hMTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgQ2xvc3VyZSA8ID8gPiBjYWxsYmFja1dITE8gPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgV2FyZWhvdXNlIE51bWJlciAiICsgV0hMTykKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAwNU1JIiwgIkdldFdhcmVob3VzZSIsIHBhcmFtc1dITE8sIGNhbGxiYWNrV0hMTykKICAgIH0KCiAgICAvL1ZhbGlkYXRlIERhdGUKICAgIGlmICghaU9SRFQgPT0gMCkgewogICAgICBTdHJpbmcgc291cmNlRm9ybWF0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJnZXRGdWxsRm9ybWF0IiwgbWkuZ2V0RGF0ZUZvcm1hdCgpKQogICAgICB2YWxpZElucHV0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJpc0RhdGVWYWxpZCIsIGlPUkRULCBzb3VyY2VGb3JtYXQudG9TdHJpbmcoKSkKICAgICAgaWYgKCF2YWxpZElucHV0KSB7CiAgICAgICAgbWkuZXJyb3IoIk9yZGVyIERhdGUgbm90IGluICIgKyBzb3VyY2VGb3JtYXQgKyAiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIgKyBpT1JEVCkKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXNvdXJjZUZvcm1hdC50cmltKCkuZXF1YWxzKCJ5eXl5TU1kZCIpKSB7CiAgICAgICAgICBpT1JEVCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiY29udmVydERhdGUiLCBzb3VyY2VGb3JtYXQsICJ5eXl5TU1kZCIsIGlPUkRUKSAvL01haW50YWluIGRhdGUgaW4gWU1EOCBmb3JtYXQgaW4gdGhlIHRhYmxlCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy9WYWxpZGF0ZSBEYXRlCiAgICBpZiAoIUlWRFQgPT0gMCkgewoKICAgICAgU3RyaW5nIHNvdXJjZUZvcm1hdCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiZ2V0RnVsbEZvcm1hdCIsIG1pLmdldERhdGVGb3JtYXQoKSkKICAgICAgdmFsaWRJbnB1dCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiaXNEYXRlVmFsaWQiLCBJVkRULCBzb3VyY2VGb3JtYXQudG9TdHJpbmcoKSkKICAgICAgaWYgKCF2YWxpZElucHV0KSB7CiAgICAgICAgbWkuZXJyb3IoIkludm9pY2UgRGF0ZSBub3QgaW4gIiArIHNvdXJjZUZvcm1hdCArICIgZm9ybWF0LiBQbGVhc2UgQ2hlY2sgIiArIElWRFQpCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCFzb3VyY2VGb3JtYXQudHJpbSgpLmVxdWFscygieXl5eU1NZGQiKSkgewogICAgICAgICAgaUlWRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImNvbnZlcnREYXRlIiwgc291cmNlRm9ybWF0LCAieXl5eU1NZGQiLCBJVkRUKSAvL01haW50YWluIGRhdGUgaW4gWU1EOCBmb3JtYXQgaW4gdGhlIHRhYmxlCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy9WYWxpZGF0ZSBEYXRlCiAgICBpZiAoIVRSRFQgPT0gMCkgewoKICAgICAgU3RyaW5nIHNvdXJjZUZvcm1hdCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiZ2V0RnVsbEZvcm1hdCIsIG1pLmdldERhdGVGb3JtYXQoKSkKICAgICAgdmFsaWRJbnB1dCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiaXNEYXRlVmFsaWQiLCBUUkRULCBzb3VyY2VGb3JtYXQudG9TdHJpbmcoKSkKICAgICAgaWYgKCF2YWxpZElucHV0KSB7CiAgICAgICAgbWkuZXJyb3IoIlRyYW5zYWN0aW9uIERhdGUgbm90IGluICIgKyBzb3VyY2VGb3JtYXQgKyAiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIgKyBUUkRUKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgICB9IGVsc2UgewogICAgICAgIGlmICghc291cmNlRm9ybWF0LnRyaW0oKS5lcXVhbHMoInl5eXlNTWRkIikpIHsKICAgICAgICAgIGlUUkRUID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjb252ZXJ0RGF0ZSIsIHNvdXJjZUZvcm1hdCwgInl5eXlNTWRkIiwgVFJEVCkgLy9NYWludGFpbiBkYXRlIGluIFlNRDggZm9ybWF0IGluIHRoZSB0YWJsZQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vVmFsaWRhdGUgRGF0ZQogICAgaWYgKCFTSERUID09IDApIHsKCiAgICAgIFN0cmluZyBzb3VyY2VGb3JtYXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImdldEZ1bGxGb3JtYXQiLCBtaS5nZXREYXRlRm9ybWF0KCkpCiAgICAgIHZhbGlkSW5wdXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImlzRGF0ZVZhbGlkIiwgU0hEVCwgc291cmNlRm9ybWF0LnRvU3RyaW5nKCkpCiAgICAgIGlmICghdmFsaWRJbnB1dCkgewogICAgICAgIG1pLmVycm9yKCJTaGlwIERhdGUgbm90IGluICIgKyBzb3VyY2VGb3JtYXQgKyAiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIgKyBTSERUKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgICB9IGVsc2UgewogICAgICAgIGlmICghc291cmNlRm9ybWF0LnRyaW0oKS5lcXVhbHMoInl5eXlNTWRkIikpIHsKICAgICAgICAgIGlTSERUID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjb252ZXJ0RGF0ZSIsIHNvdXJjZUZvcm1hdCwgInl5eXlNTWRkIiwgU0hEVCkgLy9NYWludGFpbiBkYXRlIGluIFlNRDggZm9ybWF0IGluIHRoZSB0YWJsZQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vVmFsaWRhdGUgRGF0ZQogICAgaWYgKCFNM1JHID09IDApIHsKCiAgICAgIFN0cmluZyBzb3VyY2VGb3JtYXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImdldEZ1bGxGb3JtYXQiLCBtaS5nZXREYXRlRm9ybWF0KCkpCiAgICAgIHZhbGlkSW5wdXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImlzRGF0ZVZhbGlkIiwgTTNSRywgc291cmNlRm9ybWF0LnRvU3RyaW5nKCkpCiAgICAgIGlmICghdmFsaWRJbnB1dCkgewogICAgICAgIG1pLmVycm9yKCJNMyBDcmVhdGVkIERhdGUgbm90IGluICIgKyBzb3VyY2VGb3JtYXQgKyAiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIgKyBNM1JHKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgICB9IGVsc2UgewogICAgICAgIGlmICghc291cmNlRm9ybWF0LnRyaW0oKS5lcXVhbHMoInl5eXlNTWRkIikpIHsKICAgICAgICAgIGlNM1JHID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJjb252ZXJ0RGF0ZSIsIHNvdXJjZUZvcm1hdCwgInl5eXlNTWRkIiwgTTNSRykgLy9NYWludGFpbiBkYXRlIGluIFlNRDggZm9ybWF0IGluIHRoZSB0YWJsZQogICAgICAgIH0KICAgICAgfQogICAgfQoKICB9CgogIC8qKgogICAqVXBkYXRlIHJlY29yZHMgdG8gRVhUSUhIIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB1cGRhdGVSZWNvcmQoKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRJSEgiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQoKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhJVk5PIiwgaUlWTk8pCiAgICBpZiAoIXF1ZXJ5LnJlYWRMb2NrKGNvbnRhaW5lciwgdXBkYXRlQ2FsbEJhY2spKSB7CiAgICAgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgRXhpc3QuIikKICAgICAgcmV0dXJuCiAgICB9CiAgfQoKICBDbG9zdXJlIDwgPyA+IHVwZGF0ZUNhbGxCYWNrID0gewogICAgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPgogICAgaWYgKCFpSFNFUS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpSFNFUS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEhTRVEiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEhTRVEiLCBpSFNFUSkKICAgICAgfQogICAgfQogICAgaWYgKCFpSVZUUC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpSVZUUC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWElWVFAiLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWElWVFAiLCBpSVZUUCkKICAgICAgfQogICAgfQogICAgaWYgKCFpQ1VOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGlmIChpQ1VOTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENVTk8iLCAiIikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENVTk8iLCBpQ1VOTykKICAgICAgfQogICAgfQoKICAgIGlmICghaUNVT1IudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUNVT1IudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVU9SIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVU9SIiwgaUNVT1IpCiAgICAgIH0KICAgIH0KICAgIGlmICghaU9STk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaU9STk8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5PIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5PIiwgaU9STk8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaU9SVFAudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaU9SVFAudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUlRQIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUlRQIiwgaU9SVFApCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUTk0udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUTk0udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVE5NIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVE5NIiwgaUJUTk0pCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUQTEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUQTEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEExIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEExIiwgaUJUQTEpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUQTIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUQTIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEEyIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEEyIiwgaUJUQTIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUVE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUVE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVFRPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVFRPIiwgaUJUVE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJURUMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJURUMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEVDIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEVDIiwgaUJURUMpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUUE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUUE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVFBPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVFBPIiwgaUJUUE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUQ1MudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUQ1MudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVENTIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVENTIiwgaUJUQ1MpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUTk0udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUTk0udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVE5NIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVE5NIiwgaVNUTk0pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUQTEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUQTEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEExIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEExIiwgaVNUQTEpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUQTIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUQTIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEEyIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEEyIiwgaVNUQTIpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUVE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUVE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVFRPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVFRPIiwgaVNUVE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNURUMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNURUMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEVDIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEVDIiwgaVNURUMpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUUE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUUE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVFBPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVFBPIiwgaVNUUE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUQ1MudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUQ1MudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVENTIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVENTIiwgaVNUQ1MpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNIVkkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNIVkkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTSFZJIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTSFZJIiwgaVNIVkkpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUZPQkMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUZPQkMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhGT0JDIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhGT0JDIiwgaUZPQkMpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVdITE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVdITE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhXSExPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhXSExPIiwgaVdITE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNIV1QudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNIV1QudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTSFdUIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTSFdUIiwgaVNIV1QpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVJTQUQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVJTQUQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhSU0FEIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhSU0FEIiwgaVJTQUQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUVNQUwudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUVNQUwudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhFTUFMIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhFTUFMIiwgaUVNQUwpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUQ04udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUQ04udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVENOIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVENOIiwgaUJUQ04pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVQSE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVQSE8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVUEhPIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVUEhPIiwgaVVQSE8pCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVSVVMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVSVVMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVUlVTIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVUlVTIiwgaVVSVVMpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVVDU1IudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVVDU1IudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ1NSIiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVQ1NSIiwgaVVDU1IpCiAgICAgIH0KICAgIH0KICAgIGlmICghaUJUQTQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaUJUQTQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEE0IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCVEE0IiwgaUJUQTQpCiAgICAgIH0KICAgIH0KICAgIGlmICghaVNUQTQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBpZiAoaVNUQTQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEE0IiwgIiIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTVEE0IiwgaVNUQTQpCiAgICAgIH0KICAgIH0KCiAgICBpZiAobWkuaW5EYXRhLmdldCgiVFJDRCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlRSQ0QiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVFJDRCIsIGlUUkNEKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIk0zUkciKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJNM1JHIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE0zUkciLCBpTTNSRykKICAgIH0KCiAgICBpZiAobWkuaW5EYXRhLmdldCgiSVZEVCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIklWRFQiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYSVZEVCIsIGlJVkRUKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIlRSRFQiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJUUkRUIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRSRFQiLCBpVFJEVCkKICAgIH0KICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJPUkRUIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiT1JEVCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUkRUIiwgaU9SRFQpCiAgICB9CiAgICBpZiAobWkuaW5EYXRhLmdldCgiU0hEVCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlNIRFQiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU0hEVCIsIGlTSERUKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIlRYU0EiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJUWFNBIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRYU0EiLCBpVFhTQSkKICAgIH0KICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJOVFNBIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiTlRTQSIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhOVFNBIiwgaU5UU0EpCiAgICB9CiAgICBpZiAobWkuaW5EYXRhLmdldCgiRlJBTSIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIkZSQU0iKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYRlJBTSIsIGlGUkFNKQogICAgfQogICAgaWYgKG1pLmluRGF0YS5nZXQoIlVJTkQiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJVSU5EIikudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVJTkQiLCBpVUlORCkKICAgIH0KCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExNRFQiLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQogICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTVRNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKQogIH0KfQ=="}}}