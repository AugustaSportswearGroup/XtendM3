{"programModules":{"EXT002MI":{"program":"EXT002MI","triggers":{},"transactions":{"GetFeatureOptn":{"sourceUuid":"33c3ba21-12b9-4344-8212-9483bcd7ea9e","name":"GetFeatureOptn","program":"EXT002MI","description":"Get Feature Option","active":true,"multi":false,"modified":1685442050736,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"MCC1","description":"Feature 1","length":8,"mandatory":false,"type":"A"},{"name":"MVC1","description":"Option 1","length":15,"mandatory":false,"type":"A"},{"name":"MCC2","description":"Feature 2","length":8,"mandatory":false,"type":"A"},{"name":"MVC2","description":"Option 2","length":15,"mandatory":false,"type":"A"},{"name":"MCC3","description":"Feature 3","length":8,"mandatory":false,"type":"A"},{"name":"MVC3","description":"Option 3","length":15,"mandatory":false,"type":"A"},{"name":"MCC4","description":"Feature 4","length":8,"mandatory":false,"type":"A"},{"name":"MVC4","description":"Option 4","length":15,"mandatory":false,"type":"A"},{"name":"MCC5","description":"Feature 5","length":8,"mandatory":false,"type":"A"},{"name":"MVC5","description":"Option 5","length":15,"mandatory":false,"type":"A"},{"name":"MCC6","description":"Feature 6","length":8,"mandatory":false,"type":"A"},{"name":"MVC6","description":"Option 6","length":15,"mandatory":false,"type":"A"},{"name":"MCC7","description":"Feature 7","length":8,"mandatory":false,"type":"A"},{"name":"MVC7","description":"Option 7","length":15,"mandatory":false,"type":"A"},{"name":"MCC8","description":"Feature 8","length":8,"mandatory":false,"type":"A"},{"name":"MVC8","description":"Option 8","length":15,"mandatory":false,"type":"A"},{"name":"MCC9","description":"Feature 9","length":8,"mandatory":false,"type":"A"},{"name":"MVC9","description":"Option 9","length":15,"mandatory":false,"type":"A"},{"name":"FTID","description":"Feature","length":15,"mandatory":false,"type":"A"},{"name":"OPTN","description":"Option","length":15,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"FACI","description":"Facility","length":3,"mandatory":true,"type":"A"},{"name":"STRT","description":"Structure Type","length":3,"mandatory":true,"type":"A"},{"name":"PRNO","description":"Product Number","length":15,"mandatory":true,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"33c3ba21-12b9-4344-8212-9483bcd7ea9e":{"uuid":"33c3ba21-12b9-4344-8212-9483bcd7ea9e","updated":1702536500516,"updatedBy":"ABHISHEK","created":1681554203336,"createdBy":"M3CONSADMX","apiVersion":"0.21","beVersion":"16.0.0.20230918173517.9","language":"GROOVY","codeHash":"7DB33360B089F4B394AA1C59CDAF55275A971F5538F401CE3ABD1F704848AC97","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvICBnZXQgdGhlIGZlYXR1cmVzIGFuZCBvcHRpb24gdmFsdWVzIGZyb20gTTMKICoKICogTmFtZTogRVhUMDAyTUkuR2V0RmVhdHVyZU9wdG4KICogRGVzY3JpcHRpb246IEdldCB0aGUgZmVhdHVyZXMgYW5kIG9wdGlvbiB2YWx1ZXMgZnJvbSBNMwogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDMyMiAgU3VyaXlhTkBmb3J0dWRlLmNvICAgICAgICAgICAgICBHZXQgdGhlIGZlYXR1cmVzIGFuZCBvcHRpb24gdmFsdWVzIGZyb20gTTMKICoKICovCgoKCnB1YmxpYyBjbGFzcyBHZXRGZWF0dXJlT3B0biBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gewogIHByaXZhdGUgZmluYWwgTUlBUEkgbWkKICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyCgogIHByaXZhdGUgU3RyaW5nIGlGQUNJLCBpU1RSVCwgaVBSTk8sIGlJVE5PLCBTSURJLCBGVElELCBPUFROLCBRQk1WQzEsIFFCTVZDMiwgUUJNVkMzLAogIFFCTVZDNCwgUUJNVkM1LCBRQk1WQzYsIFFCTVZDNywgUUJNVkM4LCBRQk1WQzksIFFBTUNDMSwgUUFNQ0MyLCBRQU1DQzMsIFFBTUNDNCwgUUFNQ0M1LCBRQU1DQzYsIFFBTUNDNywgUUFNQ0M4LAogUUFNQ0M5LCBJVENMLCBmZWF0dXJlMiwgb3B0aW9uMiA9ICIiCgogIHByaXZhdGUgaW50IGlDT05PLCBwYWdlU2l6ZT0xMDAwMAogIHByaXZhdGUgYm9vbGVhbiAgaXNGZWF0dXJlQW5kT3B0aW9uRm91bmQgPSB0cnVlCgogIEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+IHNlcXVlbmNlU2VsZWN0SUQgPSBuZXcgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gKCkKCiAgcHVibGljIEdldEZlYXR1cmVPcHRuKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaUZBQ0kgPSAobWkuaW5EYXRhLmdldCgiRkFDSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRkFDSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJGQUNJIikKICAgIGlTVFJUID0gKG1pLmluRGF0YS5nZXQoIlNUUlQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlNUUlQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1RSVCIpCiAgICBpUFJOTyA9IChtaS5pbkRhdGEuZ2V0KCJQUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBSTk8iKQogICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVROTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVROTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVE5PIikKCiAgICB2YWxpZGF0ZUlucHV0KCkKICAgIGdldE1hdGVyaWFsQW5kT3BlcmF0aW9uRGV0YWlscygpCiAgICBnZXRNYXRyaXhJZGVudGl0eURldGFpbHMoU0lESSkKICAgIGdldE9wZXJhdGlvbk9uTWF0ZXJpYWxMaW5lcygpCiAgICBpZihJVENMLnRyaW0oKS5lcXVhbHMoIlBIQ04iKSAmJkZUSUQgPT0gbnVsbCAmJiBPUFROID09IG51bGwpCiAgICB7CiAgICAgIGdldEZlYXR1cmVPcHRuV2l0aFNlbGVjdGlvblR5cGUoKQogICAgICBnZXRGZWF0dXJlT3B0bldpdGhJdGVtTnVtYmVyKCkKICAgIH0KICAgIHNldE91dHB1dCgpCiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlPD8+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgSXRlbSBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiSVROTyI6IGlJVE5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5JVE5PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEl0ZW0gTnVtYmVyICIgKyBpSVROTykKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBJVENMID0gcmVzcG9uc2UuSVRDTAogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzIwME1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBGYWNpbGl0eSBOdW1iZXIKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNGQUNJTCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICBjb250YWluZXIuc2V0KCJDRkNPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkNGRkFDSSIsIGlGQUNJKQogICAgaWYgKCFxdWVyeS5yZWFkKGNvbnRhaW5lcikpIHsKICAgICAgbWkuZXJyb3IoIkludmFsaWQgRmFjaWxpdHkgTnVtYmVyICIgKyBpRkFDSSkKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CgogICAgLy9WYWxpZGF0ZSBQcm9kdWN0IE51bWJlcgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJQUk5PIjogaVBSTk8udG9TdHJpbmcoKS50cmltKCksICJGQUNJIjogaUZBQ0kudG9TdHJpbmcoKS50cmltKCksICJTVFJUIjogaVNUUlQudG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLlBSTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgUHJvZHVjdCBOdW1iZXIgLSBTdHJ1Y3R1cmUgVHlwZSAgIiArIGlQUk5PKyIgIitpU1RSVCkKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIlBEUzAwMU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogIH0KCiAgLyoqCiAgICpHZXQgU2VxdWVuY2UgbnVtYmVyIGFuZCBzZWxlY3Rpb24gaWQgY29tcG9uZW50CiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgZ2V0TWF0ZXJpYWxBbmRPcGVyYXRpb25EZXRhaWxzKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTVBETUFUIikuc2VsZWN0aW9uKCJQTU1TRVEiLCAiUE1TSURJIiwgIlBNT1BOTyIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICBjb250YWluZXIuc2V0KCJQTUNPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIlBNRkFDSSIsIGlGQUNJKQogICAgY29udGFpbmVyLnNldCgiUE1QUk5PIiwgaVBSTk8pCiAgICBjb250YWluZXIuc2V0KCJQTVNUUlQiLCBpU1RSVCkKICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA0LHBhZ2VTaXplLCByZXN1bHRzZXQpCgogIH0KCiAgQ2xvc3VyZSA8ID8gPiByZXN1bHRzZXQgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgU3RyaW5nIHNlcXVlbmNlTnVtYmVyID0gY29udGFpbmVyLmdldCgiUE1NU0VRIikKICAgICAgU3RyaW5nIHNlbGVjdElEQ29tcG9uZW50ID0gY29udGFpbmVyLmdldCgiUE1TSURJIikKICAgICAgc2VxdWVuY2VTZWxlY3RJRC5wdXQoc2VsZWN0SURDb21wb25lbnQudHJpbSgpLCBzZXF1ZW5jZU51bWJlci50cmltKCkpCiAgICAgIGdldE1hdHJpeERldGFpbHMoc2VsZWN0SURDb21wb25lbnQpCgogIH0KCiAgLyoqCiAgICpHZXQgbWF0cml4IGlkZW50aXR5IHZhbHVlcwogICAqIEBwYXJhbXMgU3RyaW5nIFNJREkKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgZ2V0TWF0cml4SWRlbnRpdHlEZXRhaWxzKFN0cmluZyBTSURJKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNUE1YSUQiKS5zZWxlY3Rpb24oIlFBTUNDMSIsICJRQU1DQzIiLCAiUUFNQ0MzIiwgIlFBTUNDNCIsICJRQU1DQzUiLCAiUUFNQ0M2IiwgIlFBTUNDNyIsICJRQU1DQzgiLCAiUUFNQ0M5IikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIlFBQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiUUFNWElEIiwgU0lESSkKICAgIGlmIChxdWVyeS5yZWFkKGNvbnRhaW5lcikpIHsKICAgICAgaWYoaXNGZWF0dXJlQW5kT3B0aW9uRm91bmQpIHsKICAgICAgICBRQU1DQzEgPSBjb250YWluZXIuZ2V0KCJRQU1DQzEiKQogICAgICAgIFFBTUNDMiA9IGNvbnRhaW5lci5nZXQoIlFBTUNDMiIpCiAgICAgICAgUUFNQ0MzID0gY29udGFpbmVyLmdldCgiUUFNQ0MzIikKICAgICAgICBRQU1DQzQgPSBjb250YWluZXIuZ2V0KCJRQU1DQzQiKQogICAgICAgIFFBTUNDNSA9IGNvbnRhaW5lci5nZXQoIlFBTUNDNSIpCiAgICAgICAgUUFNQ0M2ID0gY29udGFpbmVyLmdldCgiUUFNQ0M2IikKICAgICAgICBRQU1DQzcgPSBjb250YWluZXIuZ2V0KCJRQU1DQzciKQogICAgICAgIFFBTUNDOCA9IGNvbnRhaW5lci5nZXQoIlFBTUNDOCIpCiAgICAgICAgUUFNQ0M5ID0gY29udGFpbmVyLmdldCgiUUFNQ0M5IikKICAgICAgfWVsc2UKICAgICAgewogICAgICAgIGZlYXR1cmUyID0gY29udGFpbmVyLmdldCgiUUFNQ0MyIikKICAgICAgfQoKICAgIH0KCiAgfQoKICAvKioKICAgKkdldCBtYXRyaXggaWRlbnRpdHkgdmFsdWVzCiAgICogQHBhcmFtcyBTdHJpbmcgU0lESQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBnZXRNYXRyaXhEZXRhaWxzKFN0cmluZyBTSURJKSB7CgogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNUE1YVkEiKQogICAgaWYoaXNGZWF0dXJlQW5kT3B0aW9uRm91bmQpIHsKICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZXEoIlFCTVJDMSIsIGlJVE5PKQogICAgfWVsc2UKICAgIHsKICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ubGlrZSgiUUJNUkMxIiwgaUlUTk8rIiUiKQogICAgfQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTVBNWFZBIikubWF0Y2hpbmcoZXhwcmVzc2lvbikuc2VsZWN0aW9uKCJRQk1YSUQiLCAiUUJNVkMxIiwgIlFCTVZDMiIsICJRQk1WQzMiLCAiUUJNVkM0IiwgIlFCTVZDNSIsICJRQk1WQzYiLCAiUUJNVkM3IiwgIlFCTVZDOCIsICJRQk1WQzkiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiUUJDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJRQk1YSUQiLCBTSURJKQogICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDIscGFnZVNpemUsIHJlc3VsdHNldF9tYXRyaXhEZXRhaWxzKQoKICB9CgogIENsb3N1cmUgPCA/ID4gcmVzdWx0c2V0X21hdHJpeERldGFpbHMgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgU0lESSA9IGNvbnRhaW5lci5nZXQoIlFCTVhJRCIpLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgIGlmKGlzRmVhdHVyZUFuZE9wdGlvbkZvdW5kKSB7CiAgICAgICAgUUJNVkMxID0gY29udGFpbmVyLmdldCgiUUJNVkMxIikKICAgICAgICBRQk1WQzIgPSBjb250YWluZXIuZ2V0KCJRQk1WQzIiKQogICAgICAgIFFCTVZDMyA9IGNvbnRhaW5lci5nZXQoIlFCTVZDMyIpCiAgICAgICAgUUJNVkM0ID0gY29udGFpbmVyLmdldCgiUUJNVkM0IikKICAgICAgICBRQk1WQzUgPSBjb250YWluZXIuZ2V0KCJRQk1WQzUiKQogICAgICAgIFFCTVZDNiA9IGNvbnRhaW5lci5nZXQoIlFCTVZDNiIpCiAgICAgICAgUUJNVkM3ID0gY29udGFpbmVyLmdldCgiUUJNVkM3IikKICAgICAgICBRQk1WQzggPSBjb250YWluZXIuZ2V0KCJRQk1WQzgiKQogICAgICAgIFFCTVZDOSA9IGNvbnRhaW5lci5nZXQoIlFCTVZDOSIpCiAgICAgIH1lbHNlCiAgICAgIHsKICAgICAgICBvcHRpb24yID0gY29udGFpbmVyLmdldCgiUUJNVkMyIikKICAgICAgfQoKICB9CgogIC8qKgogICAqR2V0IG9wZXJhdGlvbiBvbiBtYXRlcmlhbCBNUERPTUEgZGV0YWlscwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgZ2V0T3BlcmF0aW9uT25NYXRlcmlhbExpbmVzKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTVBET01BIikuc2VsZWN0aW9uKCJQTkZUSUQiLCAiUE5PUFROIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIlBOQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiUE5GQUNJIiwgaUZBQ0kpCiAgICBjb250YWluZXIuc2V0KCJQTlBSTk8iLCBpUFJOTykKICAgIGNvbnRhaW5lci5zZXQoIlBOU1RSVCIsIGlTVFJUKQogICAgY29udGFpbmVyLnNldCgiUE5NU0VRIiwgc2VxdWVuY2VTZWxlY3RJRC5nZXQoU0lESSkgYXMgSW50ZWdlcikKICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA1LHBhZ2VTaXplLCByZXN1bHRzZXRfb3BlcmF0aW9uRGV0YWlscykKICB9CgogIENsb3N1cmUgPCA/ID4gcmVzdWx0c2V0X29wZXJhdGlvbkRldGFpbHMgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgRlRJRCA9IGNvbnRhaW5lci5nZXQoIlBORlRJRCIpCiAgICAgIE9QVE4gPSBjb250YWluZXIuZ2V0KCJQTk9QVE4iKQogIH0KCiAgLyoqCiAgICpHZXQgZmVhdHVyZXMgYW5kIG9wZXJhdGlvbiB3aXRoIHNlbGVjdGlvbiB0eXBlIDMgaWYgcmVjb3JkIG5vdCBmb3VuZCBhbnl3aGVyZSBlbHNlLiAKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIGdldEZlYXR1cmVPcHRuV2l0aFNlbGVjdGlvblR5cGUoKSB7CiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1QRE9NQSIpCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5lcSgiUE5GVElEIiwgUUFNQ0MyKS5hbmQoZXhwcmVzc2lvbi5lcSgiUE5PUFROIiwgUUJNVkMyKSkKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1QRE9NQSIpLm1hdGNoaW5nKGV4cHJlc3Npb24pLnNlbGVjdGlvbigiUE5GVElEIiwgIlBOT1BUTiIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICBjb250YWluZXIuc2V0KCJQTkNPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIlBORkFDSSIsIGlGQUNJKQogICAgY29udGFpbmVyLnNldCgiUE5QUk5PIiwgaVBSTk8pCiAgICBjb250YWluZXIuc2V0KCJQTlNUUlQiLCBpU1RSVCkKICAgIGNvbnRhaW5lci5zZXQoIlBOT1RZUCIsICIzIikKICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA1LHBhZ2VTaXplLCByZXN1bHRzZXRfb3BlcmF0aW9uRGV0YWlsc193aXRoU2VsZWN0aW9uVHlwZSkKICB9CgogIENsb3N1cmUgPCA/ID4gcmVzdWx0c2V0X29wZXJhdGlvbkRldGFpbHNfd2l0aFNlbGVjdGlvblR5cGUgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgRlRJRCA9IGNvbnRhaW5lci5nZXQoIlBORlRJRCIpCiAgICAgIE9QVE4gPSBjb250YWluZXIuZ2V0KCJQTk9QVE4iKQogIH0KICAKICAvKioKICAgKkdldCBmZWF0dXJlcyBhbmQgb3BlcmF0aW9uIHdpdGggaXRlbSBudW1iZXIgaWYgcmVjb3JkIG5vdCBmb3VuZCBhbnl3aGVyZSBlbHNlLiAKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIGdldEZlYXR1cmVPcHRuV2l0aEl0ZW1OdW1iZXIoKSB7CiAgICBpZiAoRlRJRCA9PSBudWxsICYmIE9QVE4gPT0gbnVsbCkgewogICAgICAKICAgICAgaXNGZWF0dXJlQW5kT3B0aW9uRm91bmQgPSBmYWxzZQogICAgICBpSVROTyA9ICIwUDlIQiIKICAgICAgZ2V0TWF0ZXJpYWxBbmRPcGVyYXRpb25EZXRhaWxzKCkKICAgICAgZ2V0TWF0cml4SWRlbnRpdHlEZXRhaWxzKFNJREkpCiAgICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cHJlc3Npb24gPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTVBETUFUIikKICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ubGlrZSgiUE1NVE5PIiwgaUlUTk8rIiUiKQogICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNUERNQVQiKS5tYXRjaGluZyhleHByZXNzaW9uKS5zZWxlY3Rpb24oIlBNTVROTyIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiUE1DT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIlBNRkFDSSIsIGlGQUNJKQogICAgICBjb250YWluZXIuc2V0KCJQTVBSTk8iLCBpUFJOTykKICAgICAgY29udGFpbmVyLnNldCgiUE1TVFJUIiwgaVNUUlQpCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA0LHBhZ2VTaXplLCByZXN1bHRzZXRfb3BlcmF0aW9uRGV0YWlsc193aXRoSXRlbU51bWJlcikKICAgIH0KICB9CgogIENsb3N1cmUgPCA/ID4gcmVzdWx0c2V0X29wZXJhdGlvbkRldGFpbHNfd2l0aEl0ZW1OdW1iZXIgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgRlRJRCA9IGZlYXR1cmUyCiAgICAgIE9QVE4gPSBvcHRpb24yCiAgfQoKICAvKioKICAgKlNldCBPdXRwdXQKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIHNldE91dHB1dCgpIHsKCiAgICBtaS5vdXREYXRhLnB1dCgiTUNDMSIsIFFBTUNDMSkKICAgIG1pLm91dERhdGEucHV0KCJNQ0MyIiwgUUFNQ0MyKQogICAgbWkub3V0RGF0YS5wdXQoIk1DQzMiLCBRQU1DQzMpCiAgICBtaS5vdXREYXRhLnB1dCgiTUNDNCIsIFFBTUNDNCkKICAgIG1pLm91dERhdGEucHV0KCJNQ0M1IiwgUUFNQ0M1KQogICAgbWkub3V0RGF0YS5wdXQoIk1DQzYiLCBRQU1DQzYpCiAgICBtaS5vdXREYXRhLnB1dCgiTUNDNyIsIFFBTUNDNykKICAgIG1pLm91dERhdGEucHV0KCJNQ0M4IiwgUUFNQ0M4KQogICAgbWkub3V0RGF0YS5wdXQoIk1DQzkiLCBRQU1DQzkpCiAgICBtaS5vdXREYXRhLnB1dCgiTVZDMSIsIFFCTVZDMSkKICAgIG1pLm91dERhdGEucHV0KCJNVkMyIiwgUUJNVkMyKQogICAgbWkub3V0RGF0YS5wdXQoIk1WQzMiLCBRQk1WQzMpCiAgICBtaS5vdXREYXRhLnB1dCgiTVZDNCIsIFFCTVZDNCkKICAgIG1pLm91dERhdGEucHV0KCJNVkM1IiwgUUJNVkM1KQogICAgbWkub3V0RGF0YS5wdXQoIk1WQzYiLCBRQk1WQzYpCiAgICBtaS5vdXREYXRhLnB1dCgiTVZDNyIsIFFCTVZDNykKICAgIG1pLm91dERhdGEucHV0KCJNVkM4IiwgUUJNVkM4KQogICAgbWkub3V0RGF0YS5wdXQoIk1WQzkiLCBRQk1WQzkpCiAgICBtaS5vdXREYXRhLnB1dCgiRlRJRCIsIEZUSUQpCiAgICBtaS5vdXREYXRhLnB1dCgiT1BUTiIsIE9QVE4pCiAgICBtaS53cml0ZSgpCiAgfQp9Cg=="}}}