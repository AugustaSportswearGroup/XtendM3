{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdPlayerLine":{"sourceUuid":"aa8eeeae-a980-4685-90f1-5316a6f33c09","name":"UpdPlayerLine","program":"EXT001MI","description":"Update Player Line Details","active":true,"multi":false,"modified":1681729595440,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company ","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"ORNR","description":"Temporary Order Number","length":10,"mandatory":true,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"},{"name":"PONR","description":"Order Line Number","length":5,"mandatory":true,"type":"N"},{"name":"POSX","description":"Line Suffix","length":2,"mandatory":false,"type":"N"},{"name":"ORQT","description":"Order Quantity","length":16,"mandatory":false,"type":"N"},{"name":"SNUM","description":"S Number","length":30,"mandatory":false,"type":"A"},{"name":"KLOC","description":"Kit Location","length":10,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"RORN","description":"Reference Order Number","length":10,"mandatory":false,"type":"A"},{"name":"RORL","description":"Reference Order Line","length":6,"mandatory":false,"type":"N"},{"name":"RORX","description":"Line Suffix","length":3,"mandatory":false,"type":"N"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":15,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"aa8eeeae-a980-4685-90f1-5316a6f33c09":{"uuid":"aa8eeeae-a980-4685-90f1-5316a6f33c09","updated":1683628791373,"updatedBy":"M3CONSADMX","created":1680602304403,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"D287513874C13AD0CEB9CFF1F6D44A0DD41BEEFA55A96E649A12C53C057447FB","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFNUTCB0YWJsZS4KICoKICogTmFtZTogRVhUMDAxTUkuVXBkUGxheWVyTGluZQogKiBEZXNjcmlwdGlvbjogVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRTVEwgdGFibGUKICogRGF0ZSAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uCiAqMjAyMzA0MDQgIFN1cml5YU5AZm9ydHVkZS5jbyAgICBVcGRhdGluZyByZWNvcmRzIHRvIEVYVFNUTCB0YWJsZQogKgogKi8KCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcgoKcHVibGljIGNsYXNzIFVwZFBsYXllckxpbmUgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVBMSUQsIGlLTE9DLCBpT1JOTywgaUlUTk8sIGlTTlVNLCBpV0hMTywgaVJPUk4sIGlVREYxLCBpVURGMiwgaVVERjMsIGlVREY0LCBpVURGNSwgaVVERjYsIGlPUk5SCiAgcHJpdmF0ZSBpbnQgaUNPTk8saVBPTlIsaVBPU1gsaVJPUkwsaVJPUlgKICBwcml2YXRlIGRvdWJsZSBpT1JRVAogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQogIHByaXZhdGUgbG9uZyBpRExJWAoKICBwdWJsaWMgVXBkUGxheWVyTGluZShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSxNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJESVZJIikKICAgIGlQTElEID0gKG1pLmluRGF0YS5nZXQoIlBMSUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBMSUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUExJRCIpCiAgICBpS0xPQyA9IChtaS5pbkRhdGEuZ2V0KCJLTE9DIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJLTE9DIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIktMT0MiKQogICAgaU9STlIgPSAobWkuaW5EYXRhLmdldCgiT1JOUiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOUiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5SIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpUE9OUiA9IChtaS5pbkRhdGEuZ2V0KCJQT05SIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQT05SIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUE9OUiIpIGFzIEludGVnZXIKICAgIGlQT1NYID0gKG1pLmluRGF0YS5nZXQoIlBPU1giKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBPU1giKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJQT1NYIikgYXMgSW50ZWdlcgogICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVROTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVROTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVE5PIikKICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SUVQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SUVQiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJPUlFUIikgYXMgZG91YmxlCiAgICBpU05VTSA9IChtaS5pbkRhdGEuZ2V0KCJTTlVNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTTlVNIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNOVU0iKQogICAgaVdITE8gPSAobWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJXSExPIikKICAgIGlETElYID0gKG1pLmluRGF0YS5nZXQoIkRMSVgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRMSVgiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJETElYIikgYXMgTG9uZwogICAgaVJPUk4gPSAobWkuaW5EYXRhLmdldCgiUk9STiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUk9STiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJST1JOIikKICAgIGlST1JMID0gKG1pLmluRGF0YS5nZXQoIlJPUkwiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJPUkwiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJST1JMIikgYXMgSW50ZWdlcgogICAgaVJPUlggPSAobWkuaW5EYXRhLmdldCgiUk9SWCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUk9SWCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlJPUlgiKSBhcyBJbnRlZ2VyCiAgICBpVURGMSA9IChtaS5pbkRhdGEuZ2V0KCJVREYxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjEiKQogICAgaVVERjIgPSAobWkuaW5EYXRhLmdldCgiVURGMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYyIikKICAgIGlVREYzID0gKG1pLmluRGF0YS5nZXQoIlVERjMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMyIpCiAgICBpVURGNCA9IChtaS5pbkRhdGEuZ2V0KCJVREY0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjQiKQogICAgaVVERjUgPSAobWkuaW5EYXRhLmdldCgiVURGNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY1IikKICAgIGlVREY2ID0gKG1pLmluRGF0YS5nZXQoIlVERjYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNiIpCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KSB7CiAgICAgIHVwZGF0ZVJlY29yZCgpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgLy9WYWxpZGF0ZSBQbGF5ZXIgTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiRElWSSI6aURJVkkudG9TdHJpbmcoKS50cmltKCksIlBMSUQiOmlQTElELnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5QTElEID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFBsYXllcklEIE51bWJlciAiICsgaVBMSUQrIi4gSGVhZGVyIFJlY29yZCBub3QgRm91bmQuIikKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiRVhUMDAxTUkiLCAiR2V0UGxheWVySGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBJdGVtIE51bWJlcgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIklUTk8iOmlJVE5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5JVE5PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEl0ZW0gTnVtYmVyICIgKyBpSVROTykKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMjAwTUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICBpZihpRExJWCE9MCkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBEZWxpdmVyeSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRMSVgiOmlETElYLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLkRMSVggPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEZWxpdmVyeSBOdW1iZXIgIiArIGlETElYKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CiAgICBpZighaVdITE8udHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBXYXJlaG91c2UgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJXSExPIjppV0hMTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5XSExPID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgV2FyZWhvdXNlIE51bWJlciAiICsgaVdITE8pCiAgICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJNTVMwMDVNSSIsICJHZXRXYXJlaG91c2UiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQoKICAgIC8vVmFsaWRhdGUgVGVtcG9yYXJ5IE9yZGVyIE51bWJlcgogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT1hIRUFEIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIk9BQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiT0FPUk5PIiwgaU9STlIpCgogICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgIHsKICAgICAgbWkuZXJyb3IoIlRlbXBvcmFyeSBPcmRlciBOdW1iZXIgbm90IGZvdW5kICIraU9STlIpCiAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CgogICAgLy9WYWxpZGF0ZSBGaW5hbCBPcmRlciBOdW1iZXIKICAgIGlmKCFpT1JOTy50cmltKCkuaXNFbXB0eSgpKQogICAgewogICAgICBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPT0hFQUQiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICAgIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICAgIGNvbnRhaW5lci5zZXQoIk9BQ09OTyIsIGlDT05PKQogICAgICBjb250YWluZXIuc2V0KCJPQU9STk8iLCBpT1JOTykKCiAgICAgIGlmKCFxdWVyeS5yZWFkKGNvbnRhaW5lcikpCiAgICAgIHsKICAgICAgICBtaS5lcnJvcigiRmluYWwgT3JkZXIgTnVtYmVyIG5vdCBmb3VuZCAiK2lPUk5PKQogICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICpVcGRhdGUgcmVjb3JkcyB0byBFWFRTVEwgdGFibGUKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB1cGRhdGVSZWNvcmQoKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRTVEwiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkVYQ0hOTyIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCgogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIGNvbnRhaW5lci5zZXQoIkVYUExJRCIsIGlQTElEKQogICAgY29udGFpbmVyLnNldCgiRVhPUk5SIiwgaU9STlIpCiAgICBjb250YWluZXIuc2V0KCJFWElUTk8iLCBpSVROTykKICAgIGNvbnRhaW5lci5zZXQoIkVYUE9OUiIsIGlQT05SKQogICAgaWYgKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgewogICAgICBxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZUNhbGxCYWNrKQogICAgfSBlbHNlIHsKICAgICAgbWkuZXJyb3IoIlJlY29yZCBkb2VzIG5vdCBFeGlzdC4iKQogICAgICByZXR1cm4KICAgIH0KICB9CgogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2sgPSB7CiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICAgIGludCBDSE5PID0gbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikKICAgICAgaWYgKCFpS0xPQy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlLTE9DLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhLTE9DIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYS0xPQyIsIGlLTE9DKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaVBPU1ghPTApIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFBPU1giLCBpUE9TWCkKICAgICAgfQogICAgICBpZiAoaU9SUVQhPTApIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9SUVQiLCBpT1JRVCkKICAgICAgfQogICAgICBpZiAoIWlTTlVNLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVNOVU0udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFNOVU0iLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTTlVNIiwgaVNOVU0pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVdITE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpV0hMTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYV0hMTyIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFdITE8iLCBpV0hMTykKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlETElYIT0wKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhETElYIiwgaURMSVgpCiAgICAgIH0KICAgICAgaWYgKCFpUk9STi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlST1JOLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhST1JOIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUk9STiIsIGlST1JOKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaVJPUkwhPTApIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFJPUkwiLCBpUk9STCkKICAgICAgfQogICAgICBpZiAoaVJPUlghPTApIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFJPUlgiLCBpUk9SWCkKICAgICAgfQogICAgICBpZiAoIWlVREYxLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjEiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYxIiwgaVVERjEpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGMi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMiIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjIiLCBpVURGMikKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGMy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREYzLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYzIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMyIsIGlVREYzKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREY0LnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjQiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY0IiwgaVVERjQpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjUudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGNS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjUiLCBpVURGNSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGNi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREY2LnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY2IiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNiIsIGlVREY2KQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlPUk5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaU9STk8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9STk8iLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5PIiwgaU9STk8pCiAgICAgICAgfQogICAgICB9CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1UTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgQ0hOTysxKQogICAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCkKICB9Cn0K"}}}