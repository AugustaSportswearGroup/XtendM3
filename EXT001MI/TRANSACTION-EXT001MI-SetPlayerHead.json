{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"SetPlayerHead":{"sourceUuid":"846c5b4a-89ef-4cc7-ba31-3ea56d6de037","name":"SetPlayerHead","program":"EXT001MI","description":"Set Player Header Information","active":true,"multi":false,"modified":1681545384462,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"PLID","description":"PlayerID","length":15,"mandatory":false,"type":"A"},{"name":"PROC","description":"Process","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":false,"type":"A"},{"name":"ORNR","description":"Customer Order Number","length":10,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"OREF","description":"Our Reference","length":30,"mandatory":false,"type":"A"},{"name":"PLNM","description":"Player Name","length":60,"mandatory":false,"type":"A"},{"name":"PLNU","description":"Player Number","length":10,"mandatory":false,"type":"A"},{"name":"TEAM","description":"Team Name","length":40,"mandatory":false,"type":"A"},{"name":"LEAG","description":"League Name","length":40,"mandatory":false,"type":"A"},{"name":"GRBY","description":"Grouping Method","length":10,"mandatory":false,"type":"A"},{"name":"BGBY","description":"Packaging Group","length":10,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Number","length":6,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"N"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":15,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"846c5b4a-89ef-4cc7-ba31-3ea56d6de037":{"uuid":"846c5b4a-89ef-4cc7-ba31-3ea56d6de037","updated":1683538544404,"updatedBy":"M3CONSADMX","created":1680774143042,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"0ED838049022B3F172DFAAE89628467120FE6DAED73243B56EF02F065F27B8F9","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFNldCByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZS4KICoKICogTmFtZTogRVhUMDAxTUkuU2V0UGxheWVySGVhZAogKiBEZXNjcmlwdGlvbjogU2V0IHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIFNldCByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZSAqLwoKcHVibGljIGNsYXNzIFNldFBsYXllckhlYWQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVBMSUQsIGlPUk5SLCBpT1JOTywgaU9SRUYsIGlQTE5NLCBpUExOVSwgaVRFQU0sIGlMRUFHLCBpR1JCWSwgaUJHQlksIGlDVU5PLCBpQURJRCwgaVVERjEsIGlVREYyLCBpVURGMywgaVVERjQsIGlVREY1LCBpVURGNixwbGF5ZXJJRAogIHByaXZhdGUgaW50IGlDT05PLCBpT1JEVAogIGJvb2xlYW4gaXNPcmRlckZvdW5kID0gZmFsc2UsdmFsaWRJbnB1dCA9IHRydWUscmVjb3JkRXhpc3RzID0gZmFsc2UKCiAgcHVibGljIFNldFBsYXllckhlYWQoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlESVZJID0gKG1pLmluRGF0YS5nZXQoIkRJVkkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuRElWSSA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKQogICAgaVBMSUQgPSAobWkuaW5EYXRhLmdldCgiUExJRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUExJRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQTElEIikKICAgIGlPUk5SID0gKG1pLmluRGF0YS5nZXQoIk9STlIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STlIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOUiIpCiAgICBpT1JOTyA9IChtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKQogICAgaU9SRUYgPSAobWkuaW5EYXRhLmdldCgiT1JFRiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JFRiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUkVGIikKICAgIGlQTE5NID0gKG1pLmluRGF0YS5nZXQoIlBMTk0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBMTk0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUExOTSIpCiAgICBpUExOVSA9IChtaS5pbkRhdGEuZ2V0KCJQTE5VIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTE5VIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBMTlUiKQogICAgaVRFQU0gPSAobWkuaW5EYXRhLmdldCgiVEVBTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVEVBTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJURUFNIikKICAgIGlMRUFHID0gKG1pLmluRGF0YS5nZXQoIkxFQUciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkxFQUciKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiTEVBRyIpCiAgICBpR1JCWSA9IChtaS5pbkRhdGEuZ2V0KCJHUkJZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJHUkJZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkdSQlkiKQogICAgaUJHQlkgPSAobWkuaW5EYXRhLmdldCgiQkdCWSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQkdCWSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCR0JZIikKICAgIGlDVU5PID0gKG1pLmluRGF0YS5nZXQoIkNVTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNVTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VOTyIpCiAgICBpQURJRCA9IChtaS5pbkRhdGEuZ2V0KCJBRElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJBRElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFESUQiKQogICAgaVVERjEgPSAobWkuaW5EYXRhLmdldCgiVURGMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYxIikKICAgIGlVREYyID0gKG1pLmluRGF0YS5nZXQoIlVERjIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMiIpCiAgICBpVURGMyA9IChtaS5pbkRhdGEuZ2V0KCJVREYzIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYzIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjMiKQogICAgaVVERjQgPSAobWkuaW5EYXRhLmdldCgiVURGNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY0IikKICAgIGlVREY1ID0gKG1pLmluRGF0YS5nZXQoIlVERjUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNSIpCiAgICBpVURGNiA9IChtaS5pbkRhdGEuZ2V0KCJVREY2IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY2IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjYiKQoKICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgIGlPUkRUID0gKG1pLmluRGF0YS5nZXQoIk9SRFQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SRFQiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJPUkRUIikgYXMgSW50ZWdlcgoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYoIWlQTElELnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIGNoZWNrSWZPcmRlckV4aXN0cygpCiAgICB9CiAgICAKICAgIGlmKHZhbGlkSW5wdXQmJiFyZWNvcmRFeGlzdHMpCiAgICB7CiAgICAgIGluc2VydFJlY29yZCgpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybiBib29sZWFuCiAgICovCiAgcHVibGljIHZhbGlkYXRlSW5wdXQoKSB7CiAgICAvL1ZhbGlkYXRlIENvbXBhbnkgTnVtYmVyCiAgICBkZWYgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBkZWYgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBpQ09OTykKICAgICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgaWYoIWlDVU5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBDdXN0b21lciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJDVU5PIjogaUNVTk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcDxTdHJpbmcsCiAgICAgICAgICBTdHJpbmc+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuQ1VOTyA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEN1c3RvbWVyIE51bWJlciAiICsgaUNVTk8pCiAgICAgICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjEwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZighaU9STlIudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBUZW1wb3JhcnkgT3JkZXIgTnVtYmVyCiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9YSEVBRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT0FDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9BT1JOTyIsIGlPUk5SKQoKICAgICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgICAgewogICAgICAgIG1pLmVycm9yKCJUZW1wb3JhcnkgT3JkZXIgTnVtYmVyIG5vdCBmb3VuZCAiK2lPUk5SKQogICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogICAgCiAgICBpZighaU9STk8udHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJPUk5PIjogaU9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIE9yZGVyIE51bWJlciAiICsgaU9STk8pCiAgICAgICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiT0lTMTAwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CgogICAgaWYoIWlBRElELnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgQWRkcmVzcyBJRAogICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPQ1VTQUQiKS5zZWxlY3Rpb24oIk9QQURJRCIpLmluZGV4KCIxMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT1BDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9QQ1VOTyIsIGlDVU5PKQogICAgICBjb250YWluZXIuc2V0KCJPUEFEUlQiLCAxKQogICAgICBjb250YWluZXIuc2V0KCJPUEFESUQiLCBpQURJRCkKCiAgICAgIGlmKCFxdWVyeS5yZWFkKGNvbnRhaW5lcikpCiAgICAgIHsKICAgICAgICBtaS5lcnJvcigiQWRkcmVzcyBJRCBOb3QgRm91bmQgIitpQURJRCkKICAgICAgICB2YWxpZElucHV0PWZhbHNlCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0KCiAgfQoKICAvKioKICAgKiBDaGVjayBpZiB0aGUgb3JkZXIgYWxyZWFkeSBleGlzdHMgaW4gRVhUU1RIIHRhYmxlIGFuZCBnZXQgUExJRCBpZiBhdmFpbGJsZS4KICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwoKICBwdWJsaWMgY2hlY2tJZk9yZGVyRXhpc3RzKCkKICB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRTVEgiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIGNvbnRhaW5lci5zZXQoIkVYUExJRCIsIGlQTElEKQogICAgaWYocXVlcnkucmVhZChjb250YWluZXIpKQogICAgewogICAgICByZWNvcmRFeGlzdHMgPSB0cnVlCiAgICAgIGRlZiAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRJVkkiOmlESVZJLnRvU3RyaW5nKCkudHJpbSgpLCJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAsIk9STlIiOmlPUk5SLnRvU3RyaW5nKCkudHJpbSgpLCJPUk5PIjppT1JOTy50b1N0cmluZygpLnRyaW0oKSwiT1JFRiI6aU9SRUYudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgLCJQTE5NIjppUExOTS50b1N0cmluZygpLnRyaW0oKSwiUExOVSI6aVBMTlUudG9TdHJpbmcoKS50cmltKCksIlRFQU0iOmlURUFNLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICwiTEVBRyI6aUxFQUcudG9TdHJpbmcoKS50cmltKCksIkdSQlkiOmlHUkJZLnRvU3RyaW5nKCkudHJpbSgpLCJCR0JZIjppQkdCWS50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAsIkNVTk8iOmlDVU5PLnRvU3RyaW5nKCkudHJpbSgpLCJBRElEIjppQURJRC50b1N0cmluZygpLnRyaW0oKSwiT1JEVCI6aU9SRFQudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgLCJVREYxIjppVURGMS50b1N0cmluZygpLnRyaW0oKSwiVURGMiI6aVVERjIudG9TdHJpbmcoKS50cmltKCksIlVERjMiOmlVREYzLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICwiVURGNCI6aVVERjQudG9TdHJpbmcoKS50cmltKCksIlVERjUiOmlVREY1LnRvU3RyaW5nKCkudHJpbSgpLCJVREY2IjppVURGNi50b1N0cmluZygpLnRyaW0oKV0KCiAgICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgbWkuZXJyb3IoIlJlc3BvbnNlOiAiK3Jlc3BvbnNlKQogICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3JNZXNzYWdlIT1udWxsKQogICAgICAgICAgewogICAgICAgICAgICBtaS5lcnJvcigiRXJyb3I6ICIrcmVzcG9uc2UuZXJyb3JNZXNzYWdlKQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIlVwZFBsYXllckhlYWQiLCBwYXJhbXMsY2FsbGJhY2spCiAgICAgIG1pLm91dERhdGEucHV0KCJQTElEIixpUExJRCkKICAgICAgbWkub3V0RGF0YS5wdXQoIlBST0MiLCJVUEQiKQogICAgICBtaS53cml0ZSgpCiAgICB9CiAgfQogIAoKICAvKioKICAgKkluc2VydCByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZQogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIGluc2VydFJlY29yZCgpIHsKICAgIGRlZiAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRJVkkiOmlESVZJLnRvU3RyaW5nKCkudHJpbSgpLCJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgLCJPUk5SIjppT1JOUi50b1N0cmluZygpLnRyaW0oKSwiT1JOTyI6aU9STk8udG9TdHJpbmcoKS50cmltKCksIk9SRUYiOmlPUkVGLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAsIlBMTk0iOmlQTE5NLnRvU3RyaW5nKCkudHJpbSgpLCJQTE5VIjppUExOVS50b1N0cmluZygpLnRyaW0oKSwiVEVBTSI6aVRFQU0udG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICwiTEVBRyI6aUxFQUcudG9TdHJpbmcoKS50cmltKCksIkdSQlkiOmlHUkJZLnRvU3RyaW5nKCkudHJpbSgpLCJCR0JZIjppQkdCWS50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgLCJDVU5PIjppQ1VOTy50b1N0cmluZygpLnRyaW0oKSwiQURJRCI6aUFESUQudG9TdHJpbmcoKS50cmltKCksIk9SRFQiOmlPUkRULnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAsIlVERjEiOmlVREYxLnRvU3RyaW5nKCkudHJpbSgpLCJVREYyIjppVURGMi50b1N0cmluZygpLnRyaW0oKSwiVURGMyI6aVVERjMudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICwiVURGNCI6aVVERjQudG9TdHJpbmcoKS50cmltKCksIlVERjUiOmlVREY1LnRvU3RyaW5nKCkudHJpbSgpLCJVREY2IjppVURGNi50b1N0cmluZygpLnRyaW0oKV0KCiAgICBkZWYgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmKHJlc3BvbnNlLmVycm9yTWVzc2FnZSE9bnVsbCkKICAgICAgICB7CiAgICAgICAgICBtaS5lcnJvcigiRXJyb3IgOiAiK3Jlc3BvbnNlLmVycm9yTWVzc2FnZSkKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgIG1pLm91dERhdGEucHV0KCJQTElEIixyZXNwb25zZS5QTElEKQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlBST0MiLCJBREQiKQogICAgICAgICAgbWkud3JpdGUoKQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIkFkZFBsYXllckhlYWQiLCBwYXJhbXMsY2FsbGJhY2spCgogIH0KCgp9Cg=="}}}