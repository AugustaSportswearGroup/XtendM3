{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"SetPlayerHead":{"sourceUuid":"846c5b4a-89ef-4cc7-ba31-3ea56d6de037","name":"SetPlayerHead","program":"EXT001MI","description":"Set Player Header Information","active":true,"multi":false,"modified":1683712601337,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"PLID","description":"PlayerID","length":15,"mandatory":false,"type":"A"},{"name":"PROC","description":"Process","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":false,"type":"A"},{"name":"ORNR","description":"Customer Order Number","length":10,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"OREF","description":"Our Reference","length":30,"mandatory":false,"type":"A"},{"name":"PLNM","description":"Player Name","length":60,"mandatory":false,"type":"A"},{"name":"PLNU","description":"Player Number","length":10,"mandatory":false,"type":"A"},{"name":"TEAM","description":"Team Name","length":40,"mandatory":false,"type":"A"},{"name":"LEAG","description":"League Name","length":40,"mandatory":false,"type":"A"},{"name":"GRBY","description":"Grouping Method","length":10,"mandatory":false,"type":"A"},{"name":"BGBY","description":"Packaging Group","length":10,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Number","length":6,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"A"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":15,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"846c5b4a-89ef-4cc7-ba31-3ea56d6de037":{"uuid":"846c5b4a-89ef-4cc7-ba31-3ea56d6de037","updated":1683712702043,"updatedBy":"M3CONSADMX","created":1680774143042,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"58ED816400A20DCC548516F594063460E39D9C0352E1F7D00272DA9B8DB750AF","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFNldCByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZS4KICoKICogTmFtZTogRVhUMDAxTUkuU2V0UGxheWVySGVhZAogKiBEZXNjcmlwdGlvbjogU2V0IHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIFNldCByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZSAqLwoKcHVibGljIGNsYXNzIFNldFBsYXllckhlYWQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5CgogIHByaXZhdGUgU3RyaW5nIGlESVZJLCBpUExJRCwgaU9STlIsIGlPUk5PLCBpT1JFRiwgaVBMTk0sIGlQTE5VLCBpVEVBTSwgaUxFQUcsIGlHUkJZLCBpQkdCWSwgaUNVTk8sIGlBRElELCBpVURGMSwgaVVERjIsIGlVREYzLCBpVURGNCwgaVVERjUsIGlVREY2LHBsYXllcklELGlPUkRUCiAgcHJpdmF0ZSBpbnQgaUNPTk8KICBib29sZWFuIGlzT3JkZXJGb3VuZCA9IGZhbHNlLHZhbGlkSW5wdXQgPSB0cnVlLHJlY29yZEV4aXN0cyA9IGZhbHNlCgogIHB1YmxpYyBTZXRQbGF5ZXJIZWFkKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLFV0aWxpdHlBUEkgdXRpbGl0eSkgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eQogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpUExJRCA9IChtaS5pbkRhdGEuZ2V0KCJQTElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBMSUQiKQogICAgaU9STlIgPSAobWkuaW5EYXRhLmdldCgiT1JOUiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOUiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5SIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpT1JFRiA9IChtaS5pbkRhdGEuZ2V0KCJPUkVGIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUkVGIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9SRUYiKQogICAgaVBMTk0gPSAobWkuaW5EYXRhLmdldCgiUExOTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUExOTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQTE5NIikKICAgIGlQTE5VID0gKG1pLmluRGF0YS5nZXQoIlBMTlUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBMTlUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUExOVSIpCiAgICBpVEVBTSA9IChtaS5pbkRhdGEuZ2V0KCJURUFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJURUFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRFQU0iKQogICAgaUxFQUcgPSAobWkuaW5EYXRhLmdldCgiTEVBRyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTEVBRyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMRUFHIikKICAgIGlHUkJZID0gKG1pLmluRGF0YS5nZXQoIkdSQlkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkdSQlkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiR1JCWSIpCiAgICBpQkdCWSA9IChtaS5pbkRhdGEuZ2V0KCJCR0JZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCR0JZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJHQlkiKQogICAgaUNVTk8gPSAobWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikKICAgIGlBRElEID0gKG1pLmluRGF0YS5nZXQoIkFESUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFESUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQURJRCIpCiAgICBpVURGMSA9IChtaS5pbkRhdGEuZ2V0KCJVREYxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjEiKQogICAgaVVERjIgPSAobWkuaW5EYXRhLmdldCgiVURGMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYyIikKICAgIGlVREYzID0gKG1pLmluRGF0YS5nZXQoIlVERjMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMyIpCiAgICBpVURGNCA9IChtaS5pbkRhdGEuZ2V0KCJVREY0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjQiKQogICAgaVVERjUgPSAobWkuaW5EYXRhLmdldCgiVURGNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY1IikKICAgIGlVREY2ID0gKG1pLmluRGF0YS5nZXQoIlVERjYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNiIpCiAgICBpT1JEVCA9IChtaS5pbkRhdGEuZ2V0KCJPUkRUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUkRUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9SRFQiKSAKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZighaVBMSUQudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgY2hlY2tJZk9yZGVyRXhpc3RzKCkKICAgIH0KICAgIAogICAgaWYodmFsaWRJbnB1dCYmIXJlY29yZEV4aXN0cykKICAgIHsKICAgICAgaW5zZXJ0UmVjb3JkKCkKICAgIH0KICB9CgogIC8qKgogICAqVmFsaWRhdGUgUmVjb3JkcwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuIGJvb2xlYW4KICAgKi8KICBwdWJsaWMgdmFsaWRhdGVJbnB1dCgpIHsKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICBpZighaUNVTk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAvL1ZhbGlkYXRlIEN1c3RvbWVyIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIkNVTk8iOiBpQ1VOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwPFN0cmluZywKICAgICAgICAgIFN0cmluZz4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5DVU5PID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ3VzdG9tZXIgTnVtYmVyICIgKyBpQ1VOTykKICAgICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJDUlM2MTBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQoKICAgIGlmKCFpT1JOUi50cmltKCkuaXNFbXB0eSgpKQogICAgewogICAgICAvL1ZhbGlkYXRlIFRlbXBvcmFyeSBPcmRlciBOdW1iZXIKICAgICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT1hIRUFEIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgICBjb250YWluZXIuc2V0KCJPQUNPTk8iLCBpQ09OTykKICAgICAgY29udGFpbmVyLnNldCgiT0FPUk5PIiwgaU9STlIpCgogICAgICBpZighcXVlcnkucmVhZChjb250YWluZXIpKQogICAgICB7CiAgICAgICAgbWkuZXJyb3IoIlRlbXBvcmFyeSBPcmRlciBOdW1iZXIgbm90IGZvdW5kICIraU9STlIpCiAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICAKICAgIGlmKCFpT1JOTy50cmltKCkuaXNFbXB0eSgpKQogICAgewogICAgICAvL1ZhbGlkYXRlIE9yZGVyIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIk9STk8iOiBpT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5PUk5PID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBpT1JOTykKICAgICAgICAgICAgdmFsaWRJbnB1dD1mYWxzZQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZighaUFESUQudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBBZGRyZXNzIElECiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9DVVNBRCIpLnNlbGVjdGlvbigiT1BBRElEIikuaW5kZXgoIjEwIikuYnVpbGQoKQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgICBjb250YWluZXIuc2V0KCJPUENPTk8iLCBpQ09OTykKICAgICAgY29udGFpbmVyLnNldCgiT1BDVU5PIiwgaUNVTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9QQURSVCIsIDEpCiAgICAgIGNvbnRhaW5lci5zZXQoIk9QQURJRCIsIGlBRElEKQoKICAgICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgICAgewogICAgICAgIG1pLmVycm9yKCJBZGRyZXNzIElEIE5vdCBGb3VuZCAiK2lBRElEKQogICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogICAgCiAgaWYoIWlPUkRULnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRGF0ZQogICAgICBTdHJpbmcgc291cmNlRm9ybWF0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsImdldEZ1bGxGb3JtYXQiLG1pLmdldERhdGVGb3JtYXQoKSkKICAgICAgdmFsaWRJbnB1dCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCJpc0RhdGVWYWxpZCIsaU9SRFQudHJpbSgpLHNvdXJjZUZvcm1hdC50b1N0cmluZygpKQogICAgICBpZiAoIXZhbGlkSW5wdXQpCiAgICAgIHsKICAgICAgICAgIG1pLmVycm9yKCJPcmRlciBEYXRlIG5vdCBpbiAiK3NvdXJjZUZvcm1hdCsiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIraU9SRFQpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9ZWxzZQogICAgICAgIHsKICAgICAgICAgIGlmKCFzb3VyY2VGb3JtYXQudHJpbSgpLmVxdWFscygieXl5eU1NZGQiKSkKICAgICAgICAgIHsKICAgICAgICAgICAgaU9SRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwiY29udmVydERhdGUiLHNvdXJjZUZvcm1hdCwieXl5eU1NZGQiLGlPUkRULnRyaW0oKSkgLy9NYWludGFpbiBkYXRlIGluIFlNRDggZm9ybWF0IGluIHRoZSB0YWJsZQogICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgfQoKICAvKioKICAgKiBDaGVjayBpZiB0aGUgb3JkZXIgYWxyZWFkeSBleGlzdHMgaW4gRVhUU1RIIHRhYmxlIGFuZCBnZXQgUExJRCBpZiBhdmFpbGJsZS4KICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwoKICBwdWJsaWMgY2hlY2tJZk9yZGVyRXhpc3RzKCkKICB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRTVEgiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIGNvbnRhaW5lci5zZXQoIkVYUExJRCIsIGlQTElEKQogICAgaWYocXVlcnkucmVhZChjb250YWluZXIpKQogICAgewogICAgICByZWNvcmRFeGlzdHMgPSB0cnVlCiAgICAgIGRlZiAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRJVkkiOmlESVZJLnRvU3RyaW5nKCkudHJpbSgpLCJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAsIk9STlIiOmlPUk5SLnRvU3RyaW5nKCkudHJpbSgpLCJPUk5PIjppT1JOTy50b1N0cmluZygpLnRyaW0oKSwiT1JFRiI6aU9SRUYudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgLCJQTE5NIjppUExOTS50b1N0cmluZygpLnRyaW0oKSwiUExOVSI6aVBMTlUudG9TdHJpbmcoKS50cmltKCksIlRFQU0iOmlURUFNLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICwiTEVBRyI6aUxFQUcudG9TdHJpbmcoKS50cmltKCksIkdSQlkiOmlHUkJZLnRvU3RyaW5nKCkudHJpbSgpLCJCR0JZIjppQkdCWS50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICAsIkNVTk8iOmlDVU5PLnRvU3RyaW5nKCkudHJpbSgpLCJBRElEIjppQURJRC50b1N0cmluZygpLnRyaW0oKSwiT1JEVCI6aU9SRFQudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgLCJVREYxIjppVURGMS50b1N0cmluZygpLnRyaW0oKSwiVURGMiI6aVVERjIudG9TdHJpbmcoKS50cmltKCksIlVERjMiOmlVREYzLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICwiVURGNCI6aVVERjQudG9TdHJpbmcoKS50cmltKCksIlVERjUiOmlVREY1LnRvU3RyaW5nKCkudHJpbSgpLCJVREY2IjppVURGNi50b1N0cmluZygpLnRyaW0oKV0KCiAgICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgbWkuZXJyb3IoIlJlc3BvbnNlOiAiK3Jlc3BvbnNlKQogICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3JNZXNzYWdlIT1udWxsKQogICAgICAgICAgewogICAgICAgICAgICBtaS5lcnJvcigiRXJyb3I6ICIrcmVzcG9uc2UuZXJyb3JNZXNzYWdlKQogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0KICAgICAgICAgIAogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIlVwZFBsYXllckhlYWQiLCBwYXJhbXMsY2FsbGJhY2spCiAgICAgIG1pLm91dERhdGEucHV0KCJQTElEIixpUExJRCkKICAgICAgbWkub3V0RGF0YS5wdXQoIlBST0MiLCJVUEQiKQogICAgICBtaS53cml0ZSgpCiAgICB9CiAgfQogIAoKICAvKioKICAgKkluc2VydCByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZQogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIGluc2VydFJlY29yZCgpIHsKICAgIGRlZiAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRJVkkiOmlESVZJLnRvU3RyaW5nKCkudHJpbSgpLCJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgLCJPUk5SIjppT1JOUi50b1N0cmluZygpLnRyaW0oKSwiT1JOTyI6aU9STk8udG9TdHJpbmcoKS50cmltKCksIk9SRUYiOmlPUkVGLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAsIlBMTk0iOmlQTE5NLnRvU3RyaW5nKCkudHJpbSgpLCJQTE5VIjppUExOVS50b1N0cmluZygpLnRyaW0oKSwiVEVBTSI6aVRFQU0udG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICwiTEVBRyI6aUxFQUcudG9TdHJpbmcoKS50cmltKCksIkdSQlkiOmlHUkJZLnRvU3RyaW5nKCkudHJpbSgpLCJCR0JZIjppQkdCWS50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgLCJDVU5PIjppQ1VOTy50b1N0cmluZygpLnRyaW0oKSwiQURJRCI6aUFESUQudG9TdHJpbmcoKS50cmltKCksIk9SRFQiOmlPUkRULnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICAsIlVERjEiOmlVREYxLnRvU3RyaW5nKCkudHJpbSgpLCJVREYyIjppVURGMi50b1N0cmluZygpLnRyaW0oKSwiVURGMyI6aVVERjMudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICwiVURGNCI6aVVERjQudG9TdHJpbmcoKS50cmltKCksIlVERjUiOmlVREY1LnRvU3RyaW5nKCkudHJpbSgpLCJVREY2IjppVURGNi50b1N0cmluZygpLnRyaW0oKV0KCiAgICBkZWYgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmKHJlc3BvbnNlLmVycm9yTWVzc2FnZSE9bnVsbCkKICAgICAgICB7CiAgICAgICAgICBtaS5lcnJvcigiRXJyb3IgOiAiK3Jlc3BvbnNlLmVycm9yTWVzc2FnZSkKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgIG1pLm91dERhdGEucHV0KCJQTElEIixyZXNwb25zZS5QTElEKQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlBST0MiLCJBREQiKQogICAgICAgICAgbWkud3JpdGUoKQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIkFkZFBsYXllckhlYWQiLCBwYXJhbXMsY2FsbGJhY2spCgogIH0KCgp9Cg=="}}}