{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdPlayerOrder":{"sourceUuid":"aa8eeeae-a980-4588-90f1-5316a6f33c09","name":"UpdPlayerOrder","program":"EXT001MI","description":"Update Player Order Details","active":true,"multi":false,"modified":1682505176728,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company ","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"ORNR","description":"Temporary Order Number","length":10,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"aa8eeeae-a980-4588-90f1-5316a6f33c09":{"uuid":"aa8eeeae-a980-4588-90f1-5316a6f33c09","updated":1683538593931,"updatedBy":"M3CONSADMX","created":1680611332727,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"9122370540CB0B9D644E5D3A3A7B4E9A648C415D11AE22268705342902F3251D","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIHVwZGF0ZSBvcmRlciBudW1iZXIgaW4gRVhUU1RIIGFuZCBFWFRTVEwgdGFibGUKICoKICogTmFtZTogRVhUMDAxTUkuVXBkUGxheWVyT3JkZXIKICogRGVzY3JpcHRpb246IFVwZGF0ZSBPcmRlciBudW1iZXIgaW4gRVhUU1RIIGFuZCBFWFRTVEwgdGFibGVzCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIFVwZGF0ZSBPcmRlciBudW1iZXIgaW4gRVhUU1RIIGFuZCBFWFRTVEwgdGFibGVzICovCgpwdWJsaWMgY2xhc3MgVXBkUGxheWVyT3JkZXIgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaU9STlIsIGlPUk5PCiAgcHJpdmF0ZSBpbnQgaUNPTk8KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUKCiAgcHVibGljIFVwZFBsYXllck9yZGVyKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLE1JQ2FsbGVyQVBJIG1pQ2FsbGVyKSB7CiAgICB0aGlzLm1pID0gbWkKICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyCiAgfQogIC8qKgogICAqKiBNYWluIGZ1bmN0aW9uCiAgICogQHBhcmFtCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpRElWSSA9IChtaS5pbkRhdGEuZ2V0KCJESVZJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkRJVkkgOiBtaS5pbkRhdGEuZ2V0KCJESVZJIikKICAgIGlPUk5SID0gKG1pLmluRGF0YS5nZXQoIk9STlIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STlIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOUiIpCiAgICBpT1JOTyA9IChtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKQogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KQogICAgewogICAgICBsaXN0UGxheWVySGVhZGVyRGV0YWlscygpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgVGVtcG9yYXJ5IE9yZGVyIE51bWJlcgogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT1hIRUFEIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIk9BQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiT0FPUk5PIiwgaU9STlIpCgogICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgIHsKICAgICAgbWkuZXJyb3IoIlRlbXBvcmFyeSBPcmRlciBOdW1iZXIgbm90IGZvdW5kICIraU9STlIpCiAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICByZXR1cm4gZmFsc2UKICAgIH0KCgogICAgLy9WYWxpZGF0ZSBGaW5hbCBvcmRlciBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJPUk5PIjppT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIAogIH0KCiAgLyoqCiAgICpMaXN0IHJlY29yZHMgZnJvbSBFWFRTVEggdGFibGUKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyBsaXN0UGxheWVySGVhZGVyRGV0YWlscygpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFNUSCIpLmluZGV4KCIxMCIpLnNlbGVjdGlvbigiRVhQTElEIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIkVYT1JOUiIsIGlPUk5SKQogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAzLCByZXN1bHRzZXQpCgogIH0KCiAgQ2xvc3VyZSA8ID8gPiByZXN1bHRzZXQgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgU3RyaW5nIFBMSUQgPSBjb250YWluZXIuZ2V0KCJFWFBMSUQiKQogICAgICAKICAgICAgZGVmICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiRElWSSI6aURJVkkudG9TdHJpbmcoKS50cmltKCksIlBMSUQiOlBMSUQudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgICAgLCJPUk5SIjppT1JOUi50b1N0cmluZygpLnRyaW0oKSwiT1JOTyI6aU9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3JNZXNzYWdlIT1udWxsKQogICAgICAgICAgewogICAgICAgICAgICBtaS5lcnJvcihyZXNwb25zZS5lcnJvck1lc3NhZ2UpCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIlVwZFBsYXllckhlYWQiLCBwYXJhbXMsY2FsbGJhY2spCiAgICAgIGxpc3RMaW5lRGV0YWlscyhQTElEKQogIH0KCiAgLyoqCiAgICpMaXN0IHJlY29yZHMgdG8gRVhUU1RMIHRhYmxlCiAgICogQHBhcmFtcyBTdHJpbmcgUExJRAogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgbGlzdExpbmVEZXRhaWxzKFN0cmluZyBQTElEKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRTVEwiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIkVYQ09OTyIsIkVYRElWSSIsIkVYUExJRCIsIkVYT1JOUiIsIkVYSVROTyIsIkVYUE9OUiIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICBjb250YWluZXIuc2V0KCJFWFBMSUQiLCBQTElEKQogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJFWERJVkkiLCBpRElWSSkKICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAzLCByZXN1bHRzZXRfTHN0TGluZURldGFpbHMpCiAgfQoKICBDbG9zdXJlIDwgPyA+IHJlc3VsdHNldF9Mc3RMaW5lRGV0YWlscyA9IHsKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciAtPgogICAgICBTdHJpbmcgQ09OTyA9IGNvbnRhaW5lci5nZXQoIkVYQ09OTyIpCiAgICAgIFN0cmluZyBESVZJID0gY29udGFpbmVyLmdldCgiRVhESVZJIikKICAgICAgU3RyaW5nIFBMSUQgPSBjb250YWluZXIuZ2V0KCJFWFBMSUQiKQogICAgICBTdHJpbmcgT1JOUiA9IGNvbnRhaW5lci5nZXQoIkVYT1JOUiIpCiAgICAgIFN0cmluZyBQT05SID0gY29udGFpbmVyLmdldCgiRVhQT05SIikKICAgICAgU3RyaW5nIElUTk8gPSBjb250YWluZXIuZ2V0KCJFWElUTk8iKQogICAgICBkZWYgcGFyYW1zID0gWyJDT05PIjogQ09OTy50b1N0cmluZygpLnRyaW0oKSwiRElWSSI6RElWSS50b1N0cmluZygpLnRyaW0oKSwiT1JOUiI6T1JOUi50b1N0cmluZygpLnRyaW0oKSwKICAgICAgICAgICAgICAgICJQTElEIjpQTElELnRvU3RyaW5nKCkudHJpbSgpLCJPUk5PIjppT1JOTy50b1N0cmluZygpLnRyaW0oKSwiUE9OUiI6UE9OUi50b1N0cmluZygpLnRyaW0oKSwiSVROTyI6SVROTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3JNZXNzYWdlIT1udWxsKQogICAgICAgICAgewogICAgICAgICAgICBtaS5lcnJvcihyZXNwb25zZS5lcnJvck1lc3NhZ2UpCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiRVhUMDAxTUkiLCAiVXBkUGxheWVyTGluZSIsIHBhcmFtcyxjYWxsYmFjaykKICB9Cn0K"}}}