{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdPlayerHead":{"sourceUuid":"846c5b9a-89ef-4cc7-ba32-3ea56d6de037","name":"UpdPlayerHead","program":"EXT001MI","description":"Update Player Header Information","active":true,"multi":false,"modified":1681545420891,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":true,"type":"A"},{"name":"ORNR","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"OREF","description":"Our Reference","length":30,"mandatory":false,"type":"A"},{"name":"PLNM","description":"Player Name","length":60,"mandatory":false,"type":"A"},{"name":"PLNU","description":"Player Number","length":10,"mandatory":false,"type":"A"},{"name":"TEAM","description":"Team Name","length":40,"mandatory":false,"type":"A"},{"name":"LEAG","description":"League Name","length":40,"mandatory":false,"type":"A"},{"name":"GRBY","description":"Grouping Method","length":10,"mandatory":false,"type":"A"},{"name":"BGBY","description":"Packaging Group","length":10,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Number","length":6,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"N"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":15,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"846c5b9a-89ef-4cc7-ba32-3ea56d6de037":{"uuid":"846c5b9a-89ef-4cc7-ba32-3ea56d6de037","updated":1683713922768,"updatedBy":"M3CONSADMX","created":1680509040972,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"80143EB2707461938938094CBE77EFBDD4C343558704AE08AD2C49DBEDACE124","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDAwMU1JLlVwZFBsYXllckhlYWQKICogRGVzY3JpcHRpb246IFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRTVEggdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBVcGRQbGF5ZXJIZWFkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eQoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVBMSUQsIGlPUk5SLCBpT1JOTywgaU9SRUYsIGlQTE5NLCBpUExOVSwgaVRFQU0sIGlMRUFHLCBpR1JCWSwgaUJHQlksIGlDVU5PLCBpQURJRCwgaVVERjEsIGlVREYyLCBpVURGMywgaVVERjQsIGlVREY1LCBpVURGNixpT1JEVAogIHByaXZhdGUgaW50IGlDT05PLCBDSE5PCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkSW5wdXQgPSB0cnVlCiAgcHVibGljIFVwZFBsYXllckhlYWQoTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sTUlDYWxsZXJBUEkgbWlDYWxsZXIsVXRpbGl0eUFQSSB1dGlsaXR5KSB7CiAgICB0aGlzLm1pID0gbWkKICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5CiAgfQogIC8qKgogICAqKiBNYWluIGZ1bmN0aW9uCiAgICogQHBhcmFtCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpRElWSSA9IChtaS5pbkRhdGEuZ2V0KCJESVZJIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkRJVkkgOiBtaS5pbkRhdGEuZ2V0KCJESVZJIikKICAgIGlQTElEID0gKG1pLmluRGF0YS5nZXQoIlBMSUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBMSUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUExJRCIpCiAgICBpT1JOUiA9IChtaS5pbkRhdGEuZ2V0KCJPUk5SIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5SIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STlIiKQogICAgaU9STk8gPSAobWkuaW5EYXRhLmdldCgiT1JOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5PIikKICAgIGlPUkVGID0gKG1pLmluRGF0YS5nZXQoIk9SRUYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SRUYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JFRiIpCiAgICBpUExOTSA9IChtaS5pbkRhdGEuZ2V0KCJQTE5NIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTE5NIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBMTk0iKQogICAgaVBMTlUgPSAobWkuaW5EYXRhLmdldCgiUExOVSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUExOVSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQTE5VIikKICAgIGlURUFNID0gKG1pLmluRGF0YS5nZXQoIlRFQU0iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlRFQU0iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVEVBTSIpCiAgICBpTEVBRyA9IChtaS5pbkRhdGEuZ2V0KCJMRUFHIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMRUFHIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxFQUciKQogICAgaUdSQlkgPSAobWkuaW5EYXRhLmdldCgiR1JCWSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiR1JCWSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJHUkJZIikKICAgIGlCR0JZID0gKG1pLmluRGF0YS5nZXQoIkJHQlkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkJHQlkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQkdCWSIpCiAgICBpQ1VOTyA9IChtaS5pbkRhdGEuZ2V0KCJDVU5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDVU5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVTk8iKQogICAgaUFESUQgPSAobWkuaW5EYXRhLmdldCgiQURJRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQURJRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJBRElEIikKICAgIGlVREYxID0gKG1pLmluRGF0YS5nZXQoIlVERjEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMSIpCiAgICBpVURGMiA9IChtaS5pbkRhdGEuZ2V0KCJVREYyIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYyIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjIiKQogICAgaVVERjMgPSAobWkuaW5EYXRhLmdldCgiVURGMyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYzIikKICAgIGlVREY0ID0gKG1pLmluRGF0YS5nZXQoIlVERjQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNCIpCiAgICBpVURGNSA9IChtaS5pbkRhdGEuZ2V0KCJVREY1IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY1IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjUiKQogICAgaVVERjYgPSAobWkuaW5EYXRhLmdldCgiVURGNiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY2IikKICAgIGlPUkRUID0gKG1pLmluRGF0YS5nZXQoIk9SRFQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SRFQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JEVCIpCgogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KSB7CiAgICAgIHVwZGF0ZVJlY29yZCgpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIGlmKCFpQ1VOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgQ3VzdG9tZXIgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiQ1VOTyI6IGlDVU5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXA8U3RyaW5nLAogICAgICAgICAgU3RyaW5nPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLkNVTk8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDdXN0b21lciBOdW1iZXIgIiArIGlDVU5PKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjEwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZighaU9STlIudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBUZW1wb3JhcnkgT3JkZXIgTnVtYmVyCiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9YSEVBRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT0FDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9BT1JOTyIsIGlPUk5SKQoKICAgICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgICAgewogICAgICAgIG1pLmVycm9yKCJUZW1wb3JhcnkgT3JkZXIgTnVtYmVyIG5vdCBmb3VuZCAiK2lPUk5SKQogICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQoKICAgIGlmKCFpT1JOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgT3JkZXIgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiT1JOTyI6IGlPUk5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXA8U3RyaW5nLAogICAgICAgICAgU3RyaW5nPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLk9STk8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiT0lTMTAwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CiAgICAKICAgIGlmKCFpQURJRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgQWRkcmVzcyBJRAogICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPQ1VTQUQiKS5zZWxlY3Rpb24oIk9QQURJRCIpLmluZGV4KCIxMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT1BDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9QQ1VOTyIsIGlDVU5PKQogICAgICBjb250YWluZXIuc2V0KCJPUEFEUlQiLCAxKQogICAgICBjb250YWluZXIuc2V0KCJPUEFESUQiLCBpQURJRCkKCiAgICAgIGlmICghcXVlcnkucmVhZChjb250YWluZXIpKSB7CiAgICAgICAgbWkuZXJyb3IoIkFkZHJlc3MgSUQgTm90IEZvdW5kICIgKyBpQURJRCkKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogICAgCiAgaWYoIWlPUkRULnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRGF0ZQogICAgICBTdHJpbmcgc291cmNlRm9ybWF0ID0gdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsImdldEZ1bGxGb3JtYXQiLG1pLmdldERhdGVGb3JtYXQoKSkKICAgICAgdmFsaWRJbnB1dCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCJpc0RhdGVWYWxpZCIsaU9SRFQudHJpbSgpLHNvdXJjZUZvcm1hdC50b1N0cmluZygpKQogICAgICBpZiAoIXZhbGlkSW5wdXQpCiAgICAgIHsKICAgICAgICAgIG1pLmVycm9yKCJPcmRlciBEYXRlIG5vdCBpbiAiK3NvdXJjZUZvcm1hdCsiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIraU9SRFQpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9ZWxzZQogICAgICAgIHsKICAgICAgICAgIGlmKCFzb3VyY2VGb3JtYXQudHJpbSgpLmVxdWFscygieXl5eU1NZGQiKSkKICAgICAgICAgIHsKICAgICAgICAgICAgaU9SRFQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwiY29udmVydERhdGUiLHNvdXJjZUZvcm1hdCwieXl5eU1NZGQiLGlPUkRULnRyaW0oKSkgLy9NYWludGFpbiBkYXRlIGluIFlNRDggZm9ybWF0IGluIHRoZSB0YWJsZQogICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICB9CgoKICAvKioKICAgKlVwZGF0ZSByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZQogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHVwZGF0ZVJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFNUSCIpLnNlbGVjdGlvbigiRVhDSE5PIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkVYRElWSSIsIGlESVZJKQogICAgY29udGFpbmVyLnNldCgiRVhQTElEIiwgaVBMSUQpCiAgICBpZiAocXVlcnkucmVhZChjb250YWluZXIpKSB7CiAgICAgIHF1ZXJ5LnJlYWRMb2NrKGNvbnRhaW5lciwgdXBkYXRlQ2FsbEJhY2spCiAgICB9IGVsc2UgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGRvZXMgbm90IEV4aXN0LiIpCiAgICAgIHJldHVybgogICAgfQogIH0KCiAgQ2xvc3VyZSA8ID8gPiB1cGRhdGVDYWxsQmFjayA9IHsKICAgIExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgICAgQ0hOTyA9IGxvY2tlZFJlc3VsdC5nZXQoIkVYQ0hOTyIpCiAgICAgIGlmICghaU9STlIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpT1JOUi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JOUiIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9STlIiLCBpT1JOUikKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpT1JOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlPUk5PLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5PIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JOTyIsIGlPUk5PKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlPUkVGLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaU9SRUYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9SRUYiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUkVGIiwgaU9SRUYpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVBMTk0udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpUExOTS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUExOTSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFBMTk0iLCBpUExOTSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpUExOVS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlQTE5VLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQTE5VIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUExOVSIsIGlQTE5VKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlURUFNLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVRFQU0udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRFQU0iLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhURUFNIiwgaVRFQU0pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaUxFQUcudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpTEVBRy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTEVBRyIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExFQUciLCBpTEVBRykKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpR1JCWS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlHUkJZLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhHUkJZIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYR1JCWSIsIGlHUkJZKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlCR0JZLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaUJHQlkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEJHQlkiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCR0JZIiwgaUJHQlkpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaUNVTk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpQ1VOTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VOTyIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENVTk8iLCBpQ1VOTykKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpQURJRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlBRElELnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBRElEIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQURJRCIsIGlBRElEKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREYxLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjEudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjEiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYxIiwgaVVERjEpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGMi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMiIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjIiLCBpVURGMikKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGMy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREYzLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYzIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMyIsIGlVREYzKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREY0LnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjQiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY0IiwgaVVERjQpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjUudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGNS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjUiLCBpVURGNSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGNi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREY2LnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY2IiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNiIsIGlVREY2KQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaUNPTk8gIT0gMCkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ09OTyIsIDApCiAgICAgIH0KICAgICAgaWYgKCFpT1JEVC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUkRUIiwgaU9SRFQgYXMgSW50ZWdlcikKICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9SRFQiLCAwKQogICAgICB9CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTE1UTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgQ0hOTysxKQogICAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCkKICB9Cn0="}}}