{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdPlayerHead":{"sourceUuid":"846c5b9a-89ef-4cc7-ba32-3ea56d6de037","name":"UpdPlayerHead","program":"EXT001MI","description":"Update Player Header Information","active":true,"multi":false,"modified":1697638736118,"modifiedBy":"SADANGJ","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":true,"type":"A"},{"name":"ORNR","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"OREF","description":"Our Reference","length":30,"mandatory":false,"type":"A"},{"name":"PLNM","description":"Player Name","length":60,"mandatory":false,"type":"A"},{"name":"PLNU","description":"Player Number","length":10,"mandatory":false,"type":"A"},{"name":"TEAM","description":"Team Name","length":40,"mandatory":false,"type":"A"},{"name":"LEAG","description":"League Name","length":40,"mandatory":false,"type":"A"},{"name":"GRBY","description":"Grouping Method","length":10,"mandatory":false,"type":"A"},{"name":"BGBY","description":"Packaging Group","length":10,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Number","length":6,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"N"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":20,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":["DateUtil"]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"846c5b9a-89ef-4cc7-ba32-3ea56d6de037":{"uuid":"846c5b9a-89ef-4cc7-ba32-3ea56d6de037","updated":1707297867648,"updatedBy":"ABHISHEK","created":1680509040972,"createdBy":"M3CONSADMX","apiVersion":"0.16","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"EAAD8A828C61E688262C3A6FCF0A1F691E628023E0D1463DEA75FC4341073A37","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDAwMU1JLlVwZFBsYXllckhlYWQKICogRGVzY3JpcHRpb246IFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRTVEggdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBVcGRQbGF5ZXJIZWFkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eQoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVBMSUQsIGlPUk5SLCBpT1JOTywgaU9SRUYsIGlQTE5NLCBpUExOVSwgaVRFQU0sIGlMRUFHLCBpR1JCWSwgaUJHQlksIGlDVU5PLCBpQURJRCwgaVVERjEsIGlVREYyLCBpVURGMywgaVVERjQsIGlVREY1LCBpVURGNgogIHByaXZhdGUgaW50IGlDT05PLCBDSE5PLCBpT1JEVAogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQogIHB1YmxpYyBVcGRQbGF5ZXJIZWFkKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLFV0aWxpdHlBUEkgdXRpbGl0eSkgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eQogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpUExJRCA9IChtaS5pbkRhdGEuZ2V0KCJQTElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBMSUQiKQogICAgaU9STlIgPSAobWkuaW5EYXRhLmdldCgiT1JOUiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOUiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5SIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpT1JFRiA9IChtaS5pbkRhdGEuZ2V0KCJPUkVGIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUkVGIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9SRUYiKQogICAgaVBMTk0gPSAobWkuaW5EYXRhLmdldCgiUExOTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUExOTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQTE5NIikKICAgIGlQTE5VID0gKG1pLmluRGF0YS5nZXQoIlBMTlUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBMTlUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUExOVSIpCiAgICBpVEVBTSA9IChtaS5pbkRhdGEuZ2V0KCJURUFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJURUFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRFQU0iKQogICAgaUxFQUcgPSAobWkuaW5EYXRhLmdldCgiTEVBRyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTEVBRyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMRUFHIikKICAgIGlHUkJZID0gKG1pLmluRGF0YS5nZXQoIkdSQlkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkdSQlkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiR1JCWSIpCiAgICBpQkdCWSA9IChtaS5pbkRhdGEuZ2V0KCJCR0JZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCR0JZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJHQlkiKQogICAgaUNVTk8gPSAobWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikKICAgIGlBRElEID0gKG1pLmluRGF0YS5nZXQoIkFESUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFESUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQURJRCIpCiAgICBpVURGMSA9IChtaS5pbkRhdGEuZ2V0KCJVREYxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjEiKQogICAgaVVERjIgPSAobWkuaW5EYXRhLmdldCgiVURGMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYyIikKICAgIGlVREYzID0gKG1pLmluRGF0YS5nZXQoIlVERjMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMyIpCiAgICBpVURGNCA9IChtaS5pbkRhdGEuZ2V0KCJVREY0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjQiKQogICAgaVVERjUgPSAobWkuaW5EYXRhLmdldCgiVURGNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY1IikKICAgIGlVREY2ID0gKG1pLmluRGF0YS5nZXQoIlVERjYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNiIpCiAgICAKCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpT1JEVCA9IChtaS5pbkRhdGEuZ2V0KCJPUkRUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUkRUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiT1JEVCIpIGFzIEludGVnZXIKIAogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KSB7CiAgICAgIHVwZGF0ZVJlY29yZCgpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIHZhbGlkYXRlSW5wdXQoKSB7CgogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIENsb3N1cmUgPCA/ID4gY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBpQ09OTykKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuIAogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICAKICAgIC8vVmFsaWRhdGUgRGl2aXNpb24KICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiRElWSSI6IGlESVZJLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLkRJVkkgPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERpdmlzaW9uICIgKyBpRElWSSkKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgfQogICAgfQoKICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzEwME1JIiwgIkdldEJhc2ljRGF0YSIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgaWYoIWlDVU5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBDdXN0b21lciBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJDVU5PIjogaUNVTk8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcDxTdHJpbmcsCiAgICAgICAgICBTdHJpbmc+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuQ1VOTyA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEN1c3RvbWVyIE51bWJlciAiICsgaUNVTk8pCiAgICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgICByZXR1cm4gCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjEwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZighaU9STlIudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBUZW1wb3JhcnkgT3JkZXIgTnVtYmVyCiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9YSEVBRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT0FDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9BT1JOTyIsIGlPUk5SKQoKICAgICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgICAgewogICAgICAgIG1pLmVycm9yKCJUZW1wb3JhcnkgT3JkZXIgTnVtYmVyIG5vdCBmb3VuZCAiK2lPUk5SKQogICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICByZXR1cm4gCiAgICAgIH0KICAgIH0KCiAgICBpZighaU9STk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAvL1ZhbGlkYXRlIE9yZGVyIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIk9STk8iOiBpT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwPFN0cmluZywKICAgICAgICAgIFN0cmluZz4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5PUk5PID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBpT1JOTykKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICAgIHJldHVybiAKICAgICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJPSVMxMDBNSSIsICJHZXRPcmRlckhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQogICAgCiAgICBpZighaUFESUQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAvL1ZhbGlkYXRlIEFkZHJlc3MgSUQKICAgICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT0NVU0FEIikuc2VsZWN0aW9uKCJPUEFESUQiKS5pbmRleCgiMTAiKS5idWlsZCgpCiAgICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICAgIGNvbnRhaW5lci5zZXQoIk9QQ09OTyIsIGlDT05PKQogICAgICBjb250YWluZXIuc2V0KCJPUENVTk8iLCBpQ1VOTykKICAgICAgY29udGFpbmVyLnNldCgiT1BBRFJUIiwgMSkKICAgICAgY29udGFpbmVyLnNldCgiT1BBRElEIiwgaUFESUQpCgogICAgICBpZiAoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgewogICAgICAgIG1pLmVycm9yKCJBZGRyZXNzIElEIE5vdCBGb3VuZCAiICsgaUFESUQpCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIAogICAgICB9CiAgICB9CiAgICAKICBpZihtaS5pbkRhdGEuZ2V0KCJPUkRUIikhPW51bGwmJiFtaS5pbkRhdGEuZ2V0KCJPUkRUIikudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBEYXRlCiAgICAgIFN0cmluZyBPUkRUID0gaU9SRFQrIiIgLy9Db252ZXJzdGlvbiB0byBTdHJpbmcKICAgICAgU3RyaW5nIHNvdXJjZUZvcm1hdCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCJnZXRGdWxsRm9ybWF0IixtaS5nZXREYXRlRm9ybWF0KCkpCiAgICAgIHZhbGlkSW5wdXQgPSB1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwiaXNEYXRlVmFsaWQiLE9SRFQudHJpbSgpLHNvdXJjZUZvcm1hdC50b1N0cmluZygpKQogICAgICBpZiAoIXZhbGlkSW5wdXQpCiAgICAgIHsKICAgICAgICAgIG1pLmVycm9yKCJPcmRlciBEYXRlIG5vdCBpbiAiK3NvdXJjZUZvcm1hdCsiIGZvcm1hdC4gUGxlYXNlIENoZWNrICIrT1JEVCkKICAgICAgICAgIHJldHVybiAKICAgICAgICB9ZWxzZQogICAgICAgIHsKICAgICAgICAgIGlmKCFzb3VyY2VGb3JtYXQudHJpbSgpLmVxdWFscygieXl5eU1NZGQiKSkKICAgICAgICAgIHsKICAgICAgICAgICAgT1JEVCA9IHV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCJjb252ZXJ0RGF0ZSIsc291cmNlRm9ybWF0LCJ5eXl5TU1kZCIsT1JEVC50cmltKCkpIC8vTWFpbnRhaW4gZGF0ZSBpbiBZTUQ4IGZvcm1hdCBpbiB0aGUgdGFibGUKICAgICAgICAgICAgaU9SRFQgPSBJbnRlZ2VyLnBhcnNlSW50KE9SRFQpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogIH0KCgogIC8qKgogICAqVXBkYXRlIHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCB1cGRhdGVSZWNvcmQoKSB7CiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRTVEgiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQoKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWFBMSUQiLCBpUExJRCkKICAgIGlmICghcXVlcnkucmVhZExvY2soY29udGFpbmVyLCB1cGRhdGVDYWxsQmFjaykpIHsKICAgICAgbWkuZXJyb3IoIlJlY29yZCBkb2VzIG5vdCBFeGlzdC4iKQogICAgICByZXR1cm4KICAgIH0KICB9CgogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2sgPSB7CiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICAgIENITk8gPSBsb2NrZWRSZXN1bHQuZ2V0KCJFWENITk8iKQogICAgICBpZiAoIWlPUk5SLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaU9STlIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9STlIiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5SIiwgaU9STlIpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaU9STk8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpT1JOTy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JOTyIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9STk8iLCBpT1JOTykKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpT1JFRi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlPUkVGLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUkVGIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JFRiIsIGlPUkVGKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlQTE5NLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVBMTk0udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFBMTk0iLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQTE5NIiwgaVBMTk0pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVBMTlUudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpUExOVS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUExOVSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFBMTlUiLCBpUExOVSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVEVBTS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlURUFNLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhURUFNIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVEVBTSIsIGlURUFNKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlMRUFHLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaUxFQUcudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExFQUciLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMRUFHIiwgaUxFQUcpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaUdSQlkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpR1JCWS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYR1JCWSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEdSQlkiLCBpR1JCWSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpQkdCWS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlCR0JZLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhCR0JZIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQkdCWSIsIGlCR0JZKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlDVU5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaUNVTk8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENVTk8iLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVU5PIiwgaUNVTk8pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaUFESUQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpQURJRC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQURJRCIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEFESUQiLCBpQURJRCkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGMS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREYxLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYxIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMSIsIGlVREYxKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREYyLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjIudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjIiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYyIiwgaVVERjIpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjMudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGMy50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMyIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjMiLCBpVURGMykKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGNC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREY0LnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY0IiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNCIsIGlVREY0KQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREY1LnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjUudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjUiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY1IiwgaVVERjUpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGNi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNiIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjYiLCBpVURGNikKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKG1pLmluRGF0YS5nZXQoIk9SRFQiKSE9bnVsbCYmIW1pLmluRGF0YS5nZXQoIk9SRFQiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUkRUIiwgaU9SRFQgYXMgSW50ZWdlcikKICAgICAgfSAKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTVRNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENITk8iLCBDSE5PKzEpCiAgICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKQogIH0KfQ=="}}}