{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"UpdPlayerHead":{"sourceUuid":"846c5b9a-89ef-4cc7-ba32-3ea56d6de037","name":"UpdPlayerHead","program":"EXT001MI","description":"Update Player Header Information","active":true,"multi":false,"modified":1681545420891,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":true,"type":"A"},{"name":"ORNR","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"OREF","description":"Our Reference","length":30,"mandatory":false,"type":"A"},{"name":"PLNM","description":"Player Name","length":60,"mandatory":false,"type":"A"},{"name":"PLNU","description":"Player Number","length":10,"mandatory":false,"type":"A"},{"name":"TEAM","description":"Team Name","length":40,"mandatory":false,"type":"A"},{"name":"LEAG","description":"League Name","length":40,"mandatory":false,"type":"A"},{"name":"GRBY","description":"Grouping Method","length":10,"mandatory":false,"type":"A"},{"name":"BGBY","description":"Packaging Group","length":10,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Customer Number","length":10,"mandatory":false,"type":"A"},{"name":"ADID","description":"Address Number","length":6,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order Date","length":8,"mandatory":false,"type":"N"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":15,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"846c5b9a-89ef-4cc7-ba32-3ea56d6de037":{"uuid":"846c5b9a-89ef-4cc7-ba32-3ea56d6de037","updated":1681730990951,"updatedBy":"M3CONSADMX","created":1680509040972,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"446FB66AD1C70E8D07EA48E8CE33A7A1554FBE8552214F49868E6474CB71049B","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFVwZGF0ZSByZWNvcmRzIHRvIEVYVFNUSCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDAwMU1JLlVwZFBsYXllckhlYWQKICogRGVzY3JpcHRpb246IFVwZGF0aW5nIHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgVXBkYXRpbmcgcmVjb3JkcyB0byBFWFRTVEggdGFibGUKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBVcGRQbGF5ZXJIZWFkIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBTdHJpbmcgaURJVkksIGlQTElELCBpT1JOUiwgaU9STk8sIGlPUkVGLCBpUExOTSwgaVBMTlUsIGlURUFNLCBpTEVBRywgaUdSQlksIGlCR0JZLCBpQ1VOTywgaUFESUQsIGlVREYxLCBpVURGMiwgaVVERjMsIGlVREY0LCBpVURGNSwgaVVERjYKICBwcml2YXRlIGludCBpQ09OTywgaU9SRFQsIENITk8KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUKICBwdWJsaWMgVXBkUGxheWVySGVhZChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSxNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpUExJRCA9IChtaS5pbkRhdGEuZ2V0KCJQTElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBMSUQiKQogICAgaU9STlIgPSAobWkuaW5EYXRhLmdldCgiT1JOUiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JOUiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJPUk5SIikKICAgIGlPUk5PID0gKG1pLmluRGF0YS5nZXQoIk9STk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpCiAgICBpT1JFRiA9IChtaS5pbkRhdGEuZ2V0KCJPUkVGIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUkVGIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9SRUYiKQogICAgaVBMTk0gPSAobWkuaW5EYXRhLmdldCgiUExOTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUExOTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQTE5NIikKICAgIGlQTE5VID0gKG1pLmluRGF0YS5nZXQoIlBMTlUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBMTlUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUExOVSIpCiAgICBpVEVBTSA9IChtaS5pbkRhdGEuZ2V0KCJURUFNIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJURUFNIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRFQU0iKQogICAgaUxFQUcgPSAobWkuaW5EYXRhLmdldCgiTEVBRyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiTEVBRyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJMRUFHIikKICAgIGlHUkJZID0gKG1pLmluRGF0YS5nZXQoIkdSQlkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkdSQlkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiR1JCWSIpCiAgICBpQkdCWSA9IChtaS5pbkRhdGEuZ2V0KCJCR0JZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJCR0JZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkJHQlkiKQogICAgaUNVTk8gPSAobWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikKICAgIGlBRElEID0gKG1pLmluRGF0YS5nZXQoIkFESUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkFESUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQURJRCIpCiAgICBpVURGMSA9IChtaS5pbkRhdGEuZ2V0KCJVREYxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjEiKQogICAgaVVERjIgPSAobWkuaW5EYXRhLmdldCgiVURGMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYyIikKICAgIGlVREYzID0gKG1pLmluRGF0YS5nZXQoIlVERjMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMyIpCiAgICBpVURGNCA9IChtaS5pbkRhdGEuZ2V0KCJVREY0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjQiKQogICAgaVVERjUgPSAobWkuaW5EYXRhLmdldCgiVURGNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY1IikKICAgIGlVREY2ID0gKG1pLmluRGF0YS5nZXQoIlVERjYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNiIpCgogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaU9SRFQgPSAobWkuaW5EYXRhLmdldCgiT1JEVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1JEVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIk9SRFQiKSBhcyBJbnRlZ2VyCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZih2YWxpZElucHV0KSB7CiAgICAgIHVwZGF0ZVJlY29yZCgpCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIFJlY29yZHMKICAgKiBAcGFyYW1zCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLkNPTk8gPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIGlmKCFpQ1VOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgQ3VzdG9tZXIgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiQ1VOTyI6IGlDVU5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXA8U3RyaW5nLAogICAgICAgICAgU3RyaW5nPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLkNVTk8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDdXN0b21lciBOdW1iZXIgIiArIGlDVU5PKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjEwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZighaU9STlIudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBUZW1wb3JhcnkgT3JkZXIgTnVtYmVyCiAgICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk9YSEVBRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT0FDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9BT1JOTyIsIGlPUk5SKQoKICAgICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgICAgewogICAgICAgIG1pLmVycm9yKCJUZW1wb3JhcnkgT3JkZXIgTnVtYmVyIG5vdCBmb3VuZCAiK2lPUk5SKQogICAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQoKICAgIGlmKCFpT1JOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgT3JkZXIgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiT1JOTyI6IGlPUk5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXA8U3RyaW5nLAogICAgICAgICAgU3RyaW5nPiByZXNwb25zZSAtPgogICAgICAgICAgaWYgKHJlc3BvbnNlLk9STk8gPT0gbnVsbCkgewogICAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBOdW1iZXIgIiArIGlPUk5PKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiT0lTMTAwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CiAgICAKICAgIGlmKCFpQURJRC50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIC8vVmFsaWRhdGUgQWRkcmVzcyBJRAogICAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPQ1VTQUQiKS5zZWxlY3Rpb24oIk9QQURJRCIpLmluZGV4KCIxMCIpLmJ1aWxkKCkKICAgICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgICAgY29udGFpbmVyLnNldCgiT1BDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIk9QQ1VOTyIsIGlDVU5PKQogICAgICBjb250YWluZXIuc2V0KCJPUEFEUlQiLCAxKQogICAgICBjb250YWluZXIuc2V0KCJPUEFESUQiLCBpQURJRCkKCiAgICAgIGlmICghcXVlcnkucmVhZChjb250YWluZXIpKSB7CiAgICAgICAgbWkuZXJyb3IoIkFkZHJlc3MgSUQgTm90IEZvdW5kICIgKyBpQURJRCkKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogIH0KCgogIC8qKgogICAqVXBkYXRlIHJlY29yZHMgdG8gRVhUU1RIIHRhYmxlCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdXBkYXRlUmVjb3JkKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU1RIIikuc2VsZWN0aW9uKCJFWENITk8iKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQoKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWFBMSUQiLCBpUExJRCkKICAgIGlmIChxdWVyeS5yZWFkKGNvbnRhaW5lcikpIHsKICAgICAgcXVlcnkucmVhZExvY2soY29udGFpbmVyLCB1cGRhdGVDYWxsQmFjaykKICAgIH0gZWxzZSB7CiAgICAgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgRXhpc3QuIikKICAgICAgcmV0dXJuCiAgICB9CiAgfQoKICBDbG9zdXJlIDwgPyA+IHVwZGF0ZUNhbGxCYWNrID0gewogICAgTG9ja2VkUmVzdWx0IGxvY2tlZFJlc3VsdCAtPgogICAgICBDSE5PID0gbG9ja2VkUmVzdWx0LmdldCgiRVhDSE5PIikKICAgICAgaWYgKCFpT1JOUi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlPUk5SLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5SIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JOUiIsIGlPUk5SKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlPUk5PLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaU9STk8udHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9STk8iLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhPUk5PIiwgaU9STk8pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaU9SRUYudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpT1JFRi50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JFRiIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWE9SRUYiLCBpT1JFRikKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpUExOTS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlQTE5NLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQTE5NIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYUExOTSIsIGlQTE5NKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlQTE5VLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVBMTlUudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFBMTlUiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhQTE5VIiwgaVBMTlUpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVRFQU0udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVEVBTS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVEVBTSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFRFQU0iLCBpVEVBTSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpTEVBRy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlMRUFHLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMRUFHIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYTEVBRyIsIGlMRUFHKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlHUkJZLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaUdSQlkudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEdSQlkiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhHUkJZIiwgaUdSQlkpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaUJHQlkudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpQkdCWS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQkdCWSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEJHQlkiLCBpQkdCWSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpQ1VOTy50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlDVU5PLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDVU5PIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ1VOTyIsIGlDVU5PKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlBRElELnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaUFESUQudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEFESUQiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBRElEIiwgaUFESUQpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjEudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGMS50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMSIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjEiLCBpVURGMSkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGMi50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREYyLnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYyIiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGMiIsIGlVREYyKQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREYzLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjMudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjMiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREYzIiwgaVVERjMpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghaVVERjQudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAgIGlmIChpVURGNC50cmltKCkuZXF1YWxzKCI/IikpIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNCIsICIiKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjQiLCBpVURGNCkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFpVURGNS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgICAgaWYgKGlVREY1LnRyaW0oKS5lcXVhbHMoIj8iKSkgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY1IiwgIiIpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVURGNSIsIGlVREY1KQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIWlVREY2LnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgICBpZiAoaVVERjYudHJpbSgpLmVxdWFscygiPyIpKSB7CiAgICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjYiLCAiIikKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhVREY2IiwgaVVERjYpCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpQ09OTyAhPSAwKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDT05PIiwgMCkKICAgICAgfQogICAgICBpZiAoaU9SRFQgIT0gMCkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JEVCIsIGlPUkRUKQogICAgICB9IGVsc2UgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYT1JEVCIsIDApCiAgICAgIH0KICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTURUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTVRNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKQogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWENITk8iLCBDSE5PKzEpCiAgICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKQogIH0KfQ=="}}}