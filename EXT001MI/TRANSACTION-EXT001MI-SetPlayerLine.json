{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"SetPlayerLine":{"sourceUuid":"aa8eeeae-a981-4684-90f1-5316a6f33c09","name":"SetPlayerLine","program":"EXT001MI","description":"Set Player Line Details","active":true,"multi":false,"modified":1682577689900,"modifiedBy":"M3CONSADMX","outputFields":[],"inputFields":[{"name":"CONO","description":"Company ","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"PLID","description":"Player ID","length":15,"mandatory":true,"type":"A"},{"name":"ORNR","description":"Temporary Order Number","length":10,"mandatory":true,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":false,"type":"A"},{"name":"PONR","description":"Order Line Number","length":5,"mandatory":true,"type":"N"},{"name":"POSX","description":"Line Suffix","length":2,"mandatory":false,"type":"N"},{"name":"KLOC","description":"Kit Location","length":10,"mandatory":false,"type":"A"},{"name":"ORQT","description":"Order Quantity","length":16,"mandatory":false,"type":"N"},{"name":"SNUM","description":"S Number","length":30,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"RORN","description":"Reference Order Number","length":10,"mandatory":false,"type":"A"},{"name":"RORL","description":"Reference Order Line","length":6,"mandatory":false,"type":"N"},{"name":"RORX","description":"Line Suffix","length":3,"mandatory":false,"type":"N"},{"name":"UDF1","description":"User-defined field 1","length":5,"mandatory":false,"type":"A"},{"name":"UDF2","description":"User-defined field 2","length":5,"mandatory":false,"type":"A"},{"name":"UDF3","description":"User-defined field 3","length":10,"mandatory":false,"type":"A"},{"name":"UDF4","description":"User-defined field 4","length":15,"mandatory":false,"type":"A"},{"name":"UDF5","description":"User-defined field 5","length":20,"mandatory":false,"type":"A"},{"name":"UDF6","description":"User-defined field 6","length":30,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"aa8eeeae-a981-4684-90f1-5316a6f33c09":{"uuid":"aa8eeeae-a981-4684-90f1-5316a6f33c09","updated":1683538553356,"updatedBy":"M3CONSADMX","created":1680774746887,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230216180900.6","language":"GROOVY","codeHash":"C24E0E52B6327D4652FA5D5D8E517D19CA8D8CEBF90AD5228B78171A39FFF7E7","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIFNldCByZWNvcmRzIHRvIEVYVFNUTCB0YWJsZS4KICoKICogTmFtZTogRVhUMDAxTUkuU2V0UGxheWVyTGluZQogKiBEZXNjcmlwdGlvbjogU2V0IHJlY29yZHMgdG8gRVhUU1RMIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwNDAzICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIFNldCByZWNvcmRzIHRvIEVYVFNUTCB0YWJsZSAqLwoKcHVibGljIGNsYXNzIFNldFBsYXllckxpbmUgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpRElWSSwgaVBMSUQsIGlLTE9DLCBpT1JOTywgaUlUTk8sIGlTTlVNLCBpV0hMTywgaVJPUk4sIGlVREYxLCBpVURGMiwgaVVERjMsIGlVREY0LCBpVURGNSwgaVVERjYsIGlPUk5SCiAgcHJpdmF0ZSBpbnQgaUNPTk8saURMSVgsaVBPTlIsaVBPU1gsaVJPUkwsaVJPUlgKICBwcml2YXRlIGRvdWJsZSBpT1JRVAogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZSxyZWNvcmRFeGlzdHMgPSBmYWxzZQoKICBwdWJsaWMgU2V0UGxheWVyTGluZShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSxNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpUExJRCA9IChtaS5pbkRhdGEuZ2V0KCJQTElEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQTElEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBMSUQiKQogICAgaUtMT0MgPSAobWkuaW5EYXRhLmdldCgiS0xPQyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiS0xPQyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJLTE9DIikKICAgIGlPUk5SID0gKG1pLmluRGF0YS5nZXQoIk9STlIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9STlIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOUiIpCiAgICBpT1JOTyA9IChtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKQogICAgaVBPTlIgPSAobWkuaW5EYXRhLmdldCgiUE9OUiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUE9OUiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlBPTlIiKSBhcyBJbnRlZ2VyCiAgICBpUE9TWCA9IChtaS5pbkRhdGEuZ2V0KCJQT1NYIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQT1NYIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUE9TWCIpIGFzIEludGVnZXIKICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVROTyIpCiAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUlFUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUlFUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiT1JRVCIpIGFzIGRvdWJsZQogICAgaVNOVU0gPSAobWkuaW5EYXRhLmdldCgiU05VTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU05VTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTTlVNIikKICAgIGlXSExPID0gKG1pLmluRGF0YS5nZXQoIldITE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hMTyIpCiAgICBpRExJWCA9IChtaS5pbkRhdGEuZ2V0KCJETElYIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRExJWCIpIGFzIEludGVnZXIKICAgIGlST1JOID0gKG1pLmluRGF0YS5nZXQoIlJPUk4iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJPUk4iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUk9STiIpCiAgICBpUk9STCA9IChtaS5pbkRhdGEuZ2V0KCJST1JMIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJST1JMIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUk9STCIpIGFzIEludGVnZXIKICAgIGlST1JYID0gKG1pLmluRGF0YS5nZXQoIlJPUlgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJPUlgiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJST1JYIikgYXMgSW50ZWdlcgogICAgaVVERjEgPSAobWkuaW5EYXRhLmdldCgiVURGMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREYxIikKICAgIGlVREYyID0gKG1pLmluRGF0YS5nZXQoIlVERjIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGMiIpCiAgICBpVURGMyA9IChtaS5pbkRhdGEuZ2V0KCJVREYzIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREYzIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjMiKQogICAgaVVERjQgPSAobWkuaW5EYXRhLmdldCgiVURGNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVURGNCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVREY0IikKICAgIGlVREY1ID0gKG1pLmluRGF0YS5nZXQoIlVERjUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlVERjUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiVURGNSIpCiAgICBpVURGNiA9IChtaS5pbkRhdGEuZ2V0KCJVREY2IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJVREY2IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVERjYiKQoKICAgIGlDT05PID0gKG1pLmluRGF0YS5nZXQoIkNPTk8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNPTk8iKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyIDogbWkuaW5EYXRhLmdldCgiQ09OTyIpIGFzIEludGVnZXIKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgY2hlY2tJZk9yZGVyRXhpc3RzKCkKICAgIGlmKHZhbGlkSW5wdXQmJiFyZWNvcmRFeGlzdHMpIHsKICAgICAgaW5zZXJ0UmVjb3JkKCkKICAgIH0KICB9CiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdmFsaWRhdGVJbnB1dCgpIHsKCiAgICAvL1ZhbGlkYXRlIENvbXBhbnkgTnVtYmVyCiAgICBkZWYgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBkZWYgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIENvbXBhbnkgTnVtYmVyICIgKyBpQ09OTykKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU5TMDk1TUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIC8vVmFsaWRhdGUgUGxheWVyIE51bWJlcgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRJVkkiOmlESVZJLnRvU3RyaW5nKCkudHJpbSgpLCJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuUExJRCA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBQbGF5ZXJJRCBOdW1iZXIgIiArIGlQTElEKyIgSGVhZGVyIHJlY29yZCBub3QgZm91bmQuICIpCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIkdldFBsYXllckhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgSXRlbSBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJJVE5PIjppSVROTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuSVROTyA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBJdGVtIE51bWJlciAiICsgaUlUTk8pCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzIwME1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgaWYoaURMSVghPTApCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRGVsaXZlcnkgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCJETElYIjppRExJWC50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICAgIGlmIChyZXNwb25zZS5ETElYID09IG51bGwpIHsKICAgICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGVsaXZlcnkgTnVtYmVyICIgKyBpRExJWCkKICAgICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1XUzQxME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQogICAgaWYoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiV0hMTyI6aVdITE8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgICBpZiAocmVzcG9uc2UuV0hMTyA9PSBudWxsKSB7CiAgICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFdhcmVob3VzZSBOdW1iZXIgIiArIGlXSExPKQogICAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KICAgIC8vVmFsaWRhdGUgVGVtcG9yYXJ5IE9yZGVyIE51bWJlcgogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT1hIRUFEIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIk9BQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiT0FPUk5PIiwgaU9STlIpCgogICAgaWYoIXF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgIHsKICAgICAgbWkuZXJyb3IoIlRlbXBvcmFyeSBPcmRlciBOdW1iZXIgbm90IGZvdW5kICIraU9STlIpCiAgICAgIHZhbGlkSW5wdXQ9ZmFsc2UKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgfQoKICAvKioKICAgKkNoZWNrIHJlY29yZHMgZXhpc3RzIGluIEVYVFNUTCB0YWJsZQogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIGNoZWNrSWZPcmRlckV4aXN0cygpCiAgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU1RMIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWFBMSUQiLCBpUExJRCkKICAgIGNvbnRhaW5lci5zZXQoIkVYT1JOUiIsIGlPUk5SKQogICAgY29udGFpbmVyLnNldCgiRVhQT05SIiwgaVBPTlIpCiAgICBjb250YWluZXIuc2V0KCJFWElUTk8iLCBpSVROTykKICAgIGlmKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkKICAgIHsKICAgICAgcmVjb3JkRXhpc3RzID0gdHJ1ZQogICAgICBkZWYgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksIkRJVkkiOmlESVZJLnRvU3RyaW5nKCkudHJpbSgpLAogICAgICAgICAgICAgICAgICAgICJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKSwiT1JOUiI6aU9STlIudG9TdHJpbmcoKS50cmltKCksIk9STk8iOmlPUk5PLnRvU3RyaW5nKCkudHJpbSgpLCJJVE5PIjppSVROTy50b1N0cmluZygpLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAiUE9OUiI6aVBPTlIudG9TdHJpbmcoKS50cmltKCksIktMT0MiOmlLTE9DLnRvU3RyaW5nKCkudHJpbSgpLCJQT1NYIjppUE9TWC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICwiT1JRVCI6aU9SUVQudG9TdHJpbmcoKS50cmltKCksIlNOVU0iOmlTTlVNLnRvU3RyaW5nKCkudHJpbSgpLCJXSExPIjppV0hMTy50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICwiRExJWCI6aURMSVgudG9TdHJpbmcoKS50cmltKCksIlJPUk4iOmlST1JOLnRvU3RyaW5nKCkudHJpbSgpLCJST1JMIjppUk9STC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICwiUk9SWCI6aVJPUlgudG9TdHJpbmcoKS50cmltKCksIlVERjEiOmlVREYxLnRvU3RyaW5nKCkudHJpbSgpLCJVREYyIjppVURGMi50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAgICwiVURGMyI6aVVERjMudG9TdHJpbmcoKS50cmltKCksIlVERjQiOmlVREY0LnRvU3RyaW5nKCkudHJpbSgpLCJVREY1IjppVURGNS50b1N0cmluZygpLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICAiVURGNiI6aVVERjYudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3JNZXNzYWdlIT1udWxsKQogICAgICAgICAgewogICAgICAgICAgICBtaS5lcnJvcigiRXJyb3Igd2hlbiB1cGRhdGluZzogIityZXNwb25zZS5lcnJvck1lc3NhZ2UpCiAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIkVYVDAwMU1JIiwgIlVwZFBsYXllckxpbmUiLCBwYXJhbXMsY2FsbGJhY2spCiAgICB9CiAgfQoKCgoKICAvKioKICAgKkluc2VydCByZWNvcmRzIHRvIEVYVFNUTCB0YWJsZQogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIGluc2VydFJlY29yZCgpIHsKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwiRElWSSI6aURJVkkudG9TdHJpbmcoKS50cmltKCksCiAgICAgICAgICAgICAgICAgICJQTElEIjppUExJRC50b1N0cmluZygpLnRyaW0oKSwiT1JOUiI6aU9STlIudG9TdHJpbmcoKS50cmltKCksIk9STk8iOmlPUk5PLnRvU3RyaW5nKCkudHJpbSgpLCJJVE5PIjppSVROTy50b1N0cmluZygpLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgIlBPTlIiOmlQT05SLnRvU3RyaW5nKCkudHJpbSgpLCJLTE9DIjppS0xPQy50b1N0cmluZygpLnRyaW0oKSwiUE9TWCI6aVBPU1gudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgLCJPUlFUIjppT1JRVC50b1N0cmluZygpLnRyaW0oKSwiU05VTSI6aVNOVU0udG9TdHJpbmcoKS50cmltKCksIldITE8iOmlXSExPLnRvU3RyaW5nKCkudHJpbSgpCiAgICAgICAgICAgICAgICAgICwiRExJWCI6aURMSVgudG9TdHJpbmcoKS50cmltKCksIlJPUk4iOmlST1JOLnRvU3RyaW5nKCkudHJpbSgpLCJST1JMIjppUk9STC50b1N0cmluZygpLnRyaW0oKQogICAgICAgICAgICAgICAgICAsIlJPUlgiOmlST1JYLnRvU3RyaW5nKCkudHJpbSgpLCJVREYxIjppVURGMS50b1N0cmluZygpLnRyaW0oKSwiVURGMiI6aVVERjIudG9TdHJpbmcoKS50cmltKCkKICAgICAgICAgICAgICAgICAgLCJVREYzIjppVURGMy50b1N0cmluZygpLnRyaW0oKSwiVURGNCI6aVVERjQudG9TdHJpbmcoKS50cmltKCksIlVERjUiOmlVREY1LnRvU3RyaW5nKCkudHJpbSgpLAogICAgICAgICAgICAgICAgICAiVURGNiI6aVVERjYudG9TdHJpbmcoKS50cmltKCldCiAgICBkZWYgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmKHJlc3BvbnNlLmVycm9yTWVzc2FnZSE9bnVsbCkKICAgICAgICB7CiAgICAgICAgICBtaS5lcnJvcigiRXJyb3Igd2hlbiBhZGRpbmc6ICIrcmVzcG9uc2UuZXJyb3JNZXNzYWdlKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiRVhUMDAxTUkiLCAiQWRkUGxheWVyTGluZSIsIHBhcmFtcyxjYWxsYmFjaykKICB9Cgp9Cg=="}}}