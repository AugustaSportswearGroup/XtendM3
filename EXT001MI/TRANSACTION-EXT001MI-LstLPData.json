{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"LstLPData":{"sourceUuid":"ea2d58cd-6a90-41fe-a04b-c84cbe0083d4","name":"LstLPData","program":"EXT001MI","description":"LstLPData","active":true,"multi":true,"modified":1705996303412,"modifiedBy":"ABHISHEK","outputFields":[{"name":"ORNO","description":"Order Number","length":10,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"PLID","description":"Player ID","length":15,"mandatory":false,"type":"A"},{"name":"PLNM","description":"Player Name","length":60,"mandatory":false,"type":"A"},{"name":"PLNU","description":"Player Number","length":10,"mandatory":false,"type":"A"},{"name":"TEAM","description":"Team Name","length":40,"mandatory":false,"type":"A"},{"name":"LEAG","description":"League Name","length":40,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"WHSL","description":"Location","length":10,"mandatory":false,"type":"A"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":false,"type":"A"},{"name":"ORQT","description":"Ordered Quantity","length":15,"mandatory":false,"type":"N"},{"name":"RIDL","description":"Order Line","length":6,"mandatory":false,"type":"N"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"ea2d58cd-6a90-41fe-a04b-c84cbe0083d4":{"uuid":"ea2d58cd-6a90-41fe-a04b-c84cbe0083d4","updated":1707297709344,"updatedBy":"ABHISHEK","created":1674638484665,"createdBy":"M3CONSADMX","apiVersion":"0.21","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"C6A2ED8BA79A45A86BE42F03976F56AEFC9EECD34E2EA7A09D10414FDC423F18","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIGxpc3QgZGF0YSBmb3IgbGlnaHRuaW5nIHBpY2sgc3lzdGVtLiBMaWdodG5pbmcgUGljayBpcyBhIHBpY2stdG8tbGlnaHQgc3lzdGVtIHVzZWQgZm9yIAogKiBwaWNraW5nIG9yZGVyZWQgaXRlbXMgZnJvbSBzaGVsdmVzIGFuZCBwYWNraW5nIHRoZW0gYXMgb25lIGRlbGl2ZXJ5IGZvciBhbiBvcmRlci4KICoKICogTmFtZTogRVhUMDAxTUkuTHN0TFBEYXRhCiAqIERlc2NyaXB0aW9uOiBMaXN0IGRldGFpbHMgb2YgaXRlbXMgdG8gYmUgcGlja2VkLgogKiBEYXRlICAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICogMjAyMzAxMzAgICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgICAgICBJbml0aWFsIGRldmVsb3BtZW50IGZyb20gTUFLIEFHUzAwMU1JLkxzdExQRGF0YQogKgogKi8KaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwCgpwdWJsaWMgY2xhc3MgTHN0TFBEYXRhIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHVibGljIExzdExQRGF0YShNSUFQSSBtaSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CgogIC8vR2xvYmFsIFZhcmlhYmxlcwogIHByaXZhdGUgaW50IGlDT05PLCBtYXhQYWdlU2l6ZSA9IDEwMDAwCiAgcHJpdmF0ZSBTdHJpbmcgaURJVkksIHRlbXBPUk5PID0gIiIsIHVzZXJEZWZpbmVkRmllbGQzID0gIiIKICBwcml2YXRlIGxvbmcgaURMSVgKCiAgSGFzaE1hcCA8IFN0cmluZywgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4+IG9yZGVySGVhZGVyID0gbmV3IEhhc2hNYXAgPCA+ICgpCiAgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gb3JkZXJEZXRhaWxzID0gbmV3IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+ICgpCiAgSGFzaE1hcCA8IFN0cmluZywgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4+IGFsbG9jYXRpb25IZWFkZXIgPSBuZXcgSGFzaE1hcCA8ID4gKCkKICBIYXNoTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBhbGxvY2F0aW9uRGVhdGlscyA9IG5ldyBIYXNoTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiAoKQoKICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIDogbWkuaW5EYXRhLmdldCgiRElWSSIpCiAgICBpRExJWCA9IChtaS5pbkRhdGEuZ2V0KCJETElYIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRExJWCIpIGFzIExvbmcKCiAgICBib29sZWFuIHZhbGlkSW5wdXQgPSB2YWxpZGF0ZUlucHV0KGlDT05PLCBpRExJWCkgLy9DaGVjayBpZiBpbnB1dHMgYXJlIHZhbGlkLgogICAgaWYgKHZhbGlkSW5wdXQpIHsKICAgICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUhESVNMIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJVUklUTk8iLCAiVVJSSURMIiwgIlVSUklETiIpLmJ1aWxkKCkgLy9HZXQgZGVsaXZlcnkgcmVsYXRlZCBpbmZvcm1hdGlvbgogICAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgICBjb250YWluZXIuc2V0KCJVUkNPTk8iLCBpQ09OTyBhcyBJbnRlZ2VyKQogICAgICBjb250YWluZXIuc2V0KCJVUkRMSVgiLCBpRExJWCBhcyBMb25nKQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMiwgbWF4UGFnZVNpemUsIGRlbGl2ZXJ5TGluZXNEZXRhaWxzKQogICAgICBzZXRPdXRwdXQoKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuCiAgICB9CiAgfQogIENsb3N1cmUgPCA/ID4gZGVsaXZlcnlMaW5lc0RldGFpbHMgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgIFN0cmluZyBSSUROID0gY29udGFpbmVyLmdldCgiVVJSSUROIikKICAgIFN0cmluZyBSSURMID0gY29udGFpbmVyLmdldCgiVVJSSURMIikKICAgIFN0cmluZyBJVE5PID0gY29udGFpbmVyLmdldCgiVVJJVE5PIikKICAgIFN0cmluZyBPUk5SID0gZ2V0VGVtcG9yYXJ5T3JkZXJOdW1iZXIoUklETikKICAgIGlmIChPUk5SICE9IG51bGwgJiYgIU9STlIudHJpbSgpLmlzRW1wdHkoKSkgewogICAgICBnZXRQbGF5ZXJMaW5lRGV0YWlscyhPUk5SLCBSSURMLCBJVE5PKQogICAgfSBlbHNlIHsKICAgICAgbWkuZXJyb3IoIlRlbXBvcmFyeSBPcmRlciBub3QgZm91bmQgZm9yIHRoZSBvcmRlciAiICsgUklETikKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgfQoKICAvKioKICAgKlZhbGlkYXRlIGlucHV0cwogICAqIEBwYXJhbXMgaW50IENPTk8gLCBsb25nIERMSVgKICAgKiBAcmV0dXJuIGJvb2xlYW4KICAgKi8KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRhdGVJbnB1dChpbnQgaUNPTk8sIGxvbmcgaURMSVgpIHsKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBEaXZpc2lvbgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJESVZJIjogaURJVkkudG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuRElWSSA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgRGl2aXNpb24gIiArIGlESVZJKQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CgogICAgbWlDYWxsZXIuY2FsbCgiTU5TMTAwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAvL1ZhbGlkYXRlIERlbGl2ZXJ5IE51bWJlcgogICAgaWYgKGlETElYICE9IDApIHsKICAgICAgTWFwPFN0cmluZywgU3RyaW5nPiBwYXJhbXNETElYID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJETElYIjogaURMSVgudG9TdHJpbmcoKS50cmltKCldCiAgICAgIENsb3N1cmU8Pz4gY2FsbGJhY2tETElYID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5ETElYID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIGRlbGl2ZXJ5IE51bWJlciAiICsgaURMSVgpCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtc0RMSVgsIGNhbGxiYWNrRExJWCkKICAgIH0KCiAgICByZXR1cm4gdHJ1ZQoKICB9CgogIC8qKgogICAqR2V0IFRlbXBvcmFyeSBPcmRlciBOdW1iZXIgZm9yIHRoZSBmaW5hbCBPcmRlciBOdW1iZXIKICAgKiBAcGFyYW1zIFN0cmluZyBSSUROCiAgICogQHJldHVybiBTdHJpbmcKICAgKi8KICBwcml2YXRlIFN0cmluZyBnZXRUZW1wb3JhcnlPcmRlck51bWJlcihTdHJpbmcgUklETikgewogICAgU3RyaW5nIE9STk8gPSAiIgogICAgTWFwPFN0cmluZywgU3RyaW5nPiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIk9STk8iOiBSSUROLnRvU3RyaW5nKCkudHJpbSgpXQogICAgQ2xvc3VyZTw/PiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuT1JOTyAhPSBudWxsKSB7CiAgICAgICAgT1JOTyA9IHJlc3BvbnNlLk9STk8KICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiT0lTMjc1TUkiLCAiR2V0VG1wT3JkZXJTdGF0IiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIHJldHVybiBPUk5PCiAgfQoKICAvKioKICAgKiBHZXQgUGxheWVyIExpbmUgRGV0YWlscwogICAqIEBwYXJhbXMgU3RyaW5nIE9STlIgLCBTdHJpbmcgUklETCwgU3RyaW5nIElUTk8KICAgKiBAcmV0dXJuIHZvaWQKICAgKi8KICBwcml2YXRlIHZvaWQgZ2V0UGxheWVyTGluZURldGFpbHMoU3RyaW5nIE9STlIsIFN0cmluZyBSSURMLCBTdHJpbmcgSVROTykgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU1RMIikuaW5kZXgoIjMwIikuc2VsZWN0aW9uKCJFWFBMSUQiLCAiRVhXSExPIiwgIkVYVURGMyIsICJFWE9SUVQiLCAiRVhPUk5PIiwgIkVYUE9OUiIsICJFWElUTk8iLCAiRVhPUk5SIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWE9STlIiLCBPUk5SKQogICAgY29udGFpbmVyLnNldCgiRVhQT05SIiwgUklETCBhcyBJbnRlZ2VyKQogICAgY29udGFpbmVyLnNldCgiRVhQT1NYIiwgMCkKICAgIGNvbnRhaW5lci5zZXQoIkVYSVROTyIsIElUTk8pCgogICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDYsIGdldFBsYXllckxpbmVEZXRhaWxzUmVzdWx0KQogIH0KICBDbG9zdXJlIDwgPyA+IGdldFBsYXllckxpbmVEZXRhaWxzUmVzdWx0ID0gewogICAgREJDb250YWluZXIgY29udGFpbmVyUmVzdWx0IC0+CiAgICBTdHJpbmcgd2FyZWhvdXNlID0gY29udGFpbmVyUmVzdWx0LmdldCgiRVhXSExPIikKICAgIFN0cmluZyBwbGF5ZXJJRCA9IGNvbnRhaW5lclJlc3VsdC5nZXQoIkVYUExJRCIpCiAgICBTdHJpbmcgdXNlckRlZmluZWRGaWVsZDMgPSBjb250YWluZXJSZXN1bHQuZ2V0KCJFWFVERjMiKQogICAgU3RyaW5nIG9yZGVyUXVhbnRpdHkgPSBjb250YWluZXJSZXN1bHQuZ2V0KCJFWE9SUVQiKQogICAgU3RyaW5nIG9yZGVyTnVtYmVyID0gY29udGFpbmVyUmVzdWx0LmdldCgiRVhPUk5PIikKICAgIFN0cmluZyB0ZW1wb3JhcnlPcmRlck51bWJlciA9IGNvbnRhaW5lclJlc3VsdC5nZXQoIkVYT1JOUiIpCiAgICBTdHJpbmcgbGluZU51bWJlciA9IGNvbnRhaW5lclJlc3VsdC5nZXQoIkVYUE9OUiIpCiAgICBTdHJpbmcgaXRlbU51bWJlciA9IGNvbnRhaW5lclJlc3VsdC5nZXQoIkVYSVROTyIpCiAgICBTdHJpbmcgSGVhZGVyID0gcGxheWVySUQgKyAiLCIgKyB0ZW1wb3JhcnlPcmRlck51bWJlci50cmltKCkgKyAiLCIgKyBsaW5lTnVtYmVyLnRyaW0oKQogICAgb3JkZXJEZXRhaWxzID0gbmV3IEhhc2hNYXAgPCBTdHJpbmcsCiAgICBTdHJpbmcgPiAoKQogICAgaWYgKG9yZGVySGVhZGVyLmNvbnRhaW5zS2V5KEhlYWRlcikpIHsKICAgICAgb3JkZXJEZXRhaWxzID0gb3JkZXJIZWFkZXIuZ2V0KEhlYWRlcikKICAgICAgb3JkZXJIZWFkZXIucmVtb3ZlKEhlYWRlcikKICAgIH0KCiAgICBvcmRlckRldGFpbHMucHV0KCJXSExPIiwgd2FyZWhvdXNlKQogICAgb3JkZXJEZXRhaWxzLnB1dCgiUExJRCIsIHBsYXllcklEKQogICAgb3JkZXJEZXRhaWxzLnB1dCgiVURGMyIsICIiKQogICAgb3JkZXJEZXRhaWxzLnB1dCgiT1JRVCIsIG9yZGVyUXVhbnRpdHkpCiAgICBvcmRlckRldGFpbHMucHV0KCJJVE5PIiwgaXRlbU51bWJlcikKICAgIG9yZGVySGVhZGVyLnB1dChIZWFkZXIsIG9yZGVyRGV0YWlscykKCiAgICBnZXRQbGF5ZXJIZWFkZXJEZXRhaWxzKHBsYXllcklELCB0ZW1wb3JhcnlPcmRlck51bWJlciwgbGluZU51bWJlcikKICAgIHVwZGF0ZVBsYXllckxpbmVEZWxpdmVyeURldGFpbHMocGxheWVySUQsIGxpbmVOdW1iZXIsIGl0ZW1OdW1iZXIsIHRlbXBvcmFyeU9yZGVyTnVtYmVyKQogICAgdXBkYXRlVXNlckRlZmluZWRGaWVsZERldGFpbHMocGxheWVySUQsIHRlbXBvcmFyeU9yZGVyTnVtYmVyLCBsaW5lTnVtYmVyLCBpdGVtTnVtYmVyLCAiIikKICAgIGdldEFsbG9jYXRpb25EZXRhaWxzKHBsYXllcklELCBvcmRlck51bWJlciwgbGluZU51bWJlciwgaXRlbU51bWJlciwgdGVtcG9yYXJ5T3JkZXJOdW1iZXIpCiAgfQoKICAvKioKICAgKkdldCBoZWFkZXIgbGV2ZWwgZGV0YWlscyBvZiB0aGUgcGxheWVyIGZyb20gRVhUU1RIIHRhYmxlLgogICAqIEBwYXJhbXMgU3RyaW5nIFBMSUQsU3RyaW5nIE9STlIsIFN0cmluZyBSSURMCiAgICogQHJldHVybgogICAqLwogIHByaXZhdGUgdm9pZCBnZXRQbGF5ZXJIZWFkZXJEZXRhaWxzKFN0cmluZyBQTElELCBTdHJpbmcgT1JOUiwgU3RyaW5nIFJJREwpIHsKICAgIFN0cmluZyBIZWFkZXIgPSBQTElEICsgIiwiICsgT1JOUiArICIsIiArIFJJREwKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFNUSCIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiRVhQTE5NIiwgIkVYUExOVSIsICJFWFRFQU0iLCAiRVhMRUFHIiwgIkVYT1JOTyIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgIGNvbnRhaW5lci5zZXQoIkVYRElWSSIsIGlESVZJKQogICAgY29udGFpbmVyLnNldCgiRVhQTElEIiwgUExJRCkKICAgIGlmIChxdWVyeS5yZWFkKGNvbnRhaW5lcikpIHsKICAgICAgb3JkZXJEZXRhaWxzID0gbmV3IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+ICgpCiAgICAgIGlmIChvcmRlckhlYWRlci5jb250YWluc0tleShIZWFkZXIpKSB7CiAgICAgICAgb3JkZXJEZXRhaWxzID0gb3JkZXJIZWFkZXIuZ2V0KEhlYWRlcikKICAgICAgICBvcmRlckhlYWRlci5yZW1vdmUoSGVhZGVyKQogICAgICB9CiAgICAgIFN0cmluZyBwbGF5ZXJOdW1iZXIgPSBjb250YWluZXIuZ2V0KCJFWFBMTlUiKQogICAgICBTdHJpbmcgdGVhbSA9IGNvbnRhaW5lci5nZXQoIkVYVEVBTSIpCiAgICAgIFN0cmluZyBsZWFndWUgPSBjb250YWluZXIuZ2V0KCJFWExFQUciKQogICAgICBTdHJpbmcgcGxheWVyTmFtZSA9IGNvbnRhaW5lci5nZXQoIkVYUExOTSIpCiAgICAgIFN0cmluZyBvcmRlck51bWJlciA9IGNvbnRhaW5lci5nZXQoIkVYT1JOTyIpCiAgICAgIG9yZGVyRGV0YWlscy5wdXQoIlBMTlUiLCBwbGF5ZXJOdW1iZXIpCiAgICAgIG9yZGVyRGV0YWlscy5wdXQoIlRFQU0iLCB0ZWFtKQogICAgICBvcmRlckRldGFpbHMucHV0KCJMRUFHIiwgbGVhZ3VlKQogICAgICBvcmRlckRldGFpbHMucHV0KCJQTE5NIiwgcGxheWVyTmFtZSkKICAgICAgb3JkZXJEZXRhaWxzLnB1dCgiT1JOTyIsIG9yZGVyTnVtYmVyKQogICAgICBvcmRlckhlYWRlci5wdXQoSGVhZGVyLCBvcmRlckRldGFpbHMpCiAgICB9CgogIH0KCiAgLyoqCiAgICpVcGRhdGUgRVhUU1RMIHRhYmxlIHdpdGggZGVsaXZlcnkgSW5mb3JtYXRpb24KICAgKiBAcGFyYW1zICBTdHJpbmcgUExJRCwgIFN0cmluZyBSSURMLCBTdHJpbmcgSVROTyxTdHJpbmcgT1JOUgogICAqIEByZXR1cm4KICAgKi8KICBwcml2YXRlIHZvaWQgdXBkYXRlUGxheWVyTGluZURlbGl2ZXJ5RGV0YWlscyhTdHJpbmcgUExJRCwgU3RyaW5nIFJJREwsIFN0cmluZyBJVE5PLCBTdHJpbmcgT1JOUikgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU1RMIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWFBMSUQiLCBQTElEKQogICAgY29udGFpbmVyLnNldCgiRVhPUk5SIiwgT1JOUikKICAgIGNvbnRhaW5lci5zZXQoIkVYUE9OUiIsIFJJREwgYXMgSW50ZWdlcikKICAgIGNvbnRhaW5lci5zZXQoIkVYSVROTyIsIElUTk8pCiAgICBxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZURlbGl2ZXJ5SW5mb3JtYXRpb24pCiAgfQoKICBDbG9zdXJlIDwgPyA+IHVwZGF0ZURlbGl2ZXJ5SW5mb3JtYXRpb24gPSB7CiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWERMSVgiLCBpRExJWCBhcyBMb25nKQogICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpCiAgfQoKICAvKioKICAgKlVwZGF0ZSBFWFRTVEwgdGFibGUgd2l0aCBVREYzIGZpZWxkCiAgICogQHBhcmFtcyBTdHJpbmcgUExJRCAsIFN0cmluZyBPUk5PLCBTdHJpbmcgUE9OUiwgU3RyaW5nIElUTk8sIFN0cmluZyBVREYzCiAgICogQHJldHVybgogICAqLwogIHByaXZhdGUgdm9pZCB1cGRhdGVVc2VyRGVmaW5lZEZpZWxkRGV0YWlscyhTdHJpbmcgUExJRCwgU3RyaW5nIE9STlIsIFN0cmluZyBQT05SLCBTdHJpbmcgSVROTywgU3RyaW5nIFVERjMpIHsKICAgIHVzZXJEZWZpbmVkRmllbGQzID0gVURGMwogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU1RMIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgY29udGFpbmVyLnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBjb250YWluZXIuc2V0KCJFWFBMSUQiLCBQTElEKQogICAgY29udGFpbmVyLnNldCgiRVhPUk5SIiwgT1JOUikKICAgIGNvbnRhaW5lci5zZXQoIkVYUE9OUiIsIFBPTlIgYXMgSW50ZWdlcikKICAgIGNvbnRhaW5lci5zZXQoIkVYSVROTyIsIElUTk8pCiAgICBxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZUNhbGxCYWNrKQoKICB9CgogIENsb3N1cmUgPCA/ID4gdXBkYXRlQ2FsbEJhY2sgPSB7CiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFVERjMiLCB1c2VyRGVmaW5lZEZpZWxkMykKICAgIGxvY2tlZFJlc3VsdC51cGRhdGUoKQogIH0KCiAgLyoqCiAgICogR2V0IEFsbG9jYXRpb24gRGV0YWlscyBmcm9tIE1JVEFMTyB0YWJsZQogICAqIEBwYXJhbXMgU3RyaW5nIFBMSUQsU3RyaW5nIFJJRE4gLCBpbnQgUklETCxTdHJpbmcgSVROTywgU3RyaW5nIE9STlIKICAgKiBAcmV0dXJuCiAgICovCiAgcHJpdmF0ZSB2b2lkIGdldEFsbG9jYXRpb25EZXRhaWxzKFN0cmluZyBQTElELCBTdHJpbmcgUklETiwgU3RyaW5nIFJJREwsIFN0cmluZyBJVE5PLCBTdHJpbmcgT1JOUikgewogICAgU3RyaW5nIFdITE8gPSAiIgogICAgU3RyaW5nIEhlYWRlciA9IFBMSUQgKyAiLCIgKyBPUk5SICsgIiwiICsgUklETAogICAgb3JkZXJEZXRhaWxzID0gbmV3IEhhc2hNYXAgPCA+ICgpCiAgICBpZiAob3JkZXJIZWFkZXIuY29udGFpbnNLZXkoSGVhZGVyKSkgewogICAgICBvcmRlckRldGFpbHMgPSBvcmRlckhlYWRlci5nZXQoSGVhZGVyKQogICAgICBXSExPID0gb3JkZXJEZXRhaWxzLmdldCgiV0hMTyIpCiAgICB9CgogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUQUxPIikuaW5kZXgoIjcwIikuc2VsZWN0aW9uKCJNUVdIU0wiLCAiTVFBTFFUIiwgIk1RUklETiIsICJNUVJJREwiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiTVFDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJNUVdITE8iLCBXSExPKQogICAgY29udGFpbmVyLnNldCgiTVFJVE5PIiwgSVROTykKICAgIGNvbnRhaW5lci5zZXQoIk1RVFRZUCIsIDMxKQogICAgY29udGFpbmVyLnNldCgiTVFSSUROIiwgUklETikKICAgIGNvbnRhaW5lci5zZXQoIk1RUklETCIsIFJJREwgYXMgSW50ZWdlcikKCiAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgNiwgZ2V0QWxsb2NhdGlvbkRldGFpbHMpCiAgfQoKICBDbG9zdXJlIDwgPyA+IGdldEFsbG9jYXRpb25EZXRhaWxzID0gewoKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciAtPgogICAgU3RyaW5nIFdIU0wgPSBjb250YWluZXIuZ2V0KCJNUVdIU0wiKQogICAgU3RyaW5nIEFMUVQgPSBjb250YWluZXIuZ2V0KCJNUUFMUVQiKQogICAgU3RyaW5nIFJJRE4gPSBjb250YWluZXIuZ2V0KCJNUVJJRE4iKQogICAgU3RyaW5nIFJJREwgPSBjb250YWluZXIuZ2V0KCJNUVJJREwiKQogICAgU3RyaW5nIE9STlIgPSBnZXRUZW1wb3JhcnlPcmRlck51bWJlcihSSUROKQogICAgU3RyaW5nIEhlYWRlciA9IE9STlIudHJpbSgpICsgIiwiICsgUklETC50cmltKCkKICAgIGFsbG9jYXRpb25EZWF0aWxzID0gbmV3IEhhc2hNYXAgPCA+ICgpCiAgICBpZiAoYWxsb2NhdGlvbkhlYWRlci5jb250YWluc0tleShIZWFkZXIpKSB7CiAgICAgIGFsbG9jYXRpb25EZWF0aWxzID0gYWxsb2NhdGlvbkhlYWRlci5nZXQoSGVhZGVyKQogICAgICBhbGxvY2F0aW9uSGVhZGVyLnJlbW92ZShIZWFkZXIpCiAgICB9CgogICAgYWxsb2NhdGlvbkRlYXRpbHMucHV0KCJXSFNMIiwgV0hTTCkKICAgIGFsbG9jYXRpb25EZWF0aWxzLnB1dCgiQUxRVCIsIEFMUVQpCiAgICBhbGxvY2F0aW9uSGVhZGVyLnB1dChIZWFkZXIsIGFsbG9jYXRpb25EZWF0aWxzKQogIH0KCiAgLyoqCiAgICpTZXQgQVBJIE91dHB1dAogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHJpdmF0ZSB2b2lkIHNldE91dHB1dCgpIHsKICAgIGZvciAoU3RyaW5nIGtleTogb3JkZXJIZWFkZXIua2V5U2V0KCkpIHsKICAgICAgZG91YmxlIHF1YW50aXR5ID0gMAogICAgICBTdHJpbmcgUExJRCA9IGtleS5zcGxpdCgiLCIpWzBdCiAgICAgIFN0cmluZyBSSUROID0ga2V5LnNwbGl0KCIsIilbMV0KICAgICAgU3RyaW5nIFJJREwgPSBrZXkuc3BsaXQoIiwiKVsyXQogICAgICBvcmRlckRldGFpbHMgPSBvcmRlckhlYWRlci5nZXQoa2V5KQogICAgICBTdHJpbmcgSVROTyA9IG9yZGVyRGV0YWlscy5nZXQoIklUTk8iKQogICAgICBTdHJpbmcgV0hMTyA9IG9yZGVyRGV0YWlscy5nZXQoIldITE8iKQogICAgICBTdHJpbmcgVURGMyA9IG9yZGVyRGV0YWlscy5nZXQoIlVERjMiKQogICAgICBTdHJpbmcgT1JRVCA9IG9yZGVyRGV0YWlscy5nZXQoIk9SUVQiKQogICAgICBTdHJpbmcgUExOTSA9IG9yZGVyRGV0YWlscy5nZXQoIlBMTk0iKQogICAgICBTdHJpbmcgUExOVSA9IG9yZGVyRGV0YWlscy5nZXQoIlBMTlUiKQogICAgICBTdHJpbmcgVEVBTSA9IG9yZGVyRGV0YWlscy5nZXQoIlRFQU0iKQogICAgICBTdHJpbmcgTEVBRyA9IG9yZGVyRGV0YWlscy5nZXQoIkxFQUciKQogICAgICBTdHJpbmcgT1JOTyA9IG9yZGVyRGV0YWlscy5nZXQoIk9STk8iKQogICAgICBTdHJpbmcgV0hTTCA9ICIiCiAgICAgIFN0cmluZyBBTFFUID0gIjAiCgogICAgICBhbGxvY2F0aW9uRGVhdGlscyA9IGFsbG9jYXRpb25IZWFkZXIuZ2V0KFJJRE4udHJpbSgpICsgIiwiICsgUklETC50cmltKCkpCiAgICAgIGlmIChhbGxvY2F0aW9uRGVhdGlscyAhPSBudWxsKSB7CiAgICAgICAgV0hTTCA9IGFsbG9jYXRpb25EZWF0aWxzLmdldCgiV0hTTCIpCiAgICAgICAgQUxRVCA9IGFsbG9jYXRpb25EZWF0aWxzLmdldCgiQUxRVCIpCiAgICAgIH0KICAgICAgaWYgKFVERjMgPT0gbnVsbCkgVURGMyA9ICIiCiAgICAgIGlmIChBTFFUID09IG51bGwgfHwgQUxRVC50cmltKCkuaXNFbXB0eSgpKSBBTFFUID0gIjAiCiAgICAgIGlmIChPUlFUID09IG51bGwgfHwgT1JRVC50cmltKCkuaXNFbXB0eSgpKSBPUlFUID0gIjAiCiAgICAgIG1pLm91dERhdGEucHV0KCJPUk5PIiwgT1JOTykKICAgICAgbWkub3V0RGF0YS5wdXQoIlJJREwiLCBSSURMKQogICAgICBtaS5vdXREYXRhLnB1dCgiV0hTTCIsIFdIU0wpCiAgICAgIG1pLm91dERhdGEucHV0KCJJVE5PIiwgSVROTykKICAgICAgbWkub3V0RGF0YS5wdXQoIldITE8iLCBXSExPKQogICAgICBtaS5vdXREYXRhLnB1dCgiRExJWCIsIGlETElYIGFzIFN0cmluZykKCiAgICAgIGRvdWJsZSBkb3VibGVBTFFUID0gRG91YmxlLnBhcnNlRG91YmxlKEFMUVQpCiAgICAgIGRvdWJsZSBkb3VibGVPUlFUID0gRG91YmxlLnBhcnNlRG91YmxlKE9SUVQpCiAgICAgIGlmIChxdWFudGl0eSA8PSBkb3VibGVBTFFUKSB7CiAgICAgICAgbWkub3V0RGF0YS5wdXQoIk9SUVQiLCBPUlFUKQogICAgICAgIGlmIChVREYzLnRyaW0oKS5pc0VtcHR5KCkgJiYgcXVhbnRpdHkgPCBkb3VibGVBTFFUKSB7CiAgICAgICAgICBxdWFudGl0eSA9IHF1YW50aXR5ICsgZG91YmxlT1JRVAogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlBMSUQiLCBQTElEKQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlBMTk0iLCBQTE5NKQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlBMTlUiLCBQTE5VKQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIlRFQU0iLCBURUFNKQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoIkxFQUciLCBMRUFHKQogICAgICAgICAgdXBkYXRlVXNlckRlZmluZWRGaWVsZERldGFpbHMoUExJRCwgUklETiwgUklETCwgSVROTywgV0hTTCkKICAgICAgICB9CiAgICAgIH0KICAgICAgbWkud3JpdGUoKQogICAgfQogIH0KCn0="}}}