{"programModules":{"EXT413MI":{"program":"EXT413MI","triggers":{},"transactions":{"LstCrdtCardTrns":{"sourceUuid":"a886046e-3a7f-4a23-a9e9-5b494433be4c","name":"LstCrdtCardTrns","program":"EXT413MI","description":"Lst Credit Card Transaction Details","active":true,"multi":true,"modified":1694508556360,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"DLSP","description":"Delivery Stop","length":18,"mandatory":false,"type":"N"},{"name":"DLST","description":"Delivery Status","length":18,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"a886046e-3a7f-4a23-a9e9-5b494433be4c":{"uuid":"a886046e-3a7f-4a23-a9e9-5b494433be4c","updated":1700203271960,"updatedBy":"M3CONSADMX","created":1694508339047,"createdBy":"M3CONSADMX","apiVersion":"0.21","beVersion":"16.0.0.20230822184312.7","language":"GROOVY","codeHash":"07299A8FE377A74F8080A0516A24742833382AD2391955FCCD71468FF4EBD676","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIExpc3QgcmVjb3JkcyBmcm9tIEVYVENDVCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxM01JLkxzdENyZHRDYXJkVHJucwogKiBEZXNjcmlwdGlvbjogTGlzdGluZyByZWNvcmRzIHRvIEVYVENDVCB0YWJsZQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDkxMiAgU3VyaXlhTkBmb3J0dWRlLmNvICAgICAgTGlzdGluZyByZWNvcmRzIGZyb20gIEVYVENDVCB0YWJsZQogKgogKi8KCnB1YmxpYyBjbGFzcyBMc3RDcmR0Q2FyZFRybnMgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIGxvbmcgaURMSVgKICBwcml2YXRlIGludCBpQ09OTywgcGFnZVNpemUgPSAxMDAwMDAKICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUKCiAgcHVibGljIExzdENyZHRDYXJkVHJucyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlETElYID0gKG1pLmluRGF0YS5nZXQoIkRMSVgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRMSVgiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJETElYIikgYXMgbG9uZwogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgCiAgICB2YWxpZGF0ZUlucHV0KCkKICAgIGlmICh2YWxpZElucHV0KSB7CiAgICAgIGxpc3RSZWNvcmQoKQogICAgfQogICAgCiAgfQogIAogIC8qKgogICAqVmFsaWRhdGUgUmVjb3JkcwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgCiAgICBpZihtaS5pbkRhdGEuZ2V0KCJETElYIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpCiAgICB7CiAgICAgIC8vVmFsaWRhdGUgRGVsaXZlcnkgTnVtYmVyCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiRExJWCI6IGlETElYLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuRExJWCA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEZWxpdmVyeSBOdW1iZXIgIiArIGlETElYKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1XUzQxME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQoKICB9CgoKICAvKioKICAgKkxpc3QgcmVjb3JkcyBmcm9tIEVYVENDVCB0YWJsZQogICAqIEBwYXJhbXMgCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgbGlzdFJlY29yZCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVENDVCIpLnNlbGVjdGlvbigiRVhETFNUIiwgIkVYQ09OTyIsICJFWERMSVgiLCAiRVhETFNQIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBpZiAobWkuaW5EYXRhLmdldCgiRExJWCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIkRMSVgiKS50cmltKCkuaXNFbXB0eSgpKSB7CiAgICAgIGNvbnRhaW5lci5zZXQoIkVYRExJWCIsIGlETElYIGFzIGxvbmcpCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMixwYWdlU2l6ZSwgcmVzdWx0c2V0KQogICAgfSBlbHNlIHsKICAgICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAxLHBhZ2VTaXplLCByZXN1bHRzZXQpCiAgICB9CiAgfQogIENsb3N1cmUgPCA/ID4gcmVzdWx0c2V0ID0gewogICAgREJDb250YWluZXIgY29udGFpbmVyIC0+CiAgICBtaS5vdXREYXRhLnB1dCgiRExTVCIsIGNvbnRhaW5lci5nZXQoIkVYRExTVCIpLnRvU3RyaW5nKCkpCiAgICBtaS5vdXREYXRhLnB1dCgiQ09OTyIsIGNvbnRhaW5lci5nZXQoIkVYQ09OTyIpLnRvU3RyaW5nKCkpCiAgICBtaS5vdXREYXRhLnB1dCgiRExJWCIsIGNvbnRhaW5lci5nZXQoIkVYRExJWCIpLnRvU3RyaW5nKCkpCiAgICBtaS5vdXREYXRhLnB1dCgiRExTUCIsIGNvbnRhaW5lci5nZXQoIkVYRExTUCIpLnRvU3RyaW5nKCkpCgogICAgbWkud3JpdGUoKQoKICB9Cn0="}}}