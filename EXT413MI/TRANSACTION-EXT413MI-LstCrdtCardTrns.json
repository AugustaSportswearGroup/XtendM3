{"programModules":{"EXT413MI":{"program":"EXT413MI","triggers":{},"transactions":{"LstCrdtCardTrns":{"sourceUuid":"a886046e-3a7f-4a23-a9e9-5b494433be4c","name":"LstCrdtCardTrns","program":"EXT413MI","description":"Lst Credit Card Transaction Details","active":true,"multi":true,"modified":1694508556360,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"},{"name":"DLSP","description":"Delivery Stop","length":18,"mandatory":false,"type":"N"},{"name":"DLST","description":"Delivery Status","length":18,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"a886046e-3a7f-4a23-a9e9-5b494433be4c":{"uuid":"a886046e-3a7f-4a23-a9e9-5b494433be4c","updated":1694515289506,"updatedBy":"M3CONSADMX","created":1694508339047,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20230621154344.6","language":"GROOVY","codeHash":"4DA4844123C4CD8D22B6D41F4DB3B84A239B4FAA5B8225DC1C6D0A649D6AB604","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIExpc3QgcmVjb3JkcyBmcm9tIEVYVENDVCB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxM01JLkxzdENyZHRDYXJkVHJucwogKiBEZXNjcmlwdGlvbjogTGlzdGluZyByZWNvcmRzIHRvIEVYVENDVCB0YWJsZQogKiBEYXRlCSAgICAgIENoYW5nZWQgQnkgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDkxMiAgU3VyaXlhTkBmb3J0dWRlLmNvICAgICAgTGlzdGluZyByZWNvcmRzIGZyb20gIEVYVENDVCB0YWJsZQogKgogKi8KCnB1YmxpYyBjbGFzcyBMc3RDcmR0Q2FyZFRybnMgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIGxvbmcgaURMSVgKICBwcml2YXRlIGludCBpQ09OTwogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQoKICBwdWJsaWMgTHN0Q3JkdENhcmRUcm5zKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBNSUNhbGxlckFQSSBtaUNhbGxlcikgewogICAgdGhpcy5taSA9IG1pCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UKICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcgogIH0KICAvKioKICAgKiogTWFpbiBmdW5jdGlvbgogICAqIEBwYXJhbQogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCBtYWluKCkgewogICAgaURMSVggPSAobWkuaW5EYXRhLmdldCgiRExJWCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkRMSVgiKSBhcyBsb25nCiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICAKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYgKHZhbGlkSW5wdXQpIHsKICAgICAgbGlzdFJlY29yZCgpCiAgICB9CiAgICAKICB9CiAgCiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHZhbGlkYXRlSW5wdXQoKSB7CgogICAgLy9WYWxpZGF0ZSBDb21wYW55IE51bWJlcgogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgZGVmIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICAKICAgIGlmKG1pLmluRGF0YS5nZXQoIkRMSVgiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJETElYIikudHJpbSgpLmlzRW1wdHkoKSkKICAgIHsKICAgICAgLy9WYWxpZGF0ZSBEZWxpdmVyeSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJETElYIjogaURMSVgudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5ETElYID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERlbGl2ZXJ5IE51bWJlciAiICsgaURMSVgpCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTVdTNDEwTUkiLCAiR2V0SGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICB9CgogIH0KCgogIC8qKgogICAqTGlzdCByZWNvcmRzIGZyb20gRVhUQ0NUIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyBsaXN0UmVjb3JkKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUQ0NUIikuc2VsZWN0aW9uKCJFWERMU1QiLCAiRVhDT05PIiwgIkVYRExJWCIsICJFWERMU1AiKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQoKICAgIGlmIChtaS5pbkRhdGEuZ2V0KCJETElYIikgIT0gbnVsbCAmJiAhbWkuaW5EYXRhLmdldCgiRExJWCIpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgY29udGFpbmVyLnNldCgiRVhETElYIiwgaURMSVggYXMgbG9uZykKICAgICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAyLCByZXN1bHRzZXQpCiAgICB9IGVsc2UgewogICAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDEsIHJlc3VsdHNldCkKICAgIH0KICB9CiAgQ2xvc3VyZSA8ID8gPiByZXN1bHRzZXQgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgIG1pLm91dERhdGEucHV0KCJETFNUIiwgY29udGFpbmVyLmdldCgiRVhETFNUIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJDT05PIiwgY29udGFpbmVyLmdldCgiRVhDT05PIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJETElYIiwgY29udGFpbmVyLmdldCgiRVhETElYIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJETFNQIiwgY29udGFpbmVyLmdldCgiRVhETFNQIikudG9TdHJpbmcoKSkKCiAgICBtaS53cml0ZSgpCgogIH0KfQ=="}}}