{"programModules":{"EXT104MI":{"program":"EXT104MI","triggers":{},"transactions":{"LstPriceLine":{"sourceUuid":"89a592c1-5d82-47f7-9564-8f161cd09437","name":"LstPriceLine","program":"EXT104MI","description":"List item price for a orderline","active":true,"multi":true,"modified":1701193020523,"modifiedBy":"SADANGJ","outputFields":[{"name":"ITNO","description":"Item number","length":15,"mandatory":false,"type":"A"},{"name":"SAPR","description":"Sales price","length":18,"mandatory":false,"type":"A"},{"name":"LNAM","description":"Line amount","length":18,"mandatory":false,"type":"A"},{"name":"ORQA","description":"Ordered quantity","length":15,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"NETP","description":"Net price","length":19,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"A"},{"name":"FACI","description":"Facility","length":3,"mandatory":true,"type":"A"},{"name":"CUNO","description":"Customer number","length":10,"mandatory":true,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"IT01","description":"Item number 1","length":15,"mandatory":true,"type":"A"},{"name":"OR01","description":"Ordered Quantity 1","length":7,"mandatory":false,"type":"A"},{"name":"IT02","description":"Item number 2","length":15,"mandatory":false,"type":"A"},{"name":"OR02","description":"Ordered Quantity 2","length":7,"mandatory":false,"type":"A"},{"name":"IT03","description":"Item number 3","length":15,"mandatory":false,"type":"A"},{"name":"OR03","description":"Ordered Quantity 3","length":7,"mandatory":false,"type":"A"},{"name":"IT04","description":"Item number 4","length":15,"mandatory":false,"type":"A"},{"name":"OR04","description":"Ordered Quantity 4","length":7,"mandatory":false,"type":"A"},{"name":"IT05","description":"Item number 5","length":15,"mandatory":false,"type":"A"},{"name":"OR05","description":"Ordered Quantity 5","length":7,"mandatory":false,"type":"A"},{"name":"IT06","description":"Item number 6","length":15,"mandatory":false,"type":"A"},{"name":"OR06","description":"Ordered Quantity 6","length":7,"mandatory":false,"type":"A"},{"name":"IT07","description":"Item number 7","length":15,"mandatory":false,"type":"A"},{"name":"OR07","description":"Ordered Quantity 7","length":7,"mandatory":false,"type":"A"},{"name":"IT08","description":"Item number 8","length":15,"mandatory":false,"type":"A"},{"name":"OR08","description":"Ordered Quantity 8","length":7,"mandatory":false,"type":"A"},{"name":"IT09","description":"Item number 9","length":15,"mandatory":false,"type":"A"},{"name":"OR09","description":"Ordered Quantity 9","length":7,"mandatory":false,"type":"A"},{"name":"IT10","description":"Item number 10","length":15,"mandatory":false,"type":"A"},{"name":"OR10","description":"Ordered Quantity 10","length":7,"mandatory":false,"type":"A"},{"name":"IT11","description":"Item number 11","length":15,"mandatory":false,"type":"A"},{"name":"OR11","description":"Ordered Quantity 11","length":7,"mandatory":false,"type":"A"},{"name":"IT12","description":"Item number 12","length":15,"mandatory":false,"type":"A"},{"name":"OR12","description":"Ordered Quantity 12","length":7,"mandatory":false,"type":"A"},{"name":"IT13","description":"Item number 13","length":15,"mandatory":false,"type":"A"},{"name":"OR13","description":"Ordered Quantity 13","length":7,"mandatory":false,"type":"A"},{"name":"IT14","description":"Item number 14","length":15,"mandatory":false,"type":"A"},{"name":"OR14","description":"Ordered Quantity 14","length":7,"mandatory":false,"type":"A"},{"name":"IT15","description":"Item number 15","length":15,"mandatory":false,"type":"A"},{"name":"OR15","description":"Ordered Quantity 15","length":7,"mandatory":false,"type":"A"},{"name":"IT16","description":"Item number 16","length":15,"mandatory":false,"type":"A"},{"name":"OR16","description":"Ordered Quantity 16","length":7,"mandatory":false,"type":"A"},{"name":"IT17","description":"Item number 17","length":15,"mandatory":false,"type":"A"},{"name":"OR17","description":"Ordered Quantity 17","length":7,"mandatory":false,"type":"A"},{"name":"IT18","description":"Item number 18","length":15,"mandatory":false,"type":"A"},{"name":"OR18","description":"Ordered Quantity 18","length":7,"mandatory":false,"type":"A"},{"name":"IT19","description":"Item number 19","length":15,"mandatory":false,"type":"A"},{"name":"OR19","description":"Ordered Quantity 19","length":7,"mandatory":false,"type":"A"},{"name":"IT20","description":"Item number 20","length":15,"mandatory":false,"type":"A"},{"name":"OR20","description":"Ordered Quantity 20","length":7,"mandatory":false,"type":"A"},{"name":"IT21","description":"Item number 21","length":15,"mandatory":false,"type":"A"},{"name":"OR21","description":"Ordered Quantity 21","length":7,"mandatory":false,"type":"A"},{"name":"IT22","description":"Item number 22","length":15,"mandatory":false,"type":"A"},{"name":"OR22","description":"Ordered Quantity 22","length":7,"mandatory":false,"type":"A"},{"name":"IT23","description":"Item number 23","length":15,"mandatory":false,"type":"A"},{"name":"OR23","description":"Ordered Quantity 23","length":7,"mandatory":false,"type":"A"},{"name":"IT24","description":"Item number 24","length":15,"mandatory":false,"type":"A"},{"name":"OR24","description":"Ordered Quantity 24","length":7,"mandatory":false,"type":"A"},{"name":"IT25","description":"Item number 25","length":15,"mandatory":false,"type":"A"},{"name":"OR25","description":"Ordered Quantity 25","length":7,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"89a592c1-5d82-47f7-9564-8f161cd09437":{"uuid":"89a592c1-5d82-47f7-9564-8f161cd09437","updated":1711992527370,"updatedBy":"ABHISHEK","created":1701149340478,"createdBy":"SADANGJ","apiVersion":"0.9","beVersion":"16.0.0.20240116163623.6","language":"GROOVY","codeHash":"8EA7BB5EFD0D02159C689A613ED33DF52C935327D4070D43383076CC12AAFB5B","code":"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgZXh0ZW5zaW9uIGlzIGJlaW5nIHVzZWQgdG8gbGlzdCBQcmljZUxpbmUNCiAqDQogKiBOYW1lOiBFWFQxMDRNSS5Mc3RQcmljZUxpbmUNCiAqIERlc2NyaXB0aW9uOiBUcmFuc2FjdGlvbiB1c2VkIHRvIGxpc3QgUHJpY2UgTGluZSBmb3IgZWNvbSBvcmRlcnMNCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbg0KICoyMDIzMTAxOSAgU3VyaXlhTkBmb3J0dWRlLmNvICAgICBMaXN0IFByaWNlIExpbmUgZm9yIGVjb20gb3JkZXJzICovDQoNCnB1YmxpYyBjbGFzcyBMc3RQcmljZUxpbmUgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQ0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXINCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIHRyYW5zbGF0aW9uSWQsIG1heFBhZ2VTaXplID0gMTAwMDANCiAgcHJpdmF0ZSBTdHJpbmcgaUNVTk8sIGlGQUNJLCBpQ1VDRA0KICBwcml2YXRlIEFycmF5TGlzdCA8IEhhc2hNYXAgPCBTdHJpbmcsIFN0cmluZyA+PiBwcmljZUxpc3QgPSBuZXcgQXJyYXlMaXN0IDwgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4+ICgpDQogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQ0KDQogIHB1YmxpYyBMc3RQcmljZUxpbmUoTUlBUEkgbWksIFByb2dyYW1BUEkgcHJvZ3JhbSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyKSB7DQogICAgdGhpcy5taSA9IG1pDQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQ0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQ0KICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcg0KICB9DQoNCiAgLyoqDQogICAqIE1haW4gbWV0aG9kIHRvIHJldHJpZXZlIHByaWNlIGluZm9ybWF0aW9uIGZvciBpdGVtcyBpbiBhbiBvcmRlci4NCiAgICovDQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpQ09OTyA9IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyDQogICAgaUNVTk8gPSAobWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikgYXMgU3RyaW5nDQogICAgaUZBQ0kgPSAobWkuaW5EYXRhLmdldCgiRkFDSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRkFDSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJGQUNJIikgYXMgU3RyaW5nDQogICAgaUNVQ0QgPSAobWkuaW5EYXRhLmdldCgiQ1VDRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ1VDRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIlVTRCIgOiBtaS5pbkRhdGEuZ2V0KCJDVUNEIikgYXMgU3RyaW5nDQogICAgU3RyaW5nIHN0YXR1cyA9IG51bGwNCiAgICBTdHJpbmcgaUlUTk8gPSBudWxsDQogICAgU3RyaW5nIGlPUlFUID0gbnVsbA0KICAgIGlmICh2YWxpZGF0ZUlucHV0KCkpIHsNCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMDEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMDEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQwMSIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IwMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IwMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IwMSIpIGFzIFN0cmluZw0KICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQwMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQwMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDAyIikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjAyIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjAyIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjAyIikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMDMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMDMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQwMyIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IwMyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IwMyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IwMyIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDA0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDA0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMDQiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMDQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMDQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMDQiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQwNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQwNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDA1IikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjA1IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjA1IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjA1IikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMDYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMDYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQwNiIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IwNiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IwNiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IwNiIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDA3IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDA3IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMDciKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMDciKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMDciKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMDciKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQwOCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQwOCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDA4IikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjA4IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjA4IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjA4IikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMDkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMDkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQwOSIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IwOSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IwOSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IwOSIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDEwIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDEwIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMTAiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMTAiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMTAiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMTAiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQxMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQxMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDExIikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjExIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjExIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjExIikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMTIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMTIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQxMiIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IxMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IxMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IxMiIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDEzIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDEzIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMTMiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMTMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMTMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMTMiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQxNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQxNCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDE0IikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjE0IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjE0IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjE0IikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMTUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMTUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQxNSIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IxNSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IxNSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IxNSIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDE2IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDE2IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMTYiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMTYiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMTYiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMTYiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQxNyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQxNyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDE3IikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjE3IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjE3IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjE3IikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMTgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMTgiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQxOCIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IxOCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IxOCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IxOCIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDE5IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDE5IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMTkiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMTkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMTkiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMTkiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQyMCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQyMCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDIwIikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjIwIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjIwIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjIwIikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMjEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMjEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQyMSIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IyMSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IyMSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IyMSIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDIyIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDIyIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMjIiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMjIiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMjIiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMjIiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVQyMyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVQyMyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVDIzIikgYXMgU3RyaW5nDQogICAgICBpT1JRVCA9IChtaS5pbkRhdGEuZ2V0KCJPUjIzIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUjIzIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiMSIgOiBtaS5pbkRhdGEuZ2V0KCJPUjIzIikgYXMgU3RyaW5nDQogICAgICBpZiAoIWlJVE5PLmlzRW1wdHkoKSkgew0KICAgICAgICBzdGF0dXMgPSBnZXRQcmljZUxpbmUoaUlUTk8sIGlPUlFUKQ0KICAgICAgICBpZiAoc3RhdHVzICE9IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcihzdGF0dXMpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGlJVE5PID0gKG1pLmluRGF0YS5nZXQoIklUMjQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklUMjQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVQyNCIpIGFzIFN0cmluZw0KICAgICAgaU9SUVQgPSAobWkuaW5EYXRhLmdldCgiT1IyNCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiT1IyNCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIjEiIDogbWkuaW5EYXRhLmdldCgiT1IyNCIpIGFzIFN0cmluZw0KICAgICAgaWYgKCFpSVROTy5pc0VtcHR5KCkpIHsNCiAgICAgICAgc3RhdHVzID0gZ2V0UHJpY2VMaW5lKGlJVE5PLCBpT1JRVCkNCiAgICAgICAgaWYgKHN0YXR1cyAhPSBudWxsKSB7DQogICAgICAgICAgbWkuZXJyb3Ioc3RhdHVzKQ0KICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICB9DQogICAgICBpSVROTyA9IChtaS5pbkRhdGEuZ2V0KCJJVDI1IikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJJVDI1IikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIklUMjUiKSBhcyBTdHJpbmcNCiAgICAgIGlPUlFUID0gKG1pLmluRGF0YS5nZXQoIk9SMjUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIk9SMjUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIxIiA6IG1pLmluRGF0YS5nZXQoIk9SMjUiKSBhcyBTdHJpbmcNCiAgICAgIGlmICghaUlUTk8uaXNFbXB0eSgpKSB7DQogICAgICAgIHN0YXR1cyA9IGdldFByaWNlTGluZShpSVROTywgaU9SUVQpDQogICAgICAgIGlmIChzdGF0dXMgIT0gbnVsbCkgew0KICAgICAgICAgIG1pLmVycm9yKHN0YXR1cykNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgZm9yIChIYXNoTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBwcmljZTogcHJpY2VMaXN0KSB7DQogICAgICAgIG1pLm91dERhdGEucHV0KCJJVE5PIiwgcHJpY2UuSVROTykNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIlNBUFIiLCBwcmljZS5TQVBSKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiTE5BTSIsIHByaWNlLkxOQU0pDQogICAgICAgIG1pLm91dERhdGEucHV0KCJPUlFBIiwgcHJpY2UuT1JRQSkNCiAgICAgICAgbWkub3V0RGF0YS5wdXQoIkNVQ0QiLCBwcmljZS5DVUNEKQ0KICAgICAgICBtaS5vdXREYXRhLnB1dCgiTkVUUCIsIHByaWNlLk5FVFApDQogICAgICAgIG1pLndyaXRlKCkNCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogTWV0aG9kIHRvIHZhbGlkYXRlIGlucHV0IGRhdGEuDQogICAqIEByZXR1cm4gdHJ1ZSBpZiBpbnB1dCBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlLg0KICAgKi8NCg0KICBwdWJsaWMgYm9vbGVhbiB2YWxpZGF0ZUlucHV0KCkgew0KICAgIC8vVmFsaWRhdGUgUGF5ZXIgaXMgZW50ZXJlZA0KICAgIGlmIChpQ1VOTy5pc0VtcHR5KCkpIHsNCiAgICAgIG1pLmVycm9yKCJDdXN0b21lciBudW1iZXIgbXVzdCBiZSBlbnRlcmVkLiIpDQogICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICB9IGVsc2Ugew0KICAgICAgLy9WYWxpZGF0ZSBDdXN0b21lciBOdW1iZXINCiAgICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJDVU5PIjogaUNVTk8udG9TdHJpbmcoKS50cmltKCldDQogICAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gew0KICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+DQogICAgICAgIGlmIChyZXNwb25zZS5DVU5PID09IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDdXN0b21lciBOdW1iZXIgIiArIGlDVU5PKQ0KICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBtaUNhbGxlci5jYWxsKCJDUlM2MTBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICAgIH0NCiAgICBpZiAoaUZBQ0kuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiRmFjaWxpdHkgbXVzdCBiZSBlbnRlcmVkLiIpDQogICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICB9IGVsc2Ugew0KICAgICAgLy9WYWxpZGF0ZSBGYWNpbGl0eSBOdW1iZXINCiAgICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJGQUNJIjogaUZBQ0kudG9TdHJpbmcoKS50cmltKCldDQogICAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gew0KICAgICAgICBNYXAgPCBTdHJpbmcsDQogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+DQogICAgICAgIGlmIChyZXNwb25zZS5GQUNJID09IG51bGwpIHsNCiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBGYWNpbGl0eSBOdW1iZXIgIiArIGlGQUNJKQ0KICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBtaUNhbGxlci5jYWxsKCJDUlMwMDhNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQ0KICAgIH0NCiAgICByZXR1cm4gdmFsaWRJbnB1dA0KICB9DQoNCiAgLyoqDQogICAqIE1ldGhvZCB0byByZXRyaWV2ZSBwcmljZSBsaW5lIGluZm9ybWF0aW9uLg0KICAgKiBAcGFyYW0gaXRubyBUaGUgaXRlbSBudW1iZXIuDQogICAqIEBwYXJhbSBvcnF0IFRoZSBvcmRlciBxdWFudGl0eS4NCiAgICogQHJldHVybiBUaGUgc3RhdHVzIG1lc3NhZ2UuDQogICAqLw0KDQogIHB1YmxpYyBTdHJpbmcgZ2V0UHJpY2VMaW5lKFN0cmluZyBpdG5vLCBTdHJpbmcgb3JxdCkgew0KICAgIFN0cmluZyBzdGF0dXMgPSBudWxsDQogICAgTWFwIDwgU3RyaW5nLCBTdHJpbmcgPiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIkZBQ0kiOiBpRkFDSS50b1N0cmluZygpLnRyaW0oKSwgIkNVTk8iOiBpQ1VOTy50b1N0cmluZygpLnRyaW0oKSwgIkNVQ0QiOiBpQ1VDRC50b1N0cmluZygpLnRyaW0oKSwgIklUTk8iOiBpdG5vLCAiT1JRQSI6IG9ycXRdDQogICAgQ2xvc3VyZSA8ID8gPiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+DQogICAgICBpZiAocmVzcG9uc2UuZXJyb3IgIT0gbnVsbCkgew0KICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5lcnJvck1lc3NhZ2UNCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gcHJpY2UgPSBuZXcgSGFzaE1hcCA8IFN0cmluZywgU3RyaW5nID4gKCkNCiAgICAgICAgcHJpY2UucHV0KCJJVE5PIiwgaXRubykNCiAgICAgICAgcHJpY2UucHV0KCJTQVBSIiwgcmVzcG9uc2UuU0FQUiBhcyBTdHJpbmcpDQogICAgICAgIHByaWNlLnB1dCgiTE5BTSIsIHJlc3BvbnNlLkxOQU0gYXMgU3RyaW5nKQ0KICAgICAgICBwcmljZS5wdXQoIk9SUUEiLCBvcnF0KQ0KICAgICAgICBwcmljZS5wdXQoIkNVQ0QiLCBpQ1VDRCkNCiAgICAgICAgcHJpY2UucHV0KCJORVRQIiwgcmVzcG9uc2UuTkVUUCBhcyBTdHJpbmcpDQogICAgICAgIHByaWNlTGlzdC5hZGQocHJpY2UpDQogICAgICB9DQogICAgfQ0KICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzMyME1JIiwgIkdldFByaWNlTGluZSIsIHBhcmFtcywgY2FsbGJhY2spDQogICAgcmV0dXJuIHN0YXR1cw0KICB9DQoNCn0="}}}