{"programModules":{"EXT104MI":{"program":"EXT104MI","triggers":{},"transactions":{"LstStopOrdByCR":{"sourceUuid":"3c49933a-0f11-4ecd-aeae-122ff328c034","name":"LstStopOrdByCR","program":"EXT104MI","description":"List on hold orders by credit rep","active":true,"multi":true,"modified":1710883684795,"modifiedBy":"SADANGJ","outputFields":[{"name":"CUNO","description":"Customer number","length":10,"mandatory":false,"type":"A"},{"name":"CUNM","description":"Customer name","length":36,"mandatory":false,"type":"A"},{"name":"PYNO","description":"Payer number","length":10,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Order number","length":10,"mandatory":false,"type":"A"},{"name":"OBLC","description":"Order stop","length":1,"mandatory":false,"type":"A"},{"name":"ORSL","description":"Lowest status","length":2,"mandatory":false,"type":"A"},{"name":"ORST","description":"Highest status","length":2,"mandatory":false,"type":"A"},{"name":"ORDT","description":"Order date","length":8,"mandatory":false,"type":"A"},{"name":"CDRC","description":"Credit Rep","length":3,"mandatory":false,"type":"A"},{"name":"ORTP","description":"Order type","length":3,"mandatory":false,"type":"A"},{"name":"YREF","description":"Your reference","length":30,"mandatory":false,"type":"A"},{"name":"OREF","description":"Our reference","length":30,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Customer's order number","length":20,"mandatory":false,"type":"A"},{"name":"NTLA","description":"Total order value net","length":16,"mandatory":false,"type":"A"},{"name":"TEPY","description":"Payment terms","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"MODL","description":"Delivery  method","length":3,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CDRC","description":"Credit Rep","length":3,"mandatory":true,"type":"A"},{"name":"OBLC","description":"Credit Stop from","length":1,"mandatory":true,"type":"A"},{"name":"OBLU","description":"Credit stop to","length":1,"mandatory":true,"type":"A"},{"name":"ORSL","description":"Order lower status from","length":2,"mandatory":true,"type":"A"},{"name":"ORSU","description":"Order lower status to","length":2,"mandatory":true,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"3c49933a-0f11-4ecd-aeae-122ff328c034":{"uuid":"3c49933a-0f11-4ecd-aeae-122ff328c034","updated":1712547412917,"updatedBy":"SADANGJ","created":1701276674183,"createdBy":"SADANGJ","apiVersion":"0.9","beVersion":"16.0.0.20240116163623.6","language":"GROOVY","codeHash":"20F8F5F0779C633CEF8B7EF2D7B2F8BF108D6B32134EB17ACD1E5E29A479C874","code":"LyoqDQogKiBSRUFETUUNCiAqIFRoaXMgZXh0ZW5zaW9uIGlzIGJlaW5nIHVzZWQgdG8gbGlzdCBvbiBob2xkIG9yZGVycyBieSBjcmVkaXQgcmVwDQogKg0KICogTmFtZTogRVhUMTA0TUkuTHN0U3RvcE9yZEJ5Q1INCiAqIERlc2NyaXB0aW9uOiBUcmFuc2FjdGlvbiB1c2VkIHRvIGxpc3Qgb24gaG9sZCBvcmRlcnMgYnkgY3JlZGl0IHJlcA0KICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uDQogKjIwMjMxMDE5ICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgIExpc3Qgb24gaG9sZCBvcmRlcnMgYnkgY3JlZGl0IHJlcCovDQogDQogDQppbXBvcnQgZ3Jvb3Z5Lmpzb24uSnNvblNsdXJwZXINCg0KcHVibGljIGNsYXNzIExzdFN0b3BPcmRCeUNSIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWkNCiAgcHJpdmF0ZSBmaW5hbCBJb25BUEkgaW9uDQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcg0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQ0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXINCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIHRyYW5zbGF0aW9uSWQsIHJvd0NvdW50LCBtYXhQYWdlU2l6ZSA9IDEwMDANCiAgcHJpdmF0ZSBTdHJpbmcgaUNEUkMsIGlPQkxDLCBpT0JMVSwgaU9SU0wsIGlPUlNVLCBpRElWSQ0KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUNCiAgcHJpdmF0ZSBTdHJpbmcgcXVlcnlJZCwgbG9jYXRpb24sIGpvYlN0YXR1cw0KDQogIHB1YmxpYyBMc3RTdG9wT3JkQnlDUihNSUFQSSBtaSwgUHJvZ3JhbUFQSSBwcm9ncmFtLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIElvbkFQSSBpb24sIExvZ2dlckFQSSBsb2dnZXIpIHsNCiAgICB0aGlzLm1pID0gbWkNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlDQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyDQogICAgdGhpcy5pb24gPSBpb24NCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcg0KICB9DQoNCiAgLyoqDQogICAqIEV4ZWN1dGVzIHRoZSBtYWluIGxvZ2ljIG9mIHRoZSB0cmFuc2FjdGlvbi4NCiAgICovDQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpQ09OTyA9IHByb2dyYW0uTERBWkQuQ09OTyBhcyBJbnRlZ2VyDQogICAgaURJVkkgPSAobWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5ESVZJIGFzIFN0cmluZyA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKSBhcyBTdHJpbmcNCiAgICBpQ0RSQyA9IChtaS5pbkRhdGEuZ2V0KCJDRFJDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDRFJDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNEUkMiKSBhcyBTdHJpbmcNCiAgICBpT0JMQyA9IChtaS5pbkRhdGEuZ2V0KCJPQkxDIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPQkxDIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9CTEMiKSBhcyBTdHJpbmcNCiAgICBpT0JMVSA9IChtaS5pbkRhdGEuZ2V0KCJPQkxVIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPQkxVIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9CTFUiKSBhcyBTdHJpbmcNCiAgICBpT1JTTCA9IChtaS5pbkRhdGEuZ2V0KCJPUlNMIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUlNMIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9SU0wiKSBhcyBTdHJpbmcNCiAgICBpT1JTVSA9IChtaS5pbkRhdGEuZ2V0KCJPUlNVIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUlNVIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9SU1UiKSBhcyBTdHJpbmcNCiAgICBpZiAodmFsaWRhdGVJbnB1dCgpKSB7DQogICAgICBwb3N0Sm9iKCkNCiAgICAgIGlmIChxdWVyeUlkICE9IG51bGwpIHsNCiAgICAgICAgLy9DaGVjayBqb2Igc3RhdHVzDQogICAgICAgIGNoZWNrSm9iU3RhdHVzKCkNCiAgICAgICAgaWYgKGpvYlN0YXR1cy5lcXVhbHMoIkZJTklTSEVEIikpIHsNCiAgICAgICAgICBnZXRKb2JSZXN1bHQoMCwgbWF4UGFnZVNpemUpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogVmFsaWRhdGVzIHRoZSBpbnB1dCBkYXRhIHByb3ZpZGVkIGZvciB0aGUgdHJhbnNhY3Rpb24uDQogICAqIA0KICAgKiBAcmV0dXJuIHRydWUgaWYgdGhlIGlucHV0IGRhdGEgaXMgdmFsaWQsIGZhbHNlIG90aGVyd2lzZS4NCiAgICovDQoNCiAgcHVibGljIGJvb2xlYW4gdmFsaWRhdGVJbnB1dCgpIHsNCiAgICAvL1ZhbGlkYXRlIElucHV0cyBhcmUgZW50ZXJlZA0KICAgIGlmIChpQ0RSQy5pc0VtcHR5KCkpIHsNCiAgICAgIG1pLmVycm9yKCJDcmVkaXQgcmVwIG11c3QgYmUgZW50ZXJlZC4iKQ0KICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKGlPQkxDLmlzRW1wdHkoKSkgew0KICAgICAgbWkuZXJyb3IoIkNyZWRpdCBzdG9wIGZyb20gdmFsdWUgbXVzdCBiZSBlbnRlcmVkLiIpDQogICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSB7DQogICAgICBpZiAoaU9CTEMuaXNOdW1iZXIoKSkgew0KICAgICAgICBpbnQgb2JsYyA9IGlPQkxDIGFzIEludGVnZXINCiAgICAgICAgaWYgKG9ibGMgPCAxIHx8IG9ibGMgPiA4KSB7DQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKCF2YWxpZElucHV0KSB7DQogICAgICAgIG1pLmVycm9yKCJDcmVkaXQgc3RvcCBmcm9tIHZhbHVlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA4LiIpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgIH0NCiAgICBpZiAoaU9CTFUuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiQ3JlZGl0IHN0b3AgdG8gdmFsdWUgbXVzdCBiZSBlbnRlcmVkLiIpDQogICAgICB2YWxpZElucHV0ID0gZmFsc2UNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSB7DQogICAgICBpZiAoaU9CTFUuaXNOdW1iZXIoKSkgew0KICAgICAgICBpbnQgb2JsYyA9IGlPQkxVIGFzIEludGVnZXINCiAgICAgICAgaWYgKG9ibGMgPCAxIHx8IG9ibGMgPiA4KSB7DQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKCF2YWxpZElucHV0KSB7DQogICAgICAgIG1pLmVycm9yKCJDcmVkaXQgc3RvcCB0byB2YWx1ZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgOC4iKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICB9DQogICAgaWYgKGlPUlNMLmlzRW1wdHkoKSkgew0KICAgICAgbWkuZXJyb3IoIk9yZGVyIGxvd2VyIHN0YXR1cyBmcm9tIHZhbHVlIG11c3QgYmUgZW50ZXJlZC4iKQ0KICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICByZXR1cm4NCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKGlPUlNMLmlzTnVtYmVyKCkpIHsNCiAgICAgICAgaW50IG9yc2wgPSBpT1JTTCBhcyBJbnRlZ2VyDQogICAgICAgIGlmIChvcnNsIDwgMjIgfHwgb3JzbCA+IDMzKSB7DQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKCF2YWxpZElucHV0KSB7DQogICAgICAgIG1pLmVycm9yKCJPcmRlciBsb3dlciBzdGF0dXMgZnJvbSB2YWx1ZSBtdXN0IGJlIGJldHdlZW4gMjIgYW5kIDMzLiIpDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgIH0NCiAgICBpZiAoaU9SU1UuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiT3JkZXIgbG93ZXIgc3RhdHVzIHRvIHZhbHVlIG11c3QgYmUgZW50ZXJlZC4iKQ0KICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICByZXR1cm4NCiAgICB9IGVsc2Ugew0KICAgICAgaWYgKGlPUlNVLmlzTnVtYmVyKCkpIHsNCiAgICAgICAgaW50IG9yc2wgPSBpT1JTVSBhcyBJbnRlZ2VyDQogICAgICAgIGlmIChvcnNsIDwgMjIgfHwgb3JzbCA+IDMzKSB7DQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKCF2YWxpZElucHV0KSB7DQogICAgICAgIG1pLmVycm9yKCJPcmRlciBsb3dlciBzdGF0dXMgdG8gdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDIyIGFuZCAzMy4iKQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHZhbGlkSW5wdXQNCiAgfQ0KDQogIC8qKg0KICAgKiBQb3N0cyBhIGpvYiB0byBmZXRjaCBkYXRhIGJhc2VkIG9uIHNwZWNpZmllZCBjcml0ZXJpYS4NCiAgICovDQoNCiAgcHVibGljIHZvaWQgcG9zdEpvYigpIHsNCiAgICBTdHJpbmcgZW5kcG9pbnQgPSAiL0RBVEFGQUJSSUMvY29tcGFzcy92Mi9qb2JzIg0KICAgIE1hcCA8U3RyaW5nLCBTdHJpbmc+IGhlYWRlcnMgPSBbIkFjY2VwdCI6ICJhcHBsaWNhdGlvbi9qc29uIl0NCiAgICBNYXAgPFN0cmluZywgU3RyaW5nPiBxdWVyeVBhcmFtZXRlcnMgPSBbInF1ZXJ5RXhlY3V0b3IiOiAiZGF0YWxha2UiLCAicmVjb3JkcyI6ICIwIl0NCiAgICBTdHJpbmcgcXVlcnkgPSAic2VsZWN0IG9oZWFkLkNVTk8sIGN1c21hLkNVTk0sIG9oZWFkLlBZTk8sIG9oZWFkLk9STk8sIG9oZWFkLk9CTEMsIG9oZWFkLk9SU0wsIG9oZWFkLk9SU1QsIG9oZWFkLk9SRFQsIGN1c21hLkNEUkMsIG9oZWFkLk9SVFAsIG9oZWFkLllSRUYsIG9oZWFkLk9SRUYsIG9oZWFkLkNVT1IsIG9oZWFkLk5UTEEsIG9oZWFkLlRFUFksIG9oZWFkLldITE8sIG9oZWFkLk1PREwgIg0KICAgIHF1ZXJ5ID0gcXVlcnkgKyAiZnJvbSBPT0hFQUQgb2hlYWQgSm9pbiBPQ1VTTUEgY3VzbWEgb24gb2hlYWQuQ09OTyA9IGN1c21hLkNPTk8gYW5kIG9oZWFkLkNVTk8gPSBjdXNtYS5DVU5PIGFuZCBjdXNtYS5DRFJDIDw+ICcnIGFuZCBjdXNtYS5TVEFUPScyMCcgIg0KICAgIHF1ZXJ5ID0gcXVlcnkgKyAid2hlcmUgb2hlYWQuQ09OTyA9IDEgYW5kIG9oZWFkLkRJVkk9JyIgKyBpRElWSSArICInIGFuZCBvaGVhZC5PQkxDID49ICIgKyBpT0JMQyArICIgYW5kIG9oZWFkLk9CTEMgPD0gIiArIGlPQkxVICsgIiBhbmQgb2hlYWQuT1JTTCA+PSAnIiArIGlPUlNMICsgIicgYW5kIG9oZWFkLk9SU0wgPD0nIiArIGlPUlNVICsgIicgYW5kIGN1c21hLkNEUkMgPSAnIiArIGlDRFJDICsgIicgb3JkZXIgYnkgb2hlYWQuT1JEVCBhc2MiDQogICAgSW9uUmVzcG9uc2UgcmVzcG9uc2UgPSBpb24ucG9zdChlbmRwb2ludCwgaGVhZGVycywgcXVlcnlQYXJhbWV0ZXJzLCBxdWVyeSkNCiAgICBpZiAocmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpIDw9IDIwMikgew0KICAgICAgLy9taS5lcnJvcigiUmVzcG9uc2UgIiArIHJlc3BvbnNlLmdldENvbnRlbnQoKSkNCiAgICAgIEpzb25TbHVycGVyIHNsdXJwZXIgPSBuZXcgSnNvblNsdXJwZXIoKQ0KICAgICAgTWFwIGpvYkluZm8gPSAoTWFwKSBzbHVycGVyLnBhcnNlVGV4dChyZXNwb25zZS5nZXRDb250ZW50KCkpDQogICAgICBxdWVyeUlkID0gam9iSW5mby5nZXQoInF1ZXJ5SWQiKQ0KICAgICAgbG9jYXRpb24gPSBqb2JJbmZvLmdldCgibG9jYXRpb24iKQ0KICAgICAgam9iU3RhdHVzID0gam9iSW5mby5nZXQoInN0YXR1cyIpDQogICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKHJlc3BvbnNlLmdldEVycm9yKCkpIHsNCiAgICAgIG1pLmVycm9yKCJGYWlsZWQgY2FsbGluZyBJT04gQVBJLCBkZXRhaWxlZCBlcnJvciBtZXNzYWdlOiAke3Jlc3BvbnNlLmdldEVycm9yTWVzc2FnZSgpfSIpDQogICAgICBsb2dnZXIuZGVidWcoIkZhaWxlZCBjYWxsaW5nIElPTiBBUEksIGRldGFpbGVkIGVycm9yIG1lc3NhZ2U6ICR7cmVzcG9uc2UuZ2V0RXJyb3JNZXNzYWdlKCl9IikNCiAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAocmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpID4gMjAyKSB7DQogICAgICBtaS5lcnJvcigiRXhwZWN0ZWQgc3RhdHVzIDIwMCBidXQgZ290ICR7cmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpfSBpbnN0ZWFkIikNCiAgICAgIGxvZ2dlci5kZWJ1ZygiRXhwZWN0ZWQgc3RhdHVzIDIwMCBidXQgZ290ICR7cmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpfSBpbnN0ZWFkIikNCiAgICAgIHJldHVybg0KICAgIH0NCiAgfQ0KDQogIC8qKg0KICAgKiBDaGVja3MgdGhlIHN0YXR1cyBvZiB0aGUgam9iIHBvc3RlZCBlYXJsaWVyLg0KICAgKiANCiAgICogQHJldHVybiB0aGUgc3RhdHVzIG9mIHRoZSBqb2IuDQogICAqLw0KDQogIHB1YmxpYyBTdHJpbmcgY2hlY2tKb2JTdGF0dXMoKSB7DQogICAgU3RyaW5nIGVuZHBvaW50ID0gIi9EQVRBRkFCUklDL2NvbXBhc3MvdjIvIiArIGxvY2F0aW9uDQogICAgTWFwIDxTdHJpbmcsIFN0cmluZz4gaGVhZGVycyA9IFsiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iXQ0KICAgIE1hcCA8U3RyaW5nLCBTdHJpbmc+IHF1ZXJ5UGFyYW1ldGVycyA9IFsicXVlcnlFeGVjdXRvciI6ICJkYXRhbGFrZSIsICJ0aW1lb3V0IjogIjI1Il0NCiAgICBJb25SZXNwb25zZSByZXNwb25zZSA9IGlvbi5nZXQoZW5kcG9pbnQsIGhlYWRlcnMsIHF1ZXJ5UGFyYW1ldGVycykNCiAgICBpZiAocmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpIDw9IDIwMikgew0KICAgICAgSnNvblNsdXJwZXIgc2x1cnBlciA9IG5ldyBKc29uU2x1cnBlcigpDQogICAgICBNYXAgam9iSW5mbyA9IChNYXApIHNsdXJwZXIucGFyc2VUZXh0KHJlc3BvbnNlLmdldENvbnRlbnQoKSkNCiAgICAgIGpvYlN0YXR1cyA9IGpvYkluZm8uZ2V0KCJzdGF0dXMiKQ0KICAgICAgaWYgKGpvYlN0YXR1cy5lcXVhbHMoIkZJTklTSEVEIikpIHsNCiAgICAgICAgcm93Q291bnQgPSBqb2JJbmZvLmdldCgicm93Q291bnQiKSBhcyBJbnRlZ2VyDQogICAgICB9DQogICAgICByZXR1cm4gam9iU3RhdHVzDQogICAgfSBlbHNlIHsNCiAgICAgIG1pLmVycm9yKCJFeHBlY3RlZCBzdGF0dXMgMjAwIGJ1dCBnb3QgJHtyZXNwb25zZS5nZXRTdGF0dXNDb2RlKCl9IGluc3RlYWQiKQ0KICAgICAgbG9nZ2VyLmRlYnVnKCJFeHBlY3RlZCBzdGF0dXMgMjAwIGJ1dCBnb3QgJHtyZXNwb25zZS5nZXRTdGF0dXNDb2RlKCl9IGluc3RlYWQiKQ0KICAgICAgcmV0dXJuDQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIFJldHJpZXZlcyB0aGUgcmVzdWx0IG9mIHRoZSBqb2IgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG9mZnNldCBhbmQgbGltaXQuDQogICAqIA0KICAgKiBAcGFyYW0gb2Zmc2V0IHRoZSBzdGFydGluZyBpbmRleCBvZiB0aGUgcmVzdWx0IHNldC4NCiAgICogQHBhcmFtIGxpbWl0IHRoZSBtYXhpbXVtIG51bWJlciBvZiByZWNvcmRzIHRvIHJldHJpZXZlLg0KICAgKi8NCg0KICBwdWJsaWMgdm9pZCBnZXRKb2JSZXN1bHQoaW50IG9mZnNldCwgaW50IGxpbWl0KSB7DQogICAgU3RyaW5nIGVuZHBvaW50ID0gIi9EQVRBRkFCUklDL2NvbXBhc3MvdjIvam9icy8iICsgcXVlcnlJZCArICIvcmVzdWx0LyINCiAgICBNYXAgPFN0cmluZywgU3RyaW5nPiBoZWFkZXJzID0gWyJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiJdDQogICAgTWFwIDxTdHJpbmcsIFN0cmluZz4gcXVlcnlQYXJhbWV0ZXJzID0gWyJxdWVyeUV4ZWN1dG9yIjogImRhdGFsYWtlIiwgIm9mZnNldCI6IG9mZnNldCBhcyBTdHJpbmcsICJsaW1pdCI6IGxpbWl0IGFzIFN0cmluZ10NCiAgICBJb25SZXNwb25zZSByZXNwb25zZSA9IGlvbi5nZXQoZW5kcG9pbnQsIGhlYWRlcnMsIHF1ZXJ5UGFyYW1ldGVycykNCiAgICBpZiAocmVzcG9uc2UuZ2V0U3RhdHVzQ29kZSgpIDw9IDIwMikgew0KICAgICAgLy9taS5lcnJvcigiUmVzcG9uc2UgIiArIHJlc3BvbnNlLmdldENvbnRlbnQoKSkNCiAgICAgIEpzb25TbHVycGVyIHNsdXJwZXIgPSBuZXcgSnNvblNsdXJwZXIoKQ0KICAgICAgTGlzdCA8IE1hcCA+IGpvYlJlc3VsdCA9IChMaXN0KSBzbHVycGVyLnBhcnNlVGV4dChyZXNwb25zZS5nZXRDb250ZW50KCkpDQogICAgICBzaG93T3V0cHV0KGpvYlJlc3VsdCkNCiAgICB9IGVsc2Ugew0KICAgICAgbWkuZXJyb3IoIkV4cGVjdGVkIHN0YXR1cyAyMDAgYnV0IGdvdCAke3Jlc3BvbnNlLmdldFN0YXR1c0NvZGUoKX0gaW5zdGVhZCIpDQogICAgICBsb2dnZXIuZGVidWcoIkV4cGVjdGVkIHN0YXR1cyAyMDAgYnV0IGdvdCAke3Jlc3BvbnNlLmdldFN0YXR1c0NvZGUoKX0gaW5zdGVhZCIpDQogICAgICByZXR1cm4NCiAgICB9DQogIH0NCg0KICAvKioNCiAgICogU2hvd3MgdGhlIG91dHB1dCBkYXRhIHJldHJpZXZlZCBmcm9tIHRoZSBqb2IgcmVzdWx0Lg0KICAgKiANCiAgICogQHBhcmFtIG9yZGVycyB0aGUgbGlzdCBvZiBvcmRlcnMgdG8gZGlzcGxheS4NCiAgICovDQogIHB1YmxpYyB2b2lkIHNob3dPdXRwdXQoTGlzdCA8IE1hcCA+IG9yZGVycykgew0KICAgIGZvciAoTWFwIG9yZGVyOiBvcmRlcnMpIHsNCiAgICAgIG1pLm91dERhdGEucHV0KCJDVU5PIiwgb3JkZXIuZ2V0KCJDVU5PIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJDVU5NIiwgb3JkZXIuZ2V0KCJDVU5NIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJQWU5PIiwgb3JkZXIuZ2V0KCJQWU5PIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUk5PIiwgb3JkZXIuZ2V0KCJPUk5PIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPQkxDIiwgb3JkZXIuZ2V0KCJPQkxDIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUlNMIiwgb3JkZXIuZ2V0KCJPUlNMIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUlNUIiwgb3JkZXIuZ2V0KCJPUlNUIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUkRUIiwgb3JkZXIuZ2V0KCJPUkRUIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJDRFJDIiwgb3JkZXIuZ2V0KCJDRFJDIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUlRQIiwgb3JkZXIuZ2V0KCJPUlRQIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJZUkVGIiwgb3JkZXIuZ2V0KCJZUkVGIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJPUkVGIiwgb3JkZXIuZ2V0KCJPUkVGIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJDVU9SIiwgb3JkZXIuZ2V0KCJDVU9SIikudG9TdHJpbmcoKSkNCiAgICAgIFN0cmluZyBudGxhID0gU3RyaW5nLmZvcm1hdCgiJS4yZiIsIG9yZGVyLmdldCgiTlRMQSIpIGFzIERvdWJsZSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJOVExBIiwgbnRsYSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJURVBZIiwgb3JkZXIuZ2V0KCJURVBZIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJXSExPIiwgb3JkZXIuZ2V0KCJXSExPIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLm91dERhdGEucHV0KCJNT0RMIiwgb3JkZXIuZ2V0KCJNT0RMIikudG9TdHJpbmcoKSkNCiAgICAgIG1pLndyaXRlKCkNCiAgICB9DQogIH0NCn0="}}}