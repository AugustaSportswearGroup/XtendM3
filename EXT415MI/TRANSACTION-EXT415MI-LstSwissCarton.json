{"programModules":{"EXT415MI":{"program":"EXT415MI","triggers":{},"transactions":{"LstSwissCarton":{"sourceUuid":"4a619e68-63cb-487a-a99c-9bfd1c2d4630","name":"LstSwissCarton","program":"EXT415MI","description":"List Swiss Carton Label","active":true,"multi":true,"modified":1695811235278,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"TRTP","description":"Order Type","length":3,"mandatory":false,"type":"A"},{"name":"TTYP","description":"Stock Transaction Type","length":2,"mandatory":false,"type":"N"},{"name":"LFMT","description":"Carton Label Format","length":6,"mandatory":false,"type":"A"},{"name":"SFMT","description":"Ship/Stage Label Format","length":6,"mandatory":false,"type":"A"},{"name":"VOL3","description":"Volume","length":13,"mandatory":false,"type":"N"},{"name":"LANE","description":"Lane","length":4,"mandatory":false,"type":"N"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":false,"type":"A"},{"name":"TRTP","description":"Order Type","length":3,"mandatory":false,"type":"A"},{"name":"TTYP","description":"Stock Transaction Type","length":2,"mandatory":false,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"4a619e68-63cb-487a-a99c-9bfd1c2d4630":{"uuid":"4a619e68-63cb-487a-a99c-9bfd1c2d4630","updated":1701260858801,"updatedBy":"M3CONSADMX","created":1695811208644,"createdBy":"M3CONSADMX","apiVersion":"0.21","beVersion":"16.0.0.20230918173517.7","language":"GROOVY","codeHash":"6519814A077E9A4500005F557A1FDB0E2D4406244AC5C6A53019ACF160AF152C","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIExpc3QgcmVjb3JkcyBmcm9tIEVYVFlQRSB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDQxNU1JLkxzdFN3aXNzQ2FydG9uCiAqIERlc2NyaXB0aW9uOiBMaXN0aW5nIHJlY29yZHMgdG8gRVhUWVBFIHRhYmxlCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbgogKjIwMjMwOTI3ICBTdXJpeWFOQGZvcnR1ZGUuY28gICAgICBMaXN0aW5nIHJlY29yZHMgZnJvbSAgRVhUWVBFIHRhYmxlCiAqCiAqLwoKcHVibGljIGNsYXNzIExzdFN3aXNzQ2FydG9uIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBTdHJpbmcgaVdITE8sIGlUUlRQCiAgcHJpdmF0ZSBpbnQgaUNPTk8sIGlUVFlQLCBwYWdlU2l6ZSA9IDEwMDAwCiAgcHJpdmF0ZSBib29sZWFuIHZhbGlkSW5wdXQgPSB0cnVlCgogIHB1YmxpYyBMc3RTd2lzc0NhcnRvbihNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlXSExPID0gKG1pLmluRGF0YS5nZXQoIldITE8iKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hMTyIpCiAgICBpVFJUUCA9IChtaS5pbkRhdGEuZ2V0KCJUUlRQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUUlRQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRSVFAiKQogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaVRUWVAgPSAobWkuaW5EYXRhLmdldCgiVFRZUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVFRZUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlRUWVAiKSBhcyBJbnRlZ2VyCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZiAodmFsaWRJbnB1dCkgewogICAgICBsaXN0UmVjb3JkKCkKICAgIH0KICB9CgogIC8qKgogICAqVmFsaWRhdGUgUmVjb3JkcwogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIGRlZiBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGRlZiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIGlmICghaVdITE8udHJpbSgpLmlzRW1wdHkoKSkgewogICAgICAvL1ZhbGlkYXRlIFdhcmVob3VzZSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJXSExPIjogaVdITE8udG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5XSExPID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFdhcmVob3VzZSBOdW1iZXIgIiArIGlXSExPKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KCiAgICBpZiAoIWlUUlRQLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBPcmRlciBUeXBlCiAgICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiVFJUUCI6IGlUUlRQLnRvU3RyaW5nKCkudHJpbSgpLCAiVFRZUCI6IGlUVFlQLnRvU3RyaW5nKCkudHJpbSgpXQogICAgICBjYWxsYmFjayA9IHsKICAgICAgICBNYXAgPCBTdHJpbmcsCiAgICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgICBpZiAocmVzcG9uc2UuVFJUUCA9PSBudWxsKSB7CiAgICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBPcmRlciBUeXBlIC0gVHJhbnNhY3Rpb24gVHlwZSIpCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJDUlMyMDBNSSIsICJMc3RPcmRlclR5cGUiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIH0KCiAgfQogIC8qKgogICAqTGlzdCByZWNvcmRzIGZyb20gRVhUWVBFIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyBsaXN0UmVjb3JkKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUWVBFIikuc2VsZWN0aW9uKCJFWFdITE8iLCAiRVhUUlRQIiwgIkVYTEZNVCIsICJFWFNGTVQiLCAiRVhDT05PIiwgIkVYVk9MMyIsICJFWExBTkUiLCAiRVhUVFlQIikuaW5kZXgoIjAwIikuYnVpbGQoKQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkKCiAgICBpZiAoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkgJiYgIWlUUlRQLnRyaW0oKS5pc0VtcHR5KCkgJiYgKG1pLmluRGF0YS5nZXQoIlRSVFAiKSAhPSBudWxsICYmICFtaS5pbkRhdGEuZ2V0KCJUUlRQIikudHJpbSgpLmlzRW1wdHkoKSkpIHsKICAgICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYVFJUUCIsIGlUUlRQKQogICAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTykKICAgICAgY29udGFpbmVyLnNldCgiRVhUVFlQIiwgaVRUWVApCiAgICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCA0LCBwYWdlU2l6ZSwgcmVzdWx0c2V0KQogICAgfSBlbHNlIGlmICghaVdITE8udHJpbSgpLmlzRW1wdHkoKSAmJiAobWkuaW5EYXRhLmdldCgiVFRZUCIpICE9IG51bGwgJiYgIW1pLmluRGF0YS5nZXQoIlRUWVAiKS50cmltKCkuaXNFbXB0eSgpKSkgewogICAgICBjb250YWluZXIuc2V0KCJFWFdITE8iLCBpV0hMTykKICAgICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYVFRZUCIsIGlUVFlQKQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMywgcGFnZVNpemUsIHJlc3VsdHNldCkKICAgIH0gZWxzZSBpZiAoIWlXSExPLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pCiAgICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMiwgcGFnZVNpemUsIHJlc3VsdHNldCkKICAgIH0gZWxzZSB7CiAgICAgIGNvbnRhaW5lci5zZXQoIkVYQ09OTyIsIGlDT05PKQogICAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMSwgcGFnZVNpemUsIHJlc3VsdHNldCkKICAgIH0KICB9CiAgQ2xvc3VyZSA8ID8gPiByZXN1bHRzZXQgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgIG1pLm91dERhdGEucHV0KCJXSExPIiwgY29udGFpbmVyLmdldCgiRVhXSExPIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJUUlRQIiwgY29udGFpbmVyLmdldCgiRVhUUlRQIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJMRk1UIiwgY29udGFpbmVyLmdldCgiRVhMRk1UIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJTRk1UIiwgY29udGFpbmVyLmdldCgiRVhTRk1UIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJDT05PIiwgY29udGFpbmVyLmdldCgiRVhDT05PIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJWT0wzIiwgY29udGFpbmVyLmdldCgiRVhWT0wzIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJMQU5FIiwgY29udGFpbmVyLmdldCgiRVhMQU5FIikudG9TdHJpbmcoKSkKICAgIG1pLm91dERhdGEucHV0KCJUVFlQIiwgY29udGFpbmVyLmdldCgiRVhUVFlQIikudG9TdHJpbmcoKSkKCiAgICBtaS53cml0ZSgpCgogIH0KfQ=="}}}