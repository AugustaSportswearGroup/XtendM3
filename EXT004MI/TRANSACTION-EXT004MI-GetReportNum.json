{"programModules":{"EXT004MI":{"program":"EXT004MI","triggers":{},"transactions":{"GetReportNum":{"sourceUuid":"c7a7cb6c-1524-408f-a9b8-9c4b5bf4c6ca","name":"GetReportNum","program":"EXT004MI","description":"Get Reporting Number","active":true,"multi":false,"modified":1688526982706,"modifiedBy":"M3CONSADMX","outputFields":[{"name":"PLRN","description":"Reporting Number","length":11,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"Warehouse Number","length":3,"mandatory":true,"type":"A"},{"name":"CAMU","description":"Container Number","length":20,"mandatory":true,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"c7a7cb6c-1524-408f-a9b8-9c4b5bf4c6ca":{"uuid":"c7a7cb6c-1524-408f-a9b8-9c4b5bf4c6ca","updated":1707734792559,"updatedBy":"ABHISHEK","created":1688526572715,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"D2EBAA59B8A37CE013AC47BA389DF5C7C386F20D9EEC9BA7CA9EED0A83511D80","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIGdldCB0aGUgcmVwb3J0aW5nIE51bWJlciBmcm9tIE0zCiAqCiAqIE5hbWU6IEVYVDAwNE1JLkdldFJlcG9ydE51bQogKiBEZXNjcmlwdGlvbjogIEdldCB0aGUgcmVwb3J0aW5nIE51bWJlciBmcm9tIE0zCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDYwNSAgU3VyaXlhTkBmb3J0dWRlLmNvICAgICBHZXQgdGhlIHJlcG9ydGluZyBOdW1iZXIgZnJvbSBNMwogKjIwMjQwMjEyICBBYmhpc2hla0FAZm9ydHVkZS5jbyAgIFVwZGF0aW5nIFZhbGlkYXRpb24gbG9naWMKICovCgpwdWJsaWMgY2xhc3MgR2V0UmVwb3J0TnVtIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBTdHJpbmcgaVdITE8sIGlDQU1VLCBtM0NBTVUKICBwcml2YXRlIGludCBpQ09OTwogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZSwgY29udGFpbmVyRXhpc3RzID0gZmFsc2UKCiAgcHVibGljIEdldFJlcG9ydE51bShNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKCiAgfQogIC8qKgogICAqKiBNYWluIGZ1bmN0aW9uCiAgICogQHBhcmFtCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQogICAgaUNBTVUgPSAobWkuaW5EYXRhLmdldCgiQ0FNVSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ0FNVSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDQU1VIikKCiAgICB2YWxpZGF0ZUlucHV0KCkKICAgIGlmICh2YWxpZElucHV0KSB7CiAgICAgIHNldE91dHB1dCgpCiAgICB9CgogIH0KCiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcCA8IFN0cmluZywgU3RyaW5nID4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlIDwgPyA+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1OUzA5NU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spCgogICAgLy9WYWxpZGF0ZSBXYXJlaG91c2UgTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIldITE8iOiBpV0hMTy50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5XSExPID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBXYXJlaG91c2UgTnVtYmVyICIgKyBpV0hMTykKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMDA1TUkiLCAiR2V0V2FyZWhvdXNlIiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAvL1ZhbGlkYXRlIGlmIHJlY29yZCBleGlzdHMKCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIkVYVENPTSIpCiAgICBleHByZXNzaW9uID0gZXhwcmVzc2lvbi5lcSgiRVhXSExPIiwgaVdITE8udG9TdHJpbmcoKS50cmltKCkpLmFuZChleHByZXNzaW9uLmVxKCJFWENBTVUiLCBpQ0FNVS50b1N0cmluZygpLnRyaW0oKSkpCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRDT00iKS5tYXRjaGluZyhleHByZXNzaW9uKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pCiAgICBpZiAoIXF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAxLCB2YWxpZGF0ZUNBTVUpKSB7CiAgICAgIG1pLmVycm9yKCJMdWNhcyBSZWNvcmQgZG9lc24ndCBleGlzdCBmb3IgdGhlIHdhcmVob3VzZSBjb250YWluZXIiKQogICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgcmV0dXJuCiAgICB9CgogICAgLy9DaGVjayBpZiBMb3QgZXhpc3RzCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHByZXNzaW9uTUlUTE9DID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1JVExPQyIpCiAgICBleHByZXNzaW9uTUlUTE9DID0gZXhwcmVzc2lvbk1JVExPQy5lcSgiTUxDQU1VIiwgaUNBTVUudG9TdHJpbmcoKS50cmltKCkpCiAgICBEQkFjdGlvbiBxdWVyeU1JVExPQyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRMT0MiKS5tYXRjaGluZyhleHByZXNzaW9uTUlUTE9DKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRMT0MgPSBxdWVyeU1JVExPQy5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyTUlUTE9DLnNldCgiTUxDT05PIiwgaUNPTk8pCiAgICBpZiAoIXF1ZXJ5TUlUTE9DLnJlYWRBbGwoY29udGFpbmVyTUlUTE9DLCAxLCB2YWxpZGF0ZU1JVExPQykpIHsKICAgICAgY29udGFpbmVyRXhpc3RzID0gZmFsc2UKICAgIH0KCiAgICAvL0lmIENvbnRhaW5lciBkb2Vzbid0IGV4aXN0LCB0cnkgd2l0aCBwcmVmaXggMzA3ODQzIChBdWd1c3RhIEJ1c2luZXNzIExvZ2ljKQogICAgaWYgKCFjb250YWluZXJFeGlzdHMpIHsKICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbk1JVExPQzEgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTUlUTE9DIikKICAgICAgZXhwcmVzc2lvbk1JVExPQzEgPSBleHByZXNzaW9uTUlUTE9DMS5lcSgiTUxDQU1VIiwgIjMwNzg0MyIgKyBpQ0FNVS50cmltKCkpCiAgICAgIERCQWN0aW9uIHF1ZXJ5TUlUTE9DMSA9IGRhdGFiYXNlLnRhYmxlKCJNSVRMT0MiKS5tYXRjaGluZyhleHByZXNzaW9uTUlUTE9DMSkuYnVpbGQoKQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRMT0MxID0gcXVlcnlNSVRMT0MxLmdldENvbnRhaW5lcigpCiAgICAgIGNvbnRhaW5lck1JVExPQzEuc2V0KCJNTENPTk8iLCBpQ09OTykKICAgICAgaWYgKCFxdWVyeU1JVExPQzEucmVhZEFsbChjb250YWluZXJNSVRMT0MxLCAxLCB2YWxpZGF0ZU1JVExPQzEpKSB7CiAgICAgICAgY29udGFpbmVyRXhpc3RzID0gZmFsc2UKICAgICAgfQoKICAgIH0KCiAgICAvL0lmIENvbnRhaW5lciBkb2Vzbid0IGV4aXN0LCB0cnkgd2l0aCBwcmVmaXggMzA3NjU2IChBdWd1c3RhIEJ1c2luZXNzIExvZ2ljKQogICAgaWYgKCFjb250YWluZXJFeGlzdHMpIHsKICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbk1JVExPQzIgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiTUlUTE9DIikKICAgICAgZXhwcmVzc2lvbk1JVExPQzIgPSBleHByZXNzaW9uTUlUTE9DMi5lcSgiTUxDQU1VIiwgIjMwNzY1NiIgKyBpQ0FNVS50cmltKCkpCiAgICAgIERCQWN0aW9uIHF1ZXJ5TUlUTE9DMiA9IGRhdGFiYXNlLnRhYmxlKCJNSVRMT0MiKS5tYXRjaGluZyhleHByZXNzaW9uTUlUTE9DMikuYnVpbGQoKQogICAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRMT0MyID0gcXVlcnlNSVRMT0MyLmdldENvbnRhaW5lcigpCiAgICAgIGNvbnRhaW5lck1JVExPQzIuc2V0KCJNTENPTk8iLCBpQ09OTykKICAgICAgaWYgKCFxdWVyeU1JVExPQzIucmVhZEFsbChjb250YWluZXJNSVRMT0MyLCAxLCB2YWxpZGF0ZU1JVExPQzIpKSB7CiAgICAgICAgY29udGFpbmVyRXhpc3RzID0gZmFsc2UKICAgICAgfQoKICAgIH0KCiAgICBpZiAoIWNvbnRhaW5lckV4aXN0cykgewogICAgICBtaS5lcnJvcigiQ29udGFpbmVyICIgKyBpQ0FNVSArICIgZG9lc24ndCBleGlzdCBpbiBNMy4iKQogICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgcmV0dXJuCiAgICB9CgogIH0KCiAgQ2xvc3VyZSA8ID8gPiB2YWxpZGF0ZUNBTVUgPSB7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KCiAgfQoKICBDbG9zdXJlIDwgPyA+IHZhbGlkYXRlTUlUTE9DID0gewogICAgREJDb250YWluZXIgY29udGFpbmVyIC0+CiAgICBtM0NBTVUgPSBpQ0FNVS50cmltKCkKICAgIGNvbnRhaW5lckV4aXN0cyA9IHRydWUKCiAgfQoKICBDbG9zdXJlIDwgPyA+IHZhbGlkYXRlTUlUTE9DMSA9IHsKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciAtPgogICAgbTNDQU1VID0gIjMwNzg0MyIgKyBpQ0FNVS50cmltKCkKICAgIGNvbnRhaW5lckV4aXN0cyA9IHRydWUKCiAgfQoKICBDbG9zdXJlIDwgPyA+IHZhbGlkYXRlTUlUTE9DMiA9IHsKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciAtPgogICAgbTNDQU1VID0gIjMwNzY1NiIgKyBpQ0FNVS50cmltKCkKICAgIGNvbnRhaW5lckV4aXN0cyA9IHRydWUKCiAgfQoKICAvKioKICAgKlNldE91dHB1dAogICAqIEBwYXJhbXMKICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgc2V0T3V0cHV0KCkgewogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwcmVzc2lvbiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNSVRBTE8iKQogICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24uZXEoIk1RVFRZUCIsICI5MiIpLmFuZChleHByZXNzaW9uLmVxKCJNUVdITE8iLCBpV0hMTykpLmFuZChleHByZXNzaW9uLmVxKCJNUUNBTVUiLCBtM0NBTVUpKQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUQUxPIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwcmVzc2lvbikuc2VsZWN0aW9uKCJNUVBMUk4iKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiTVFDT05PIiwgaUNPTk8pCiAgICBDbG9zdXJlIDwgPyA+IGdldFJlcG9ydGluZ051bWJlciA9IHsKICAgICAgREJDb250YWluZXIgY29udGFpbmVyUmVzdWx0IC0+CiAgICAgIG1pLm91dERhdGEucHV0KCJQTFJOIiwgY29udGFpbmVyUmVzdWx0LmdldCgiTVFQTFJOIikudG9TdHJpbmcoKSkKICAgIH0KCiAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMSwgZ2V0UmVwb3J0aW5nTnVtYmVyKQoKICB9Cn0="}}}