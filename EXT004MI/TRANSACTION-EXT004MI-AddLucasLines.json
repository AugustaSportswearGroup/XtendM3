{"programModules":{"EXT004MI":{"program":"EXT004MI","triggers":{},"transactions":{"AddLucasLines":{"sourceUuid":"9bb1b780-ce7e-44b4-b088-73f47e8ecc15","name":"AddLucasLines","program":"EXT004MI","description":"Add Lucas Details","active":true,"multi":false,"modified":1707723689683,"modifiedBy":"ABHISHEK","outputFields":[],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"WHLO","description":"Warehouse Number","length":3,"mandatory":true,"type":"A"},{"name":"RCID","description":"Route Carton ID","length":20,"mandatory":false,"type":"A"},{"name":"CISN","description":"Carton ID Ref #","length":6,"mandatory":false,"type":"A"},{"name":"RSTS","description":"Routing Status","length":2,"mandatory":false,"type":"A"},{"name":"LICP","description":"License Plate","length":20,"mandatory":false,"type":"A"},{"name":"WKFW","description":"Work Flow","length":2,"mandatory":false,"type":"N"},{"name":"PKTS","description":"Picking Status","length":2,"mandatory":false,"type":"A"},{"name":"DSNA","description":"Destination","length":2,"mandatory":false,"type":"A"},{"name":"PRTY","description":"Priority","length":2,"mandatory":false,"type":"N"},{"name":"PMCD","description":"Prompt Check Digit","length":5,"mandatory":false,"type":"N"},{"name":"PCCD","description":"Picker Check Digit","length":5,"mandatory":false,"type":"N"},{"name":"TTYP","description":"Stock Transaction Type","length":2,"mandatory":false,"type":"N"},{"name":"WHLT","description":"Location Type","length":2,"mandatory":false,"type":"A"},{"name":"SLTP","description":"Stock Zone","length":2,"mandatory":false,"type":"A"},{"name":"WHSL","description":"Location","length":10,"mandatory":true,"type":"A"},{"name":"TWSL","description":"To Location","length":10,"mandatory":false,"type":"A"},{"name":"SLT2","description":"To Stock Zone","length":2,"mandatory":false,"type":"A"},{"name":"CAMU","description":"Container","length":20,"mandatory":false,"type":"A"},{"name":"ORNO","description":"Customer Order Number","length":10,"mandatory":true,"type":"A"},{"name":"DLIX","description":"Delivery Number","length":11,"mandatory":true,"type":"N"},{"name":"TEPA","description":"Packaging Terms","length":3,"mandatory":false,"type":"A"},{"name":"SMPF","description":"Sample Pack Flag","length":1,"mandatory":false,"type":"N"},{"name":"ITNO","description":"Item Number","length":15,"mandatory":true,"type":"A"},{"name":"POPN","description":"Alias Number","length":30,"mandatory":false,"type":"A"},{"name":"ITDS","description":"Name","length":30,"mandatory":false,"type":"A"},{"name":"STAT","description":"Item Status","length":2,"mandatory":false,"type":"A"},{"name":"DCCD","description":"Number of decimal places. ","length":1,"mandatory":false,"type":"N"},{"name":"UNMS","description":"Basic Unit of Measure","length":3,"mandatory":false,"type":"A"},{"name":"VOL3","description":"Item Volume","length":9,"mandatory":false,"type":"N"},{"name":"NEWE","description":"Net Weight","length":9,"mandatory":false,"type":"N"},{"name":"ALUC","description":"Alternate U/M in use","length":1,"mandatory":false,"type":"N"},{"name":"GRTS","description":"Case Package","length":5,"mandatory":false,"type":"A"},{"name":"PCKQ","description":"Case Pack Qty","length":15,"mandatory":false,"type":"N"},{"name":"HAZI","description":"Danger indicator","length":1,"mandatory":false,"type":"N"},{"name":"SALE","description":"Sales Item","length":1,"mandatory":false,"type":"N"},{"name":"SZNM","description":"Size Name","length":30,"mandatory":false,"type":"A"},{"name":"CLNM","description":"Color Name","length":30,"mandatory":false,"type":"A"},{"name":"RESP","description":"Resp. Oper.","length":10,"mandatory":false,"type":"A"},{"name":"TPQT","description":"To Pick Quantity","length":15,"mandatory":false,"type":"N"},{"name":"PCQT","description":"To Pick Quantity","length":15,"mandatory":false,"type":"N"},{"name":"SHQT","description":"Short Quantity","length":15,"mandatory":false,"type":"N"},{"name":"EPWT","description":"Exp. Tot Weight","length":9,"mandatory":false,"type":"N"},{"name":"AUWT","description":"Act. Unt Wgt.","length":9,"mandatory":false,"type":"N"},{"name":"ACWT","description":"Act. Tot Wgt. ","length":9,"mandatory":false,"type":"N"},{"name":"QAR1","description":"QA Result 1","length":2,"mandatory":false,"type":"A"},{"name":"QAR2","description":"QA Result 2","length":2,"mandatory":false,"type":"A"},{"name":"TDNT","description":"Trans. Dt. Tm","length":15,"mandatory":false,"type":"N"},{"name":"FACI","description":"Facility Number","length":3,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"9bb1b780-ce7e-44b4-b088-73f47e8ecc15":{"uuid":"9bb1b780-ce7e-44b4-b088-73f47e8ecc15","updated":1707724052448,"updatedBy":"ABHISHEK","created":1687889090499,"createdBy":"M3CONSADMX","apiVersion":"0.9","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"809EE3B2A8E8AD4A22EEB54209729CBD88C4F6B020B7B49F9A3E0315CA830A27","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIEFkZCByZWNvcmRzIHRvIEVYVENPTSB0YWJsZS4gCiAqCiAqIE5hbWU6IEVYVDAwNE1JLkFkZEx1Y2FzTGluZXMKICogRGVzY3JpcHRpb246IEFkZGluZyByZWNvcmRzIHRvIEVYVENPTSB0YWJsZSAKICogRGF0ZQkgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uCiAqMjAyMzA2MjcgIFN1cml5YU5AZm9ydHVkZS5jbyAgICAgQWRkaW5nIHJlY29yZHMgdG8gRVhUQ09NIHRhYmxlIAogKjIwMjQwMjEyICBBYmhpc2hla0FAZm9ydHVkZS5jbyAgIFVwZGF0aW5nIFZhbGlkYXRpb24gbG9naWMKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBBZGRMdWNhc0xpbmVzIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2UKICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXIKCiAgcHJpdmF0ZSBTdHJpbmcgaURJVkksIGlXSExPLCBpUkNJRCwgaUxJQ1AsIGlQS1RTLCBpRFNOQSwgaVdITFQsIGlTTFRQLCBpV0hTTCwgaVRXU0wsIGlTTFQyLCBpQ0FNVSwgaU9STk8sIGlJVE5PLCBpSVREUywgaVNUQVQsIGlVTk1TLCBpR1JUUywgaVNaTk0sIGlDTE5NLCBpUkVTUCwgaVFBUjEsIGlRQVIyLCBpRkFDSSwgaUNJU04KICBwcml2YXRlIGludCBpQ09OTywgaVdLRlcsIGlQUlRZLCBpUE1DRCwgaVBDQ0QsIGlUVFlQLCBpU01QRiwgaURDQ0QKICBwcml2YXRlIGRvdWJsZSBpVEROVCwgaVZPTDMsIGlORVdFLCBpUENLUSwgaVRQUVQsIGlQQ1FULCBpU0hRVCwgaUVQV1QsIGlBVVdULCBpQUNXVAogIHByaXZhdGUgbG9uZyBpRExJWAogIHByaXZhdGUgYm9vbGVhbiB2YWxpZElucHV0ID0gdHJ1ZQoKICBwdWJsaWMgQWRkTHVjYXNMaW5lcyhNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIpIHsKICAgIHRoaXMubWkgPSBtaQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXIKICB9CiAgLyoqCiAgICoqIE1haW4gZnVuY3Rpb24KICAgKiBAcGFyYW0KICAgKiBAcmV0dXJuCiAgICovCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGlESVZJID0gKG1pLmluRGF0YS5nZXQoIkRJVkkiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkuaXNFbXB0eSgpKSA/IHByb2dyYW0uTERBWkQuRElWSSA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKQogICAgaVdITE8gPSAobWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJXSExPIikKICAgIGlSQ0lEID0gKG1pLmluRGF0YS5nZXQoIlJDSUQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJDSUQiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUkNJRCIpCiAgICBpTElDUCA9IChtaS5pbkRhdGEuZ2V0KCJMSUNQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJMSUNQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkxJQ1AiKQogICAgaVBLVFMgPSAobWkuaW5EYXRhLmdldCgiUEtUUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUEtUUyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQS1RTIikKICAgIGlEU05BID0gKG1pLmluRGF0YS5nZXQoIkRTTkEiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRTTkEiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRFNOQSIpCiAgICBpV0hMVCA9IChtaS5pbkRhdGEuZ2V0KCJXSExUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITFQiKQogICAgaVNMVFAgPSAobWkuaW5EYXRhLmdldCgiU0xUUCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0xUUCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTTFRQIikKICAgIGlXSFNMID0gKG1pLmluRGF0YS5nZXQoIldIU0wiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIldIU0wiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hTTCIpCiAgICBpVFdTTCA9IChtaS5pbkRhdGEuZ2V0KCJUV1NMIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUV1NMIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlRXU0wiKQogICAgaVNMVDIgPSAobWkuaW5EYXRhLmdldCgiU0xUMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0xUMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTTFQyIikKICAgIGlDQU1VID0gKG1pLmluRGF0YS5nZXQoIkNBTVUiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkNBTVUiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ0FNVSIpCiAgICBpT1JOTyA9IChtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJPUk5PIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk9STk8iKQogICAgaUlUTk8gPSAobWkuaW5EYXRhLmdldCgiSVROTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiSVROTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVE5PIikKICAgIGlJVERTID0gKG1pLmluRGF0YS5nZXQoIklURFMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIklURFMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVREUyIpCiAgICBpU1RBVCA9IChtaS5pbkRhdGEuZ2V0KCJTVEFUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTVEFUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQVQiKQogICAgaVVOTVMgPSAobWkuaW5EYXRhLmdldCgiVU5NUyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiVU5NUyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJVTk1TIikKICAgIGlHUlRTID0gKG1pLmluRGF0YS5nZXQoIkdSVFMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkdSVFMiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiR1JUUyIpCiAgICBpU1pOTSA9IChtaS5pbkRhdGEuZ2V0KCJTWk5NIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJTWk5NIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNaTk0iKQogICAgaUNMTk0gPSAobWkuaW5EYXRhLmdldCgiQ0xOTSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ0xOTSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDTE5NIikKICAgIGlSRVNQID0gKG1pLmluRGF0YS5nZXQoIlJFU1AiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlJFU1AiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiUkVTUCIpCiAgICBpUUFSMSA9IChtaS5pbkRhdGEuZ2V0KCJRQVIxIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJRQVIxIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlFBUjEiKQogICAgaVFBUjIgPSAobWkuaW5EYXRhLmdldCgiUUFSMiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUUFSMiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJRQVIyIikKICAgIGlGQUNJID0gKG1pLmluRGF0YS5nZXQoIkZBQ0kiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkZBQ0kiKS50cmltKCkuaXNFbXB0eSgpKSA/ICIiIDogbWkuaW5EYXRhLmdldCgiRkFDSSIpCiAgICBpQ0lTTiA9IChtaS5pbkRhdGEuZ2V0KCJDSVNOIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDSVNOIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiQ0lTTiIpCgogICAgaUNPTk8gPSAobWkuaW5EYXRhLmdldCgiQ09OTyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQ09OTyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIEludGVnZXIgOiBtaS5pbkRhdGEuZ2V0KCJDT05PIikgYXMgSW50ZWdlcgogICAgaVdLRlcgPSAobWkuaW5EYXRhLmdldCgiV0tGVyIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiV0tGVyIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIldLRlciKSBhcyBJbnRlZ2VyCiAgICBpUFJUWSA9IChtaS5pbkRhdGEuZ2V0KCJQUlRZIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQUlRZIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUFJUWSIpIGFzIEludGVnZXIKICAgIGlQTUNEID0gKG1pLmluRGF0YS5nZXQoIlBNQ0QiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlBNQ0QiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJQTUNEIikgYXMgSW50ZWdlcgogICAgaVBDQ0QgPSAobWkuaW5EYXRhLmdldCgiUENDRCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUENDRCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlBDQ0QiKSBhcyBJbnRlZ2VyCiAgICBpVFRZUCA9IChtaS5pbkRhdGEuZ2V0KCJUVFlQIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJUVFlQIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiVFRZUCIpIGFzIEludGVnZXIKICAgIGlETElYID0gKG1pLmluRGF0YS5nZXQoIkRMSVgiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkRMSVgiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJETElYIikgYXMgTG9uZwogICAgaVNNUEYgPSAobWkuaW5EYXRhLmdldCgiU01QRiIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU01QRiIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlNNUEYiKSBhcyBJbnRlZ2VyCiAgICBpRENDRCA9IChtaS5pbkRhdGEuZ2V0KCJEQ0NEIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJEQ0NEIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiRENDRCIpIGFzIEludGVnZXIKICAgIGlWT0wzID0gKG1pLmluRGF0YS5nZXQoIlZPTDMiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlZPTDMiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJWT0wzIikgYXMgRG91YmxlCiAgICBpTkVXRSA9IChtaS5pbkRhdGEuZ2V0KCJORVdFIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJORVdFIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiTkVXRSIpIGFzIERvdWJsZQogICAgaVBDS1EgPSAobWkuaW5EYXRhLmdldCgiUENLUSIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiUENLUSIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlBDS1EiKSBhcyBEb3VibGUKICAgIGlUUFFUID0gKG1pLmluRGF0YS5nZXQoIlRQUVQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlRQUVQiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJUUFFUIikgYXMgRG91YmxlCiAgICBpUENRVCA9IChtaS5pbkRhdGEuZ2V0KCJQQ1FUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJQQ1FUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiUENRVCIpIGFzIERvdWJsZQogICAgaVNIUVQgPSAobWkuaW5EYXRhLmdldCgiU0hRVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiU0hRVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIlNIUVQiKSBhcyBEb3VibGUKICAgIGlFUFdUID0gKG1pLmluRGF0YS5nZXQoIkVQV1QiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIkVQV1QiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJFUFdUIikgYXMgRG91YmxlCiAgICBpQVVXVCA9IChtaS5pbkRhdGEuZ2V0KCJBVVdUIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJBVVdUIikudHJpbSgpLmlzRW1wdHkoKSkgPyAwIDogbWkuaW5EYXRhLmdldCgiQVVXVCIpIGFzIERvdWJsZQogICAgaUFDV1QgPSAobWkuaW5EYXRhLmdldCgiQUNXVCIpID09IG51bGwgfHwgbWkuaW5EYXRhLmdldCgiQUNXVCIpLnRyaW0oKS5pc0VtcHR5KCkpID8gMCA6IG1pLmluRGF0YS5nZXQoIkFDV1QiKSBhcyBEb3VibGUKICAgIGlURE5UID0gKG1pLmluRGF0YS5nZXQoIlRETlQiKSA9PSBudWxsIHx8IG1pLmluRGF0YS5nZXQoIlRETlQiKS50cmltKCkuaXNFbXB0eSgpKSA/IDAgOiBtaS5pbkRhdGEuZ2V0KCJURE5UIikgYXMgRG91YmxlCgogICAgdmFsaWRhdGVJbnB1dCgpCiAgICBpZiAodmFsaWRJbnB1dCkgewogICAgICBpbnNlcnRSZWNvcmQoKQogICAgfQogIH0KCiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4gCiAgICovCiAgcHVibGljIHZvaWQgdmFsaWRhdGVJbnB1dCgpIHsKCiAgICAvL1ZhbGlkYXRlIENvbXBhbnkgTnVtYmVyCiAgICBNYXAgPCBTdHJpbmcsIFN0cmluZyA+IHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgQ2xvc3VyZSA8ID8gPiBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuQ09OTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgQ29tcGFueSBOdW1iZXIgIiArIGlDT05PKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgRGl2aXNpb24KICAgIGlmICghaURJVkkudG9TdHJpbmcoKS50cmltKCkpIHsKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJESVZJIjogaURJVkkudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5ESVZJID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERpdmlzaW9uICIgKyBpRElWSSkKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CgogICAgICBtaUNhbGxlci5jYWxsKCJNTlMxMDBNSSIsICJHZXRCYXNpY0RhdGEiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQoKICAgIC8vVmFsaWRhdGUgSXRlbSBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiSVROTyI6IGlJVE5PLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLklUTk8gPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEl0ZW0gTnVtYmVyICIgKyBpSVROTykKICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogICAgbWlDYWxsZXIuY2FsbCgiTU1TMjAwTUkiLCAiR2V0IiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAvL1ZhbGlkYXRlIE9yZGVyIE51bWJlcgogICAgcGFyYW1zID0gWyJPUk5PIjogaU9STk8udG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuT1JOTyA9PSBudWxsKSB7CiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk9JUzEwME1JIiwgIkdldE9yZGVySGVhZCIsIHBhcmFtcywgY2FsbGJhY2spCiAgICAvL0lmIG5vdCBDTywgY2hlY2sgaWYgdmFsaWQgRE8KICAgIGlmICghdmFsaWRJbnB1dCkgewogICAgICB2YWxpZElucHV0ID0gdHJ1ZQogICAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIlRSTlIiOiBpT1JOTy50b1N0cmluZygpLnRyaW0oKV0KICAgICAgY2FsbGJhY2sgPSB7CiAgICAgICAgTWFwIDwgU3RyaW5nLAogICAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgICAgaWYgKHJlc3BvbnNlLlRSTlIgPT0gbnVsbCkgewogICAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgT3JkZXIgTnVtYmVyICIgKyBpT1JOTykKICAgICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzEwME1JIiwgIkdldEhlYWQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQoKICAgIC8vVmFsaWRhdGUgRGVsaXZlcnkgTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIkRMSVgiOiBpRExJWC50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5ETElYID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEZWxpdmVyeSBOdW1iZXIgIiArIGlETElYKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNV1M0MTBNSSIsICJHZXRIZWFkIiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICAvL1ZhbGlkYXRlIFdhcmVob3VzZSBOdW1iZXIKICAgIHBhcmFtcyA9IFsiQ09OTyI6IGlDT05PLnRvU3RyaW5nKCkudHJpbSgpLCAiV0hMTyI6IGlXSExPLnRvU3RyaW5nKCkudHJpbSgpXQogICAgY2FsbGJhY2sgPSB7CiAgICAgIE1hcCA8IFN0cmluZywKICAgICAgU3RyaW5nID4gcmVzcG9uc2UgLT4KICAgICAgaWYgKHJlc3BvbnNlLldITE8gPT0gbnVsbCkgewogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFdhcmVob3VzZSBOdW1iZXIgIiArIGlXSExPKQogICAgICAgIHZhbGlkSW5wdXQgPSBmYWxzZQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTVMwMDVNSSIsICJHZXRXYXJlaG91c2UiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgTG9jYXRpb24gTnVtYmVyCiAgICBwYXJhbXMgPSBbIkNPTk8iOiBpQ09OTy50b1N0cmluZygpLnRyaW0oKSwgIldITE8iOiBpV0hMTy50b1N0cmluZygpLnRyaW0oKSwgIldIU0wiOiBpV0hTTC50b1N0cmluZygpLnRyaW0oKV0KICAgIGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5XSExPID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBMb2NhdGlvbiAiICsgaVdIU0wpCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIG1pQ2FsbGVyLmNhbGwoIk1NUzAxME1JIiwgIkdldExvY2F0aW9uIiwgcGFyYW1zLCBjYWxsYmFjaykKCiAgICBpZiAoIWlGQUNJLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgLy9WYWxpZGF0ZSBGYWNpbGl0eSBOdW1iZXIKICAgICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJGQUNJIjogaUZBQ0kudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5GQUNJID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIEZhY2lsaXR5IE51bWJlciAiICsgaUZBQ0kpCiAgICAgICAgICB2YWxpZElucHV0ID0gZmFsc2UKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgICBtaUNhbGxlci5jYWxsKCJDUlMwMDhNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgfQoKICAgIC8vVmFsaWRhdGUgU3RvY2sgWm9uZQogICAgaWYgKCFpU0xUUC50b1N0cmluZygpLnRyaW0oKS5pc0VtcHR5KCkpIHsKICAgICAgcGFyYW1zID0gWyJXSExPIjogaVdITE8udG9TdHJpbmcoKS50cmltKCksICJTTFRQIjogaVNMVFAudG9TdHJpbmcoKS50cmltKCldCiAgICAgIGNhbGxiYWNrID0gewogICAgICAgIE1hcCA8IFN0cmluZywKICAgICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICAgIGlmIChyZXNwb25zZS5TTFRQID09IG51bGwpIHsKICAgICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIFN0b2NrIFpvbmUgIiArIGlTTFRQKQogICAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgbWlDYWxsZXIuY2FsbCgiTU1TMDQwTUkiLCAiR2V0U3RvY2tab25lIiwgcGFyYW1zLCBjYWxsYmFjaykKICAgIH0KICB9CgogIC8qKgogICAqSW5zZXJ0IHJlY29yZHMgdG8gRVhUQ09NIHRhYmxlCiAgICogQHBhcmFtcyAKICAgKiBAcmV0dXJuIAogICAqLwogIHB1YmxpYyB2b2lkIGluc2VydFJlY29yZCgpIHsKICAgIERCQWN0aW9uIGFjdGlvbiA9IGRhdGFiYXNlLnRhYmxlKCJFWFRDT00iKS5pbmRleCgiMDAiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBxdWVyeSA9IGFjdGlvbi5nZXRDb250YWluZXIoKQoKICAgIHF1ZXJ5LnNldCgiRVhESVZJIiwgaURJVkkpCiAgICBxdWVyeS5zZXQoIkVYV0hMTyIsIGlXSExPKQogICAgcXVlcnkuc2V0KCJFWFJDSUQiLCBpUkNJRCkKICAgIHF1ZXJ5LnNldCgiRVhMSUNQIiwgaUxJQ1ApCiAgICBxdWVyeS5zZXQoIkVYUEtUUyIsIGlQS1RTKQogICAgcXVlcnkuc2V0KCJFWERTTkEiLCBpRFNOQSkKICAgIHF1ZXJ5LnNldCgiRVhXSExUIiwgaVdITFQpCiAgICBxdWVyeS5zZXQoIkVYU0xUUCIsIGlTTFRQKQogICAgcXVlcnkuc2V0KCJFWFdIU0wiLCBpV0hTTCkKICAgIHF1ZXJ5LnNldCgiRVhUV1NMIiwgaVRXU0wpCiAgICBxdWVyeS5zZXQoIkVYU0xUMiIsIGlTTFQyKQogICAgcXVlcnkuc2V0KCJFWENBTVUiLCBpQ0FNVSkKICAgIHF1ZXJ5LnNldCgiRVhPUk5PIiwgaU9STk8pCiAgICBxdWVyeS5zZXQoIkVYSVROTyIsIGlJVE5PKQogICAgcXVlcnkuc2V0KCJFWElURFMiLCBpSVREUykKICAgIHF1ZXJ5LnNldCgiRVhTVEFUIiwgaVNUQVQpCiAgICBxdWVyeS5zZXQoIkVYVU5NUyIsIGlVTk1TKQogICAgcXVlcnkuc2V0KCJFWEdSVFMiLCBpR1JUUykKICAgIHF1ZXJ5LnNldCgiRVhTWk5NIiwgaVNaTk0pCiAgICBxdWVyeS5zZXQoIkVYQ0xOTSIsIGlDTE5NKQogICAgcXVlcnkuc2V0KCJFWFJFU1AiLCBpUkVTUCkKICAgIHF1ZXJ5LnNldCgiRVhRQVIxIiwgaVFBUjEpCiAgICBxdWVyeS5zZXQoIkVYUUFSMiIsIGlRQVIyKQogICAgcXVlcnkuc2V0KCJFWEZBQ0kiLCBpRkFDSSkKICAgIHF1ZXJ5LnNldCgiRVhDSVNOIiwgaUNJU04pCiAgICBxdWVyeS5zZXQoIkVYQ09OTyIsIGlDT05PIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYV0tGVyIsIGlXS0ZXIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYUFJUWSIsIGlQUlRZIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYUE1DRCIsIGlQTUNEIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYUENDRCIsIGlQQ0NEIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYVFRZUCIsIGlUVFlQIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYRExJWCIsIGlETElYIGFzIExvbmcpCiAgICBxdWVyeS5zZXQoIkVYU01QRiIsIGlTTVBGIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYRENDRCIsIGlEQ0NEIGFzIEludGVnZXIpCiAgICBxdWVyeS5zZXQoIkVYVk9MMyIsIGlWT0wzIGFzIERvdWJsZSkKICAgIHF1ZXJ5LnNldCgiRVhORVdFIiwgaU5FV0UgYXMgRG91YmxlKQogICAgcXVlcnkuc2V0KCJFWFBDS1EiLCBpUENLUSBhcyBEb3VibGUpCiAgICBxdWVyeS5zZXQoIkVYVFBRVCIsIGlUUFFUIGFzIERvdWJsZSkKICAgIHF1ZXJ5LnNldCgiRVhQQ1FUIiwgaVBDUVQgYXMgRG91YmxlKQogICAgcXVlcnkuc2V0KCJFWFNIUVQiLCBpU0hRVCBhcyBEb3VibGUpCiAgICBxdWVyeS5zZXQoIkVYRVBXVCIsIGlFUFdUIGFzIERvdWJsZSkKICAgIHF1ZXJ5LnNldCgiRVhBVVdUIiwgaUFVV1QgYXMgRG91YmxlKQogICAgcXVlcnkuc2V0KCJFWEFDV1QiLCBpQUNXVCBhcyBEb3VibGUpCiAgICBxdWVyeS5zZXQoIkVYVEROVCIsIGlURE5UIGFzIERvdWJsZSkKICAgIHF1ZXJ5LnNldCgiRVhSR0RUIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKSkKICAgIHF1ZXJ5LnNldCgiRVhSR1RNIiwgTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIkVYTE1EVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIkVYTE1UTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgcXVlcnkuc2V0KCJFWENITk8iLCAwKQogICAgcXVlcnkuc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgIGFjdGlvbi5pbnNlcnQocXVlcnksIHJlY29yZEV4aXN0cykKICB9CgogIENsb3N1cmUgcmVjb3JkRXhpc3RzID0gewogICAgbWkuZXJyb3IoIlJlY29yZCBBbHJlYWR5IEV4aXN0cyIpCiAgICByZXR1cm4KICB9Cn0="}}}