{"programModules":{"EXT004MI":{"program":"EXT004MI","triggers":{},"transactions":{"GetCartonSeqNum":{"sourceUuid":"843090a0-49e7-4af4-b1f8-6f29525d8bae","name":"GetCartonSeqNum","program":"EXT004MI","description":"Get Carton Sequence Number","active":true,"multi":false,"modified":1689460790211,"modifiedBy":"SADANGJ","outputFields":[{"name":"CISN","description":"Carton sequence number","length":6,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CONO","description":"Company Number","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"Warehouse Number","length":3,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"843090a0-49e7-4af4-b1f8-6f29525d8bae":{"uuid":"843090a0-49e7-4af4-b1f8-6f29525d8bae","updated":1707724551597,"updatedBy":"ABHISHEK","created":1689368222491,"createdBy":"SADANGJ","apiVersion":"0.9","beVersion":"16.0.0.20231123104741.6","language":"GROOVY","codeHash":"ADE9EF121F30E69186DE825A3A926401F691755B1F6DE2A653D71DCE692C4207","code":"LyoqCiAqIFJFQURNRQogKiBUaGlzIGV4dGVuc2lvbiBpcyBiZWluZyB1c2VkIHRvIGdldCB0aGUgY2FydG9uIHNlcXVlbmNlIE51bWJlciBmcm9tIE0zCiAqCiAqIE5hbWU6IEVYVDAwNE1JLkdldENhcnRvblNlcU51bQogKiBEZXNjcmlwdGlvbjogIEdldCB0aGUgY2FydG9uIHNlcXVlbmNlIE51bWJlciBmcm9tIE0zCiAqIERhdGUJICAgICAgQ2hhbmdlZCBCeSAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24KICoyMDIzMDYwNSAgU3VyaXlhTkBmb3J0dWRlLmNvICAgICBHZXQgdGhlIGNhcnRvbiBzZXF1ZW5jZSBOdW1iZXIgZnJvbSBNMwogKjIwMjQwMjEyICBBYmhpc2hla0FAZm9ydHVkZS5jbyAgIFVwZGF0aW5nIFZhbGlkYXRpb24gbG9naWMKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWUKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXIKCnB1YmxpYyBjbGFzcyBHZXRDYXJ0b25TZXFOdW0gZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsKICBwcml2YXRlIGZpbmFsIE1JQVBJIG1pCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtCiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcgoKICBwcml2YXRlIFN0cmluZyBpV0hMTywgaUNBTVUsIG0zQ0FNVSwgY2FydG9uU2VxTnVtCiAgcHJpdmF0ZSBpbnQgaUNPTk8KICBwcml2YXRlIGJvb2xlYW4gdmFsaWRJbnB1dCA9IHRydWUsIGNvbnRhaW5lckV4aXN0cyA9IGZhbHNlCgogIHB1YmxpYyBHZXRDYXJ0b25TZXFOdW0oTUlBUEkgbWksIERhdGFiYXNlQVBJIGRhdGFiYXNlLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyKSB7CiAgICB0aGlzLm1pID0gbWkKICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyCiAgfQogIC8qKgogICAqKiBNYWluIGZ1bmN0aW9uCiAgICogQHBhcmFtCiAgICogQHJldHVybgogICAqLwogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpQ09OTyA9IChtaS5pbkRhdGEuZ2V0KCJDT05PIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJDT05PIikudHJpbSgpLmlzRW1wdHkoKSkgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgSW50ZWdlciA6IG1pLmluRGF0YS5nZXQoIkNPTk8iKSBhcyBJbnRlZ2VyCiAgICBpV0hMTyA9IChtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCB8fCBtaS5pbkRhdGEuZ2V0KCJXSExPIikudHJpbSgpLmlzRW1wdHkoKSkgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKQoKICAgIHZhbGlkYXRlSW5wdXQoKQogICAgaWYodmFsaWRJbnB1dCkKICAgIHsKICAgICAgc2V0T3V0cHV0KCkKICAgIH0KICAgIAogIH0KCiAgLyoqCiAgICpWYWxpZGF0ZSBSZWNvcmRzCiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgdm9pZCB2YWxpZGF0ZUlucHV0KCkgewoKICAgIC8vVmFsaWRhdGUgQ29tcGFueSBOdW1iZXIKICAgIE1hcDxTdHJpbmcsIFN0cmluZz4gcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCldCiAgICBDbG9zdXJlPD8+IGNhbGxiYWNrID0gewogICAgICBNYXAgPCBTdHJpbmcsCiAgICAgIFN0cmluZyA+IHJlc3BvbnNlIC0+CiAgICAgIGlmIChyZXNwb25zZS5DT05PID09IG51bGwpIHsKICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBDb21wYW55IE51bWJlciAiICsgaUNPTk8pCiAgICAgICAgcmV0dXJuIAogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTlMwOTVNSSIsICJHZXQiLCBwYXJhbXMsIGNhbGxiYWNrKQoKICAgIC8vVmFsaWRhdGUgV2FyZWhvdXNlIE51bWJlcgogICAgcGFyYW1zID0gWyJDT05PIjogaUNPTk8udG9TdHJpbmcoKS50cmltKCksICJXSExPIjogaVdITE8udG9TdHJpbmcoKS50cmltKCldCiAgICBjYWxsYmFjayA9IHsKICAgICAgTWFwIDwgU3RyaW5nLAogICAgICBTdHJpbmcgPiByZXNwb25zZSAtPgogICAgICBpZiAocmVzcG9uc2UuV0hMTyA9PSBudWxsKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgV2FyZWhvdXNlIE51bWJlciAiICsgaVdITE8pCiAgICAgICAgdmFsaWRJbnB1dCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIAogICAgICB9CiAgICB9CiAgICBtaUNhbGxlci5jYWxsKCJNTVMwMDVNSSIsICJHZXRXYXJlaG91c2UiLCBwYXJhbXMsIGNhbGxiYWNrKQogICAgCiAgfQogIAogIC8qKgogICAqU2V0T3V0cHV0CiAgICogQHBhcmFtcwogICAqIEByZXR1cm4KICAgKi8KICBwdWJsaWMgc2V0T3V0cHV0KCkgewogICAgdXBkYXRlTUJNVFJEUmVjb3JkKCkKICAgIG1pLm91dERhdGEucHV0KCJDSVNOIiwgY2FydG9uU2VxTnVtKQogIH0KICAKICAvKioKICAgKlVwZGF0ZSByZWNvcmRzIHRvIE1CTVRSRCB0YWJsZQogICAqIEBwYXJhbXMgCiAgICogQHJldHVybiAKICAgKi8KICBwdWJsaWMgdXBkYXRlTUJNVFJEUmVjb3JkKCkgewogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUJNVFJEIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJURFRYMTUiKS5idWlsZCgpCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQogICAgY29udGFpbmVyLnNldCgiVERDT05PIiwgaUNPTk8pCiAgICBjb250YWluZXIuc2V0KCJURERJVkkiLCAiIikKICAgIGNvbnRhaW5lci5zZXQoIlRESURUUiIsIDI1NCkKICAgIGNvbnRhaW5lci5zZXQoIlRETVZYUCIsICIiKQogICAgY29udGFpbmVyLnNldCgiVERFWFRQIiwgIiIpCiAgICBjb250YWluZXIuc2V0KCJURE1WWEQiLCAiQ0lTTiIgKyBpV0hMTykKICAgIGNvbnRhaW5lci5zZXQoIlRETUJNRCIsICJDSVNOIiArIGlXSExPKQogICAgaWYgKHF1ZXJ5LnJlYWQoY29udGFpbmVyKSkgewogICAgICBxdWVyeS5yZWFkTG9jayhjb250YWluZXIsIHVwZGF0ZUNhbGxCYWNrKQogICAgfSBlbHNlIHsKICAgICAgaW5zZXJ0TUJNVFJEUmVjb3JkKCkKICAgICAgcmV0dXJuCiAgICAgIH0KICB9CgogIENsb3N1cmU8Pz4gdXBkYXRlQ2FsbEJhY2sgPSB7CiAgICBMb2NrZWRSZXN1bHQgbG9ja2VkUmVzdWx0IC0+CiAgICBTdHJpbmcgY2lzbiA9IGxvY2tlZFJlc3VsdC5nZXQoIlREVFgxNSIpCiAgICBjaXNuID0gY2lzbi5zdWJzdHJpbmcoMCwgNikKCQlTdHJpbmcgZmlyc3REaWdpdHMgPSBjaXNuLnN1YnN0cmluZygwLCAzKQoJCWlmIChmaXJzdERpZ2l0cy5pc0ludGVnZXIoKSA9PSBmYWxzZSkgewoJCQlmaXJzdERpZ2l0cyA9ICIwMDEiCgkJfSBlbHNlIHsKCQkJaW50IGZkID0gSW50ZWdlci5wYXJzZUludChmaXJzdERpZ2l0cykKCQkJZmQgPSBmZCArIDE7CgkJCWlmIChmZCA+PSA5OTgpIHsKCQkJCWZpcnN0RGlnaXRzID0gIjAwMSIKCQkJfSBlbHNlIHsKCQkJCWZpcnN0RGlnaXRzID0gIjAwMCIgKyBmZAoJCQkJZmlyc3REaWdpdHMgPSBmaXJzdERpZ2l0cy5zdWJzdHJpbmcoZmlyc3REaWdpdHMubGVuZ3RoKCkgLSAzKQoJCQl9CgkJfQoKCQlTdHJpbmcgbGFzdERpZ2l0cyA9IGNpc24uc3Vic3RyaW5nKDMpOwoJCWlmIChsYXN0RGlnaXRzLmlzSW50ZWdlcigpID09IGZhbHNlKSB7CgkJCWxhc3REaWdpdHMgPSAiOTk5IgoJCX0gZWxzZSB7CgkJCWludCBsZCA9IEludGVnZXIucGFyc2VJbnQobGFzdERpZ2l0cykKCQkJbGQgPSBsZCAtIDEKCQkJaWYgKGxkIDw9IDEpIHsKCQkJCWxhc3REaWdpdHMgPSAiOTk5IgoJCQl9IGVsc2UgewoJCQkJbGFzdERpZ2l0cyA9ICIwMDAiICsgbGQKCQkJCWxhc3REaWdpdHMgPSBsYXN0RGlnaXRzLnN1YnN0cmluZyhsYXN0RGlnaXRzLmxlbmd0aCgpIC0gMykKCQkJfQoJCX0KCgkJY2FydG9uU2VxTnVtID0gZmlyc3REaWdpdHMgKyBsYXN0RGlnaXRzCgkJbG9ja2VkUmVzdWx0LnNldCgiVERUWDE1IiwgY2FydG9uU2VxTnVtKQogICAgbG9ja2VkUmVzdWx0LnNldCgiVERDSE5PIiwgSW50ZWdlci5wYXJzZUludChmaXJzdERpZ2l0cykpCiAgICBsb2NrZWRSZXN1bHQuc2V0KCJURExNRFQiLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQogICAgbG9ja2VkUmVzdWx0LnNldCgiVERDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpCiAgICBsb2NrZWRSZXN1bHQudXBkYXRlKCkKICB9CiAgICAKICBwdWJsaWMgaW5zZXJ0TUJNVFJEUmVjb3JkKCkgewogICAgREJBY3Rpb24gYWN0aW9uID0gZGF0YWJhc2UudGFibGUoIk1CTVRSRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCkKICAgIERCQ29udGFpbmVyIHF1ZXJ5ID0gYWN0aW9uLmdldENvbnRhaW5lcigpCiAgICBjYXJ0b25TZXFOdW0gPSAiMDAxOTk5IgogICAgcXVlcnkuc2V0KCJURENPTk8iLCBpQ09OTykKICAgIHF1ZXJ5LnNldCgiVERESVZJIiwgIiIpCiAgICBxdWVyeS5zZXQoIlRESURUUiIsIDI1NCkKICAgIHF1ZXJ5LnNldCgiVERNVlhQIiwgIiIpCiAgICBxdWVyeS5zZXQoIlRERVhUUCIsICIiKQogICAgcXVlcnkuc2V0KCJURE1WWEQiLCAiQ0lTTiIgKyBpV0hMTykKICAgIHF1ZXJ5LnNldCgiVERNQk1EIiwgIkNJU04iICsgaVdITE8pCiAgICBxdWVyeS5zZXQoIlREVFgxNSIsIGNhcnRvblNlcU51bSkKICAgIHF1ZXJ5LnNldCgiVERUWDQwIiwgIkNJU04iICsgaVdITE8pCiAgICBxdWVyeS5zZXQoIlREUkdEVCIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCkpCiAgICBxdWVyeS5zZXQoIlREUkdUTSIsIExvY2FsRGF0ZVRpbWUubm93KCkuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpKQogICAgcXVlcnkuc2V0KCJURExNRFQiLCBMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpKQogICAgcXVlcnkuc2V0KCJURENITk8iLCAxKQogICAgcXVlcnkuc2V0KCJURENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSkKICAgIGFjdGlvbi5pbnNlcnQocXVlcnksIHJlY29yZEV4aXN0cykKICB9CgogIENsb3N1cmUgcmVjb3JkRXhpc3RzID0gewogICAgbWkuZXJyb3IoIlJlY29yZCBBbHJlYWR5IEV4aXN0cyIpCiAgICByZXR1cm4KICB9Cn0="}}}